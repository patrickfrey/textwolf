<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>textwolf: include/textwolf/xmlpathautomaton.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">textwolf
   &#160;<span id="projectnumber">0.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">include/textwolf/xmlpathautomaton.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="xmlpathautomaton_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">---------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">    The template library textwolf implements an input iterator on</span>
<a name="l00004"></a>00004 <span class="comment">    a set of XML path expressions without backward references on an</span>
<a name="l00005"></a>00005 <span class="comment">    STL conforming input iterator as source. It does no buffering</span>
<a name="l00006"></a>00006 <span class="comment">    or read ahead and is dedicated for stream processing of XML</span>
<a name="l00007"></a>00007 <span class="comment">    for a small set of XML queries.</span>
<a name="l00008"></a>00008 <span class="comment">    Stream processing in this context refers to processing the</span>
<a name="l00009"></a>00009 <span class="comment">    document without buffering anything but the current result token</span>
<a name="l00010"></a>00010 <span class="comment">    processed with its tag hierarchy information.</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">    Copyright (C) 2010,2011,2012,2013,2014 Patrick Frey</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">    This library is free software; you can redistribute it and/or</span>
<a name="l00015"></a>00015 <span class="comment">    modify it under the terms of the GNU Lesser General Public</span>
<a name="l00016"></a>00016 <span class="comment">    License as published by the Free Software Foundation; either</span>
<a name="l00017"></a>00017 <span class="comment">    version 3.0 of the License, or (at your option) any later version.</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
<a name="l00020"></a>00020 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00021"></a>00021 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00022"></a>00022 <span class="comment">    Lesser General Public License for more details.</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">    You should have received a copy of the GNU Lesser General Public</span>
<a name="l00025"></a>00025 <span class="comment">    License along with this library; if not, write to the Free Software</span>
<a name="l00026"></a>00026 <span class="comment">    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span>
<a name="l00027"></a>00027 <span class="comment"></span>
<a name="l00028"></a>00028 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00029"></a>00029 <span class="comment"></span>
<a name="l00030"></a>00030 <span class="comment">        The latest version of textwolf can be found at &#39;http://github.com/patrickfrey/textwolf&#39;</span>
<a name="l00031"></a>00031 <span class="comment">        For documentation see &#39;http://patrickfrey.github.com/textwolf&#39;</span>
<a name="l00032"></a>00032 <span class="comment"></span>
<a name="l00033"></a>00033 <span class="comment">--------------------------------------------------------------------</span>
<a name="l00034"></a>00034 <span class="comment">*/</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef __TEXTWOLF_XML_PATH_AUTOMATON_HPP__</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#define __TEXTWOLF_XML_PATH_AUTOMATON_HPP__</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="char_8hpp.html" title="Definition of unicode characters.">textwolf/char.hpp</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="charset_8hpp.html" title="Character set encodings already implemented in textwolf.">textwolf/charset.hpp</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="exception_8hpp.html" title="Definition of exceptions with containing error codes thrown by textwolf.">textwolf/exception.hpp</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="xmlscanner_8hpp.html" title="XML parser iterator interface for processing the XML elements one by one.">textwolf/xmlscanner.hpp</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="staticbuffer_8hpp.html" title="Fixed size buffer fulfilling the requirement of a back insertion sequence needed for textwolf output...">textwolf/staticbuffer.hpp</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;limits&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;stdexcept&gt;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">namespace </span>textwolf {
<a name="l00054"></a>00054 
<a name="l00058"></a>00058 <span class="keyword">template</span> &lt;<span class="keyword">class</span> CharSet_=<span class="keywordtype">char</span>set::UTF8&gt;
<a name="l00059"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html">00059</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061 <span class="keyword">public</span>:
<a name="l00062"></a>00062         <span class="keyword">enum</span>
<a name="l00063"></a>00063         {
<a name="l00064"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884aa5e7553f9dda891b1f2d87abe143c1c6">00064</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884aa5e7553f9dda891b1f2d87abe143c1c6">defaultMemUsage</a>=3*1024,         <span class="comment">//&lt; default memory usage of the XML path select process, if not specified else</span>
<a name="l00065"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884ab948b704c95e7adcc8822d9a79584d54">00065</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884ab948b704c95e7adcc8822d9a79584d54">defaultMaxDepth</a>=32              <span class="comment">//&lt; default max tag stack depth, if not specified else</span>
<a name="l00066"></a>00066         };
<a name="l00067"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">00067</a>         std::size_t <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">memUsage</a>;                   <span class="comment">//&lt; total memory usage</span>
<a name="l00068"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">00068</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">maxDepth</a>;                  <span class="comment">//&lt; max tag stack depth</span>
<a name="l00069"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">00069</a>         std::size_t <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a>;          <span class="comment">//&lt; max scope stack depth</span>
<a name="l00070"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">00070</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">maxFollows</a>;                <span class="comment">//&lt; maximum number of tokens searched in depth</span>
<a name="l00071"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">00071</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">maxTriggers</a>;               <span class="comment">//&lt; maximum number of open triggers</span>
<a name="l00072"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">00072</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">maxTokens</a>;                 <span class="comment">//&lt; maximum number of open tokens</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">public</span>:
<a name="l00076"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a024f64dd49aaee2758a4fdf6dff5a2c9">00076</a>         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a024f64dd49aaee2758a4fdf6dff5a2c9" title="Constructor.">XMLPathSelectAutomaton</a>()
<a name="l00077"></a>00077                 :<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">memUsage</a>(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884aa5e7553f9dda891b1f2d87abe143c1c6">defaultMemUsage</a>)
<a name="l00078"></a>00078                 ,<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">maxDepth</a>(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0e0c8bf661037e546072b6f7fce85884ab948b704c95e7adcc8822d9a79584d54">defaultMaxDepth</a>)
<a name="l00079"></a>00079                 ,<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a>(0)
<a name="l00080"></a>00080                 ,<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">maxFollows</a>(0)
<a name="l00081"></a>00081                 ,<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">maxTriggers</a>(0)
<a name="l00082"></a>00082                 ,<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">maxTokens</a>(0)
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084                 <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584" title="Defines the usage of memory.">setMemUsage</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">memUsage</a>, <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">maxDepth</a>)) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>);
<a name="l00085"></a>00085         }
<a name="l00086"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a369d208883763f5fd08046a76a191082">00086</a>         <span class="keyword">typedef</span> CharSet_ <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a369d208883763f5fd08046a76a191082">CharSet</a>;
<a name="l00087"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa135cb0cf526860150c5b08febb9eb34">00087</a>         <span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa135cb0cf526860150c5b08febb9eb34">Hash</a>;
<a name="l00088"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0b3e802187126a98593bcdaa4ec35534">00088</a>         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton&lt;CharSet&gt;</a> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a0b3e802187126a98593bcdaa4ec35534">ThisXMLPathSelectAutomaton</a>;
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a8add96a9a6dc76a3b079c8ae79c82ca3">00090</a>         <span class="keyword">virtual</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a8add96a9a6dc76a3b079c8ae79c82ca3">~XMLPathSelectAutomaton</a>(){}
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="keyword">public</span>:
<a name="l00095"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710">00095</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710">Operation</a>
<a name="l00096"></a>00096         {
<a name="l00097"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">00097</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">Content</a>,                        <span class="comment">//&lt; searching content token</span>
<a name="l00098"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">00098</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">Tag</a>,                            <span class="comment">//&lt; searching a tag</span>
<a name="l00099"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">00099</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>,                      <span class="comment">//&lt; searching an attribute</span>
<a name="l00100"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">00100</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>,             <span class="comment">//&lt; checking the value of the attribute just parsed (not an arbitrary but this one)</span>
<a name="l00101"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff">00101</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff">AttributeValue</a>,                 <span class="comment">//&lt; searching a value of an attribute</span>
<a name="l00102"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e">00102</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e">ContentStart</a>                    <span class="comment">//&lt; looking for the start of content (to signal the end of the XML header)</span>
<a name="l00103"></a>00103         };
<a name="l00104"></a>00104 
<a name="l00107"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a58a3549f008953ee0d29ad154f16a683">00107</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a58a3549f008953ee0d29ad154f16a683" title="Get the name of the operation as string.">operationName</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710">Operation</a> op)
<a name="l00108"></a>00108         {
<a name="l00109"></a>00109                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* name[ 6] = {<span class="stringliteral">&quot;Content&quot;</span>, <span class="stringliteral">&quot;Tag&quot;</span>, <span class="stringliteral">&quot;Attribute&quot;</span>, <span class="stringliteral">&quot;ThisAttributeValue&quot;</span>, <span class="stringliteral">&quot;AttributeValue&quot;</span>, <span class="stringliteral">&quot;ContentStart&quot;</span>};
<a name="l00110"></a>00110                 <span class="keywordflow">return</span> name[ (<span class="keywordtype">unsigned</span> int)op];
<a name="l00111"></a>00111         }
<a name="l00112"></a>00112 
<a name="l00115"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html">00115</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>
<a name="l00116"></a>00116         {
<a name="l00117"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">00117</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>;                     <span class="comment">//&lt; positively selected elements bitmask</span>
<a name="l00118"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">00118</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>;                     <span class="comment">//&lt; negatively selected elements bitmask that determines when a search pattern is given up copletely</span>
<a name="l00119"></a>00119 
<a name="l00122"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a729b7f6dc0f8b5313ab11436d3b7ac7d">00122</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a729b7f6dc0f8b5313ab11436d3b7ac7d" title="Tells if mask does not select anything anymore.">empty</a>()<span class="keyword"> const                                                              </span>{<span class="keywordflow">return</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>==0);}
<a name="l00123"></a>00123 
<a name="l00127"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a93f64eb289c591fb1615a0469a45c592">00127</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a93f64eb289c591fb1615a0469a45c592" title="Constructor by values.">Mask</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> p_pos=0, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> p_neg=0):<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>(p_pos),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>(p_neg) {}
<a name="l00128"></a>00128 
<a name="l00131"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a78bf4dd6196efa3995f2afc97230cf91">00131</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a78bf4dd6196efa3995f2afc97230cf91" title="Copy constructor.">Mask</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; orig)                                                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>) {}
<a name="l00132"></a>00132 
<a name="l00134"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a701bb8cb3ecba4b450f4ef7f7251ae99">00134</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a701bb8cb3ecba4b450f4ef7f7251ae99" title="Constructor by operation type.">Mask</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)                                                             :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>(0) {this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>(op);}
<a name="l00135"></a>00135 
<a name="l00137"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5">00137</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5" title="Reset operation (deactivate)">reset</a>()                                                                    {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>=0; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>=0;}
<a name="l00138"></a>00138 
<a name="l00140"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8">00140</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)                                     {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a> |= (1&lt;&lt;(<span class="keywordtype">unsigned</span> short)e);}
<a name="l00141"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">00141</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const                            </span>{<span class="keywordflow">return</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)) != 0;}
<a name="l00142"></a>00142 
<a name="l00144"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769">00144</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)                                      {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a> |= (1&lt;&lt;(<span class="keywordtype">unsigned</span> short)e);}
<a name="l00145"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">00145</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const                             </span>{<span class="keywordflow">return</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)) != 0;}
<a name="l00146"></a>00146 
<a name="l00148"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556">00148</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)
<a name="l00149"></a>00149                 {
<a name="l00150"></a>00150                         <span class="keywordflow">switch</span> (op)
<a name="l00151"></a>00151                         {
<a name="l00152"></a>00152                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">Tag</a>:
<a name="l00153"></a>00153                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>);
<a name="l00154"></a>00154                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">XMLScannerBase::HeaderStart</a>);
<a name="l00155"></a>00155                                         <span class="keywordflow">break</span>;
<a name="l00156"></a>00156                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>:
<a name="l00157"></a>00157                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>);
<a name="l00158"></a>00158                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>);
<a name="l00159"></a>00159                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l00160"></a>00160                                         <span class="keywordflow">break</span>;
<a name="l00161"></a>00161                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>:
<a name="l00162"></a>00162                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>);
<a name="l00163"></a>00163                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>);
<a name="l00164"></a>00164                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>);
<a name="l00165"></a>00165                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>);
<a name="l00166"></a>00166                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l00167"></a>00167                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>);
<a name="l00168"></a>00168                                         <span class="keywordflow">break</span>;
<a name="l00169"></a>00169                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff">AttributeValue</a>:
<a name="l00170"></a>00170                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>);
<a name="l00171"></a>00171                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>);
<a name="l00172"></a>00172                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l00173"></a>00173                                         <span class="keywordflow">break</span>;
<a name="l00174"></a>00174                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">Content</a>:
<a name="l00175"></a>00175                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l00176"></a>00176                                         <span class="keywordflow">break</span>;
<a name="l00177"></a>00177                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e">ContentStart</a>:
<a name="l00178"></a>00178                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd" title="end of XML header event (after parsing &#39;?&gt;&#39;)">XMLScannerBase::HeaderEnd</a>);
<a name="l00179"></a>00179                                         <span class="keywordflow">break</span>;
<a name="l00180"></a>00180                         }
<a name="l00181"></a>00181                 }
<a name="l00182"></a>00182 
<a name="l00183"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#aad68519af4acdcd307829e4a7048bde8">00183</a>                 <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#aad68519af4acdcd307829e4a7048bde8">seekopName</a>()<span class="keyword"> const</span>
<a name="l00184"></a>00184 <span class="keyword">                </span>{
<a name="l00185"></a>00185                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>)
<a name="l00186"></a>00186                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">XMLScannerBase::HeaderStart</a>))
<a name="l00187"></a>00187                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;Tag&quot;</span>;
<a name="l00188"></a>00188 
<a name="l00189"></a>00189                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>)
<a name="l00190"></a>00190                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>)
<a name="l00191"></a>00191                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>))
<a name="l00192"></a>00192                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;Attribute&quot;</span>;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>)
<a name="l00195"></a>00195                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>)
<a name="l00196"></a>00196                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>))
<a name="l00197"></a>00197                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;AttributeValue&quot;</span>;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>)
<a name="l00200"></a>00200                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>)
<a name="l00201"></a>00201                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>)
<a name="l00202"></a>00202                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>)
<a name="l00203"></a>00203                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>)
<a name="l00204"></a>00204                         &amp;&amp;  this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#adeaafb99e7b408bd8c69258060dd8ce3">hasReject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>))
<a name="l00205"></a>00205                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;ThisAttributeValue&quot;</span>;
<a name="l00206"></a>00206 
<a name="l00207"></a>00207                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>))
<a name="l00208"></a>00208                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;Content&quot;</span>;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210                         <span class="keywordflow">if</span> (this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a9f2d9743743c9f717657e4fdb07e9a9e">hasMatch</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd" title="end of XML header event (after parsing &#39;?&gt;&#39;)">XMLScannerBase::HeaderEnd</a>))
<a name="l00211"></a>00211                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;ContentStart&quot;</span>;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a> == 0 &amp;&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a> == 0)
<a name="l00214"></a>00214                                 <span class="keywordflow">return</span> <span class="stringliteral">&quot;None&quot;</span>;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216                         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;
<a name="l00217"></a>00217                 }
<a name="l00218"></a>00218 
<a name="l00221"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a14cdec6f9747b30d80dee2b36c176697">00221</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a14cdec6f9747b30d80dee2b36c176697" title="Join two mask definitions.">join</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; mask)                            {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a> |= mask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a> |= mask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a>;}
<a name="l00222"></a>00222 
<a name="l00225"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a26c7aceefd9d251e7a1f6201dc3ec808">00225</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a26c7aceefd9d251e7a1f6201dc3ec808" title="Check if an element type matches the mask.">matches</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const      </span>{<span class="keywordflow">return</span> (0 != (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">pos</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)));}
<a name="l00226"></a>00226 
<a name="l00229"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a0661275862c65b5d8e0bf8659e345e58">00229</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a0661275862c65b5d8e0bf8659e345e58" title="Check if an element type should reset a mask.">rejects</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const      </span>{<span class="keywordflow">return</span> (0 != (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">neg</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)));}
<a name="l00230"></a>00230         };
<a name="l00231"></a>00231 
<a name="l00234"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html">00234</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a>
<a name="l00235"></a>00235         {
<a name="l00236"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">00236</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a>;                      <span class="comment">//&lt; mask definiting what tokens are matching this state</span>
<a name="l00237"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">00237</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a>;                    <span class="comment">//&lt; true, if the state is seeking tokens in all follow scopes in the XML tree</span>
<a name="l00238"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">00238</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>;                    <span class="comment">//&lt; type of the element emitted by this state on a match</span>
<a name="l00239"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">00239</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a>;                  <span class="comment">//&lt; lower bound of the element index matching (for index ranges)</span>
<a name="l00240"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">00240</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a>;                    <span class="comment">//&lt; upper bound of the element index matching (for index ranges)</span>
<a name="l00241"></a>00241 
<a name="l00243"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a90f238fae8b4f8a2c0ee7f5cf97619cc">00243</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a90f238fae8b4f8a2c0ee7f5cf97619cc" title="Constructor.">Core</a>()                  :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a>(false),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a>(-1) {}
<a name="l00246"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a71577dd05a050c4f3f9e07532c893abf">00246</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a71577dd05a050c4f3f9e07532c893abf" title="Copy constructor.">Core</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a>&amp; o)    :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a>) {}
<a name="l00247"></a>00247         };
<a name="l00248"></a>00248 
<a name="l00251"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html">00251</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>
<a name="l00252"></a>00252         {
<a name="l00253"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">00253</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>;                      <span class="comment">//&lt; core of the state (the part used in processing)</span>
<a name="l00254"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">00254</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>;           <span class="comment">//&lt; key size of the element</span>
<a name="l00255"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">00255</a>                 <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>;                      <span class="comment">//&lt; key of the element</span>
<a name="l00256"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">00256</a>                 <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>;                   <span class="comment">//&lt; key of the element as in source (for debugging or reporting, etc.)</span>
<a name="l00257"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">00257</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a>;                       <span class="comment">//&lt; follow state</span>
<a name="l00258"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">00258</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a>;                       <span class="comment">//&lt; alternative state to check</span>
<a name="l00259"></a>00259 
<a name="l00261"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072">00261</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072" title="Constructor.">State</a>()
<a name="l00262"></a>00262                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a>(-1),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a>(-1) {}
<a name="l00263"></a>00263 
<a name="l00266"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ae1f588865f3a0376af07d2d0552e2c89">00266</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072" title="Constructor.">State</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; orig)
<a name="l00267"></a>00267                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a>)
<a name="l00268"></a>00268                 {
<a name="l00269"></a>00269                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>, orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>, orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>);
<a name="l00270"></a>00270                 }
<a name="l00271"></a>00271 
<a name="l00273"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a8af83f08b75c409c4d31ff834fdfc6b5">00273</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a8af83f08b75c409c4d31ff834fdfc6b5" title="Destructor.">~State</a>()
<a name="l00274"></a>00274                 {
<a name="l00275"></a>00275                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>) <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>;
<a name="l00276"></a>00276                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>) <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>;
<a name="l00277"></a>00277                 }
<a name="l00278"></a>00278 
<a name="l00281"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a393333d6e415258ab047a6c33c5bfbf2">00281</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a393333d6e415258ab047a6c33c5bfbf2" title="Check it the state definition is empty.">isempty</a>()                          {<span class="keywordflow">return</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>==0&amp;&amp;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>==0;}
<a name="l00282"></a>00282 
<a name="l00287"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0">00287</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_key, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_srckey)
<a name="l00288"></a>00288                 {
<a name="l00289"></a>00289                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l00290"></a>00290                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>)
<a name="l00291"></a>00291                         {
<a name="l00292"></a>00292                                 <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>;
<a name="l00293"></a>00293                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a> = 0;
<a name="l00294"></a>00294                         }
<a name="l00295"></a>00295                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>)
<a name="l00296"></a>00296                         {
<a name="l00297"></a>00297                                 <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>;
<a name="l00298"></a>00298                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a> = 0;
<a name="l00299"></a>00299                         }
<a name="l00300"></a>00300                         <span class="keywordflow">if</span> (p_key)
<a name="l00301"></a>00301                         {
<a name="l00302"></a>00302                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[ <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>=p_keysize];
<a name="l00303"></a>00303                                 <span class="keywordflow">for</span> (ii=0; ii&lt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">keysize</a>; ii++) <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">key</a>[ii]=p_key[ii];
<a name="l00304"></a>00304                         }
<a name="l00305"></a>00305                         <span class="keywordflow">if</span> (p_srckey)
<a name="l00306"></a>00306                         {
<a name="l00307"></a>00307                                 <span class="keywordflow">for</span> (ii=0; p_srckey[ii]!=0; ii++);
<a name="l00308"></a>00308                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[ ii+1];
<a name="l00309"></a>00309                                 <span class="keywordflow">for</span> (ii=0; p_srckey[ii]!=0; ii++) <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>[ii]=p_srckey[ii];
<a name="l00310"></a>00310                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>[ ii] = 0;
<a name="l00311"></a>00311                         }
<a name="l00312"></a>00312                 }
<a name="l00313"></a>00313 
<a name="l00321"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#addff11d276a281351140ea8924526720">00321</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#addff11d276a281351140ea8924526720" title="Define a state transition by key and operation.">defineNext</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_key, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_srckey, <span class="keywordtype">int</span> p_next, <span class="keywordtype">bool</span> p_follow=<span class="keyword">false</span>)
<a name="l00322"></a>00322                 {
<a name="l00323"></a>00323                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( op);
<a name="l00324"></a>00324                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( p_keysize, p_key, p_srckey);
<a name="l00325"></a>00325                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a> = p_next;
<a name="l00326"></a>00326                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a> = p_follow;
<a name="l00327"></a>00327                 }
<a name="l00328"></a>00328 
<a name="l00335"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82330cdb9807bd3145fd601d8d2c9b45">00335</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82330cdb9807bd3145fd601d8d2c9b45" title="Define an element output operation.">defineOutput</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; mask, <span class="keywordtype">int</span> p_typeidx, <span class="keywordtype">bool</span> p_follow, <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)
<a name="l00336"></a>00336                 {
<a name="l00337"></a>00337                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a> = mask;
<a name="l00338"></a>00338                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a> = p_typeidx;
<a name="l00339"></a>00339                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a> = p_end;
<a name="l00340"></a>00340                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a> = p_start;
<a name="l00341"></a>00341                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a> = p_follow;
<a name="l00342"></a>00342                 }
<a name="l00343"></a>00343 
<a name="l00346"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82becfe2f2a1ad6f6cc0398f7c83cd6b">00346</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82becfe2f2a1ad6f6cc0398f7c83cd6b" title="Link another state to check to the current state.">defLink</a>( <span class="keywordtype">int</span> p_link)
<a name="l00347"></a>00347                 {
<a name="l00348"></a>00348                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a> = p_link;
<a name="l00349"></a>00349                 }
<a name="l00350"></a>00350 
<a name="l00351"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a12e709ee319f984e761cb8e540823c93">00351</a>                 std::string <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a12e709ee319f984e761cb8e540823c93">tostring</a>()<span class="keyword"> const</span>
<a name="l00352"></a>00352 <span class="keyword">                </span>{
<a name="l00353"></a>00353                         std::ostringstream rt;
<a name="l00354"></a>00354                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a> &gt;= 0) rt &lt;&lt; <span class="stringliteral">&quot; -&gt;&quot;</span> &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">next</a>;
<a name="l00355"></a>00355                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a> &gt;= 0) rt &lt;&lt; <span class="stringliteral">&quot; ~&quot;</span> &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">link</a>;
<a name="l00356"></a>00356                         rt &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00357"></a>00357                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">follow</a>)
<a name="l00358"></a>00358                         {
<a name="l00359"></a>00359                                 rt &lt;&lt; <span class="charliteral">&#39;/&#39;</span>;
<a name="l00360"></a>00360                         }
<a name="l00361"></a>00361                         rt &lt;&lt; <span class="charliteral">&#39;/&#39;</span>;
<a name="l00362"></a>00362                         rt &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">mask</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#aad68519af4acdcd307829e4a7048bde8">seekopName</a>();
<a name="l00363"></a>00363                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a>)
<a name="l00364"></a>00364                         {
<a name="l00365"></a>00365                                 rt &lt;&lt; <span class="stringliteral">&quot; &#39;&quot;</span> &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">srckey</a> &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00366"></a>00366                         }
<a name="l00367"></a>00367                         <span class="keywordflow">else</span>
<a name="l00368"></a>00368                         {
<a name="l00369"></a>00369                                 rt &lt;&lt; <span class="stringliteral">&quot; (null)&quot;</span>;
<a name="l00370"></a>00370                         }
<a name="l00371"></a>00371                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a> &gt; 0)
<a name="l00372"></a>00372                         {
<a name="l00373"></a>00373                                 rt &lt;&lt; <span class="charliteral">&#39;[&#39;</span> &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">cnt_start</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; rt &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">cnt_end</a> &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;
<a name="l00374"></a>00374                         }
<a name="l00375"></a>00375                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>)
<a name="l00376"></a>00376                         {
<a name="l00377"></a>00377                                 rt &lt;&lt; <span class="stringliteral">&quot; =&gt;&quot;</span> &lt;&lt; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">typeidx</a>;
<a name="l00378"></a>00378                         }
<a name="l00379"></a>00379                         <span class="keywordflow">return</span> rt.str();
<a name="l00380"></a>00380                 }
<a name="l00381"></a>00381         };
<a name="l00382"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">00382</a>         std::vector&lt;State&gt; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>;                              <span class="comment">//&lt; the states of the statemachine</span>
<a name="l00383"></a>00383 
<a name="l00385"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ad837785e1c091dca35c01ba3bf6cbd6e">00385</a>         std::string <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ad837785e1c091dca35c01ba3bf6cbd6e" title="Returns the content of the automaton as pretty printed string for debug output.">tostring</a>()<span class="keyword"> const</span>
<a name="l00386"></a>00386 <span class="keyword">        </span>{
<a name="l00387"></a>00387                 std::ostringstream rt;
<a name="l00388"></a>00388                 <span class="keyword">typename</span> std::vector&lt;State&gt;::const_iterator ii=<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.begin(), ee=<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.end();
<a name="l00389"></a>00389                 <span class="keywordflow">for</span> (; ii != ee; ++ii)
<a name="l00390"></a>00390                 {
<a name="l00391"></a>00391                         rt &lt;&lt; (int)(ii-<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.begin()) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; ii-&gt;tostring() &lt;&lt; std::endl;
<a name="l00392"></a>00392                 }
<a name="l00393"></a>00393                 <span class="keywordflow">return</span> rt.str();
<a name="l00394"></a>00394         }
<a name="l00395"></a>00395 
<a name="l00398"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html">00398</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>
<a name="l00399"></a>00399         {
<a name="l00400"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">00400</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">core</a>;                                      <span class="comment">//&lt; core of the state</span>
<a name="l00401"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">00401</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">stateidx</a>;                                   <span class="comment">//&lt; index into the automaton, poiting to the state</span>
<a name="l00402"></a>00402 
<a name="l00404"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a7a536fe50cfe35c6b3bc6ccef0a1fd2e">00404</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a7a536fe50cfe35c6b3bc6ccef0a1fd2e" title="Constructor.">Token</a>()                                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">stateidx</a>(-1) {}
<a name="l00406"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a8be8e8b900f01a245b78a29a41a68f38">00406</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a8be8e8b900f01a245b78a29a41a68f38" title="Copy constructor.">Token</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>&amp; orig)                       :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">core</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">stateidx</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">stateidx</a>) {}
<a name="l00410"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a13ea6c136791dda7eb46729c3c524814">00410</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a13ea6c136791dda7eb46729c3c524814" title="Constructor by value.">Token</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; state, <span class="keywordtype">int</span> p_stateidx)      :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">core</a>(state.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">stateidx</a>(p_stateidx) {}
<a name="l00411"></a>00411         };
<a name="l00412"></a>00412 
<a name="l00415"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html">00415</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>
<a name="l00416"></a>00416         {
<a name="l00417"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">00417</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">mask</a>;                                      <span class="comment">//&lt; joined mask of all tokens active in this scope</span>
<a name="l00418"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">00418</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">followMask</a>;                                <span class="comment">//&lt; joined mask of all tokens active in this and all sub scopes of this scope</span>
<a name="l00419"></a>00419 
<a name="l00422"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html">00422</a>                 <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html" title="Range on the token stack with all tokens that belong to this scope.">Range</a>
<a name="l00423"></a>00423                 {
<a name="l00424"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">00424</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">tokenidx_from</a>;             <span class="comment">//&lt; lower bound token index</span>
<a name="l00425"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">00425</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">tokenidx_to</a>;               <span class="comment">//&lt; upper bound token index</span>
<a name="l00426"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">00426</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">followidx</a>;                 <span class="comment">//&lt; pointer to follow token stack with tokens active in this and all sub scopes of this scope</span>
<a name="l00427"></a>00427 
<a name="l00429"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a66a5d462b0674eec1cbfe2bea351592d">00429</a>                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a66a5d462b0674eec1cbfe2bea351592d" title="Constructor.">Range</a>()                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">tokenidx_from</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">tokenidx_to</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">followidx</a>(0) {}
<a name="l00432"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a39512f5467c53af5a20143f1d2d13ecb">00432</a>                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a39512f5467c53af5a20143f1d2d13ecb" title="Copy constructor.">Range</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)       :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">tokenidx_from</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">tokenidx_from</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">tokenidx_to</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">tokenidx_to</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">followidx</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">followidx</a>) {}
<a name="l00433"></a>00433                 };
<a name="l00434"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">00434</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html" title="Range on the token stack with all tokens that belong to this scope.">Range</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">range</a>;                                                    <span class="comment">//&lt; valid (active) token range of this scope (on the token stacks)</span>
<a name="l00435"></a>00435 
<a name="l00438"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a90bf0d16b45ce5fe489532aeb72a0742">00438</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a90bf0d16b45ce5fe489532aeb72a0742" title="Copy constructor.">Scope</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)               :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">mask</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">mask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">followMask</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">followMask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">range</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">range</a>) {}
<a name="l00441"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a185120e26af580874e8635fb66f1334d">00441</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a185120e26af580874e8635fb66f1334d" title="Assignement operator.">operator =</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)   {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">mask</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">mask</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">followMask</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">followMask</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">range</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">range</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00443"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a839df6db665f50b42680c6163734e0b3">00443</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a839df6db665f50b42680c6163734e0b3" title="Constructor.">Scope</a>()                                 {}
<a name="l00444"></a>00444         };
<a name="l00445"></a>00445 
<a name="l00450"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584">00450</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584" title="Defines the usage of memory.">setMemUsage</a>( std::size_t p_memUsage, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_maxDepth)
<a name="l00451"></a>00451         {
<a name="l00452"></a>00452                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">memUsage</a> = p_memUsage;
<a name="l00453"></a>00453                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">maxDepth</a> = p_maxDepth;
<a name="l00454"></a>00454                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a> = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">maxDepth</a>;
<a name="l00455"></a>00455                 <span class="keywordflow">if</span> (p_memUsage &lt; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a> * <span class="keyword">sizeof</span>(Scope))
<a name="l00456"></a>00456                 {
<a name="l00457"></a>00457                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a> = 0;
<a name="l00458"></a>00458                 }
<a name="l00459"></a>00459                 <span class="keywordflow">else</span>
<a name="l00460"></a>00460                 {
<a name="l00461"></a>00461                         p_memUsage -= <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a> * <span class="keyword">sizeof</span>(Scope);
<a name="l00462"></a>00462                 }
<a name="l00463"></a>00463                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">maxFollows</a> = (p_memUsage / <span class="keyword">sizeof</span>(std::size_t)) / 32 + 2;
<a name="l00464"></a>00464                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">maxTriggers</a> = (p_memUsage / <span class="keyword">sizeof</span>(std::size_t)) / 32 + 3;
<a name="l00465"></a>00465                 p_memUsage -= <span class="keyword">sizeof</span>(std::size_t) * <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">maxFollows</a> + <span class="keyword">sizeof</span>(std::size_t) * <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">maxTriggers</a>;
<a name="l00466"></a>00466                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">maxTokens</a> = p_memUsage / <span class="keyword">sizeof</span>(Token);
<a name="l00467"></a>00467                 <span class="keywordflow">return</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">maxScopeStackSize</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">maxTokens</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">maxFollows</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">maxTriggers</a> != 0);
<a name="l00468"></a>00468         }
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 <span class="keyword">private</span>:
<a name="l00479"></a>00479         <span class="keywordtype">int</span> defineNext( <span class="keywordtype">int</span> stateidx, <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <span class="keywordtype">char</span>* srckey, <span class="keywordtype">bool</span> follow=<span class="keyword">false</span>) throw(<a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>)
<a name="l00480"></a>00480         {
<a name="l00481"></a>00481                 <span class="keywordflow">try</span>
<a name="l00482"></a>00482                 {
<a name="l00483"></a>00483                         State state;
<a name="l00484"></a>00484                         <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size() == 0)
<a name="l00485"></a>00485                         {
<a name="l00486"></a>00486                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size();
<a name="l00487"></a>00487                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.push_back( state);
<a name="l00488"></a>00488                         }
<a name="l00489"></a>00489                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ee=stateidx; ee != -1; stateidx=ee,ee=<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].link)
<a name="l00490"></a>00490                         {
<a name="l00491"></a>00491                                 <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].key != 0 &amp;&amp; keysize == <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].keysize &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].core.follow == follow)
<a name="l00492"></a>00492                                 {
<a name="l00493"></a>00493                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l00494"></a>00494                                         <span class="keywordflow">for</span> (ii=0; ii&lt;keysize &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].key[ii]==key[ii]; ii++);
<a name="l00495"></a>00495                                         <span class="keywordflow">if</span> (ii == keysize) <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ee].next;
<a name="l00496"></a>00496                                 }
<a name="l00497"></a>00497                         }
<a name="l00498"></a>00498                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[stateidx].isempty())
<a name="l00499"></a>00499                         {
<a name="l00500"></a>00500                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[stateidx].link = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size();
<a name="l00501"></a>00501                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.push_back( state);
<a name="l00502"></a>00502                         }
<a name="l00503"></a>00503                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.push_back( state);
<a name="l00504"></a>00504                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lastidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size()-1;
<a name="l00505"></a>00505                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ stateidx].defineNext( op, keysize, key, srckey, lastidx, follow);
<a name="l00506"></a>00506                         <span class="keywordflow">return</span> stateidx=lastidx;
<a name="l00507"></a>00507                 }
<a name="l00508"></a>00508                 <span class="keywordflow">catch</span> (std::bad_alloc)
<a name="l00509"></a>00509                 {
<a name="l00510"></a>00510                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l00511"></a>00511                 }
<a name="l00512"></a>00512                 <span class="keywordflow">catch</span> (...)
<a name="l00513"></a>00513                 {
<a name="l00514"></a>00514                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf" title="uknown error">Unknown</a>);
<a name="l00515"></a>00515                 }
<a name="l00516"></a>00516         }
<a name="l00517"></a>00517 
<a name="l00526"></a>00526         <span class="keywordtype">int</span> defineOutput( <span class="keywordtype">int</span> stateidx, <span class="keyword">const</span> Mask&amp; printOpMask, <span class="keywordtype">int</span> typeidx, <span class="keywordtype">bool</span> follow, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end) <span class="keywordflow">throw</span>(exception)
<a name="l00527"></a>00527         {
<a name="l00528"></a>00528                 <span class="keywordflow">try</span>
<a name="l00529"></a>00529                 {
<a name="l00530"></a>00530                         State state;
<a name="l00531"></a>00531                         <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size() == 0)
<a name="l00532"></a>00532                         {
<a name="l00533"></a>00533                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size();
<a name="l00534"></a>00534                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.push_back( state);
<a name="l00535"></a>00535                         }
<a name="l00536"></a>00536                         <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)stateidx &gt;= <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size()) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0af51b9be90fdb3435412a3c551f699aa8" title="parameter check in automaton definition failed. Internal textwold error !">IllegalParam</a>);
<a name="l00537"></a>00537 
<a name="l00538"></a>00538                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[stateidx].isempty())
<a name="l00539"></a>00539                         {
<a name="l00540"></a>00540                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[stateidx].link = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.size();
<a name="l00541"></a>00541                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>.push_back( state);
<a name="l00542"></a>00542                         }
<a name="l00543"></a>00543                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">states</a>[ stateidx].defineOutput( printOpMask, typeidx, follow, start, end);
<a name="l00544"></a>00544                         <span class="keywordflow">return</span> stateidx;
<a name="l00545"></a>00545                 }
<a name="l00546"></a>00546                 <span class="keywordflow">catch</span> (std::bad_alloc)
<a name="l00547"></a>00547                 {
<a name="l00548"></a>00548                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l00549"></a>00549                 }
<a name="l00550"></a>00550                 <span class="keywordflow">catch</span> (...)
<a name="l00551"></a>00551                 {
<a name="l00552"></a>00552                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf" title="uknown error">Unknown</a>);
<a name="l00553"></a>00553                 }
<a name="l00554"></a>00554         }
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <span class="keyword">public</span>:
<a name="l00560"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html">00560</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a> :<a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l00561"></a>00561         {
<a name="l00562"></a>00562         <span class="keyword">private</span>:
<a name="l00563"></a>00563                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a>* xs;             <span class="comment">//&lt; XML Path select automaton where this node is an element of</span>
<a name="l00564"></a>00564                 <span class="keywordtype">int</span> stateidx;                           <span class="comment">//&lt; state of this element in the automaton</span>
<a name="l00565"></a>00565 
<a name="l00568"></a>00568                 <span class="keyword">struct </span>Range
<a name="l00569"></a>00569                 {
<a name="l00570"></a>00570                         <span class="keywordtype">int</span> start;                      <span class="comment">//&lt; index of starting element starting with 0</span>
<a name="l00571"></a>00571                         <span class="keywordtype">int</span> end;                        <span class="comment">//&lt; index of upper boundary element (not belonging to range anymore). -1 if undefined (unlimited)</span>
<a name="l00572"></a>00572 
<a name="l00575"></a>00575                         Range( <span class="keyword">const</span> Range&amp; o)          :start(o.start),end(o.end){}
<a name="l00579"></a>00579                         Range( <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)  :start(p_start),end(p_end){}
<a name="l00582"></a>00582                         Range( <span class="keywordtype">int</span> count)               :start(0),end(count){}
<a name="l00584"></a>00584                         Range()                         :start(0),end(-1){}
<a name="l00585"></a>00585                 };
<a name="l00586"></a>00586                 Range range;                    <span class="comment">//&lt; Index range of this XML path element</span>
<a name="l00587"></a>00587                 <span class="keywordtype">bool</span> follow;                    <span class="comment">//&lt; true, if this element is active (firing) for all sub scopes of the activation scope</span>
<a name="l00588"></a>00588                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> pushOpMask;                <span class="comment">//&lt; mask for firing element actions</span>
<a name="l00589"></a>00589                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> printOpMask;               <span class="comment">//&lt; mask for printing element actions</span>
<a name="l00590"></a>00590 
<a name="l00591"></a>00591         <span class="keyword">private</span>:
<a name="l00595"></a>00595                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)
<a name="l00596"></a>00596                 {
<a name="l00597"></a>00597                         printOpMask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5" title="Reset operation (deactivate)">reset</a>();
<a name="l00598"></a>00598                         printOpMask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( op);
<a name="l00599"></a>00599                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00600"></a>00600                 }
<a name="l00601"></a>00601 
<a name="l00606"></a>00606                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception)
<a name="l00607"></a>00607                 {
<a name="l00608"></a>00608                         <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html" title="Defines the set of tag characters.">XMLScannerBase::IsTagCharMap</a> isTagCharMap;
<a name="l00609"></a>00609                         <span class="keywordflow">if</span> (xs != 0)
<a name="l00610"></a>00610                         {
<a name="l00611"></a>00611                                 <span class="keywordflow">if</span> (value)
<a name="l00612"></a>00612                                 {
<a name="l00613"></a>00613                                         <span class="keywordtype">char</span> buf[ 1024];
<a name="l00614"></a>00614                                         <a class="code" href="classtextwolf_1_1StaticBuffer.html" title="Simple back insertion sequence for storing the outputs of textwolf in a contant size buffer...">StaticBuffer</a> pb( buf, <span class="keyword">sizeof</span>(buf));
<a name="l00615"></a>00615                                         <span class="keywordtype">char</span>* itr = <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(value);
<a name="l00616"></a>00616                                         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">XMLScanner&lt;char*,CharSet,CharSet,StaticBuffer&gt;</a> StaticXMLScanner;
<a name="l00617"></a>00617                                         <span class="keywordflow">if</span> (!StaticXMLScanner::parseStaticToken( isTagCharMap, itr, pb))
<a name="l00618"></a>00618                                         {
<a name="l00619"></a>00619                                                 <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a1da96eb27d5013265b863eebbdf8f9b0" title="invalid string for a tag or attribute in the automaton definition. Usage error !">IllegalAttributeName</a>);
<a name="l00620"></a>00620                                         }
<a name="l00621"></a>00621                                         stateidx = xs-&gt;defineNext( stateidx, op, pb.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a17dfe1ed87855240c11e95128dc7fb3e" title="Return the number of characters in the buffer.">size</a>(), pb.<a class="code" href="classtextwolf_1_1StaticBuffer.html#aa214f742efe32498abf682a072e0bc87" title="Return the buffer content as 0-terminated string.">ptr</a>(), value, follow);
<a name="l00622"></a>00622                                 }
<a name="l00623"></a>00623                                 <span class="keywordflow">else</span>
<a name="l00624"></a>00624                                 {
<a name="l00625"></a>00625                                         stateidx = xs-&gt;defineNext( stateidx, op, 0, 0, 0, follow);
<a name="l00626"></a>00626                                 }
<a name="l00627"></a>00627                         }
<a name="l00628"></a>00628                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00629"></a>00629                 }
<a name="l00630"></a>00630 
<a name="l00633"></a>00633                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doFollow()
<a name="l00634"></a>00634                 {
<a name="l00635"></a>00635                         follow = <span class="keyword">true</span>;
<a name="l00636"></a>00636                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00637"></a>00637                 }
<a name="l00638"></a>00638 
<a name="l00643"></a>00643                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doRange( <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)
<a name="l00644"></a>00644                 {
<a name="l00645"></a>00645                         <span class="keywordflow">if</span> (range.end == -1)
<a name="l00646"></a>00646                         {
<a name="l00647"></a>00647                                 range = Range( p_start, p_end);
<a name="l00648"></a>00648                         }
<a name="l00649"></a>00649                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_end &lt; range.end)
<a name="l00650"></a>00650                         {
<a name="l00651"></a>00651                                 range.end = p_end;
<a name="l00652"></a>00652                         }
<a name="l00653"></a>00653                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_start &gt; range.start)
<a name="l00654"></a>00654                         {
<a name="l00655"></a>00655                                 range.start = p_start;
<a name="l00656"></a>00656                         }
<a name="l00657"></a>00657                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00658"></a>00658                 }
<a name="l00659"></a>00659 
<a name="l00663"></a>00663                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doCount( <span class="keywordtype">int</span> p_count)
<a name="l00664"></a>00664                 {
<a name="l00665"></a>00665                         <span class="keywordflow">return</span> doRange( 0, p_count);
<a name="l00666"></a>00666                 }
<a name="l00667"></a>00667 
<a name="l00671"></a>00671                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doStart( <span class="keywordtype">int</span> p_start)
<a name="l00672"></a>00672                 {
<a name="l00673"></a>00673                         <span class="keywordflow">return</span> doRange( p_start, std::numeric_limits&lt;int&gt;::max());
<a name="l00674"></a>00674                 }
<a name="l00675"></a>00675 
<a name="l00679"></a>00679                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; push( <span class="keywordtype">int</span> typeidx) <span class="keywordflow">throw</span>(exception)
<a name="l00680"></a>00680                 {
<a name="l00681"></a>00681                         <span class="keywordflow">if</span> (xs != 0) stateidx = xs-&gt;defineOutput( stateidx, printOpMask, typeidx, follow, range.start, range.end);
<a name="l00682"></a>00682                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00683"></a>00683                 }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685         <span class="keyword">public</span>:
<a name="l00687"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa8c049c2f4475f8b3174c65847a18cae">00687</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa8c049c2f4475f8b3174c65847a18cae" title="Constructor.">PathElement</a>()                                                   :xs(0),stateidx(0),follow(false),pushOpMask(0),printOpMask(0){}
<a name="l00691"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a2eeed2a03b4f3d2573cedc63eb97b835">00691</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a2eeed2a03b4f3d2573cedc63eb97b835" title="Constructor by values.">PathElement</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a>* p_xs, <span class="keywordtype">int</span> p_si=0)          :xs(p_xs),stateidx(p_si),follow(false),pushOpMask(0),printOpMask(0){}
<a name="l00694"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a10e50655d69afd06bd3b2c033832c880">00694</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a10e50655d69afd06bd3b2c033832c880" title="Copy constructor.">PathElement</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; orig)                           :xs(orig.xs),stateidx(orig.stateidx),range(orig.range),follow(orig.follow),pushOpMask(orig.pushOpMask),printOpMask(orig.printOpMask) {}
<a name="l00695"></a>00695 
<a name="l00698"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ada9ade6ffcf8992e791e9f4be3bb59ee">00698</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ada9ade6ffcf8992e791e9f4be3bb59ee" title="Corresponds to &quot;//&quot; in abbreviated syntax of XPath.">operator --</a>(<span class="keywordtype">int</span>)                                                   {<span class="keywordflow">return</span> doFollow();}
<a name="l00703"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a01a803134a5993278df409756be4e3ac">00703</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a01a803134a5993278df409756be4e3ac" title="Find tag by name.">operator []</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                    {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">Tag</a>, name);}
<a name="l00707"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a8615937fad5766436c8fa0f5545716c9">00707</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a8615937fad5766436c8fa0f5545716c9" title="Find tag by name.">selectTag</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                      {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">Tag</a>, name);}
<a name="l00708"></a>00708 
<a name="l00713"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ab14cd2ec72e3ddd112de496f1e48799e">00713</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                    {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>, name).defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>);}
<a name="l00717"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7794f5c86d07abfc558255f25eb150c0">00717</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7794f5c86d07abfc558255f25eb150c0" title="Find tag with one attribute.">selectAttribute</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>, name).defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>);}
<a name="l00718"></a>00718 
<a name="l00724"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa6dacf97513b073d51523c5f3758e437">00724</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception) {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>, name).doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>, value);}
<a name="l00725"></a>00725 
<a name="l00730"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#af96504c45c031438ed10d0a5a87d6791">00730</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#af96504c45c031438ed10d0a5a87d6791" title="Find tag with one attribute,value condition.">ifAttribute</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception) {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">Attribute</a>, name).doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">ThisAttributeValue</a>, value);}
<a name="l00731"></a>00731 
<a name="l00735"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a5b420d4df5eb3dc3eacfce5d77625a89">00735</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a5b420d4df5eb3dc3eacfce5d77625a89" title="Define maximum element index to push.">TO</a>(<span class="keywordtype">int</span> idx) <span class="keywordflow">throw</span>(exception)                                       {<span class="keywordflow">return</span> doCount((idx&gt;=0)?(idx+1):-1);}
<a name="l00739"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a99eb059ff6bd4c3de4012a4ce1592b9c">00739</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a99eb059ff6bd4c3de4012a4ce1592b9c" title="Define minimum element index to push.">FROM</a>(<span class="keywordtype">int</span> idx) <span class="keywordflow">throw</span>(exception)                                     {<span class="keywordflow">return</span> doStart(idx); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00744"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1a993d49933ab346cdc75ff26594ba73">00744</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1a993d49933ab346cdc75ff26594ba73" title="Define minimum and maximum element index to push.">RANGE</a>(<span class="keywordtype">int</span> idx1, <span class="keywordtype">int</span> idx2) <span class="keywordflow">throw</span>(exception)                         {<span class="keywordflow">return</span> doRange(idx1,(idx2&gt;=0)?(idx2+1):-1); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00748"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ab9c880aef5ccbf34b5d837a73e267983">00748</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ab9c880aef5ccbf34b5d837a73e267983" title="Define index of the element index to push.">INDEX</a>(<span class="keywordtype">int</span> idx) <span class="keywordflow">throw</span>(exception)                                    {<span class="keywordflow">return</span> doRange(idx,idx+1); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00749"></a>00749 
<a name="l00754"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1df5f4e08567f94e416d2378b4e2a96f">00754</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1df5f4e08567f94e416d2378b4e2a96f" title="Define element type to push.">operator =</a>(<span class="keywordtype">int</span> type) <span class="keywordflow">throw</span>(exception)                              {<span class="keywordflow">return</span> push( type);}
<a name="l00758"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ae8490ad7317a223fb78eed63c08f6043">00758</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ae8490ad7317a223fb78eed63c08f6043" title="Define element type to push.">assignType</a>(<span class="keywordtype">int</span> type) <span class="keywordflow">throw</span>(exception)                              {<span class="keywordflow">return</span> push( type);}
<a name="l00759"></a>00759 
<a name="l00763"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f">00763</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>()  throw(exception)                                    {<span class="keywordflow">return</span> defineOutput(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">Content</a>);}
<a name="l00766"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7c4bf49a3d12219a60e07f49df046112">00766</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7c4bf49a3d12219a60e07f49df046112" title="Define grab content.">selectContent</a>()  throw(exception)                                  {<span class="keywordflow">return</span> defineOutput(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">Content</a>);}
<a name="l00767"></a>00767         };
<a name="l00768"></a>00768 
<a name="l00771"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ab3af9618ce7b58134b25a50435a4da70">00771</a>         PathElement <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ab3af9618ce7b58134b25a50435a4da70" title="Get automaton root element to start an XML path definition.">operator*</a>()
<a name="l00772"></a>00772         {
<a name="l00773"></a>00773                 <span class="keywordflow">return</span> PathElement( <span class="keyword">this</span>);
<a name="l00774"></a>00774         }
<a name="l00775"></a>00775 };
<a name="l00776"></a>00776 
<a name="l00777"></a>00777 } <span class="comment">//namespace</span>
<a name="l00778"></a>00778 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 14 2014 16:44:38 for textwolf by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
