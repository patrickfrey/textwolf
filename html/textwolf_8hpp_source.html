<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>include/textwolf.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">include/textwolf.hpp</div>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00036"></a>00036 <span class="preprocessor">#ifndef __TEXTWOLF_HPP__</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#define __TEXTWOLF_HPP__</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;stack&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;limits&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;cstring&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#ifdef BOOST_VERSION</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#include &lt;boost/cstdint.hpp&gt;</span>
<a name="l00049"></a>00049 <span class="keyword">namespace </span>textwolf {
<a name="l00052"></a>00052         <span class="keyword">typedef</span> boost::uint32_t <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>;
<a name="l00053"></a>00053         <span class="keyword">typedef</span> boost::uint64_t EChar;
<a name="l00054"></a>00054 }<span class="comment">//namespace</span>
<a name="l00055"></a>00055 <span class="preprocessor">#else</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(disable:4290)</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#include &lt;BaseTsd.h&gt;</span>
<a name="l00059"></a>00059 <span class="keyword">namespace </span>textwolf {
<a name="l00062"></a>00062         <span class="keyword">typedef</span> DWORD32 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>;
<a name="l00063"></a>00063         <span class="keyword">typedef</span> DWORD64 EChar;
<a name="l00064"></a>00064 }<span class="comment">//namespace</span>
<a name="l00065"></a>00065 <span class="preprocessor">#else</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00067"></a><a class="code" href="namespacetextwolf.html">00067</a> <span class="keyword">namespace </span>textwolf {
<a name="l00070"></a><a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c">00070</a>         <span class="keyword">typedef</span> uint32_t <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>;
<a name="l00071"></a>00071         <span class="keyword">typedef</span> uint64_t EChar;
<a name="l00072"></a>00072 }<span class="comment">//namespace</span>
<a name="l00073"></a>00073 <span class="preprocessor">#endif</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00078"></a>00078 <span class="keyword">namespace </span>textwolf {
<a name="l00079"></a>00079 
<a name="l00082"></a>00082 
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="structtextwolf_1_1throws__exception.html">00088</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l00089"></a>00089 {
<a name="l00092"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0">00092</a>         <span class="keyword">enum</span> <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0" title="Enumeration of error cases.">Cause</a>
<a name="l00093"></a>00093         {
<a name="l00094"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf">00094</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf" title="uknown error">Unknown</a>,                        
<a name="l00095"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0">00095</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>,                  
<a name="l00096"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a349c2185d387d7c45abe47aca0bcdea8">00096</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a349c2185d387d7c45abe47aca0bcdea8" title="XML scanner automaton definition check failed. Labels of states must be equal to their indices...">StateNumbersNotAscending</a>,       
<a name="l00097"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077">00097</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>,                   
<a name="l00098"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964">00098</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>,                   
<a name="l00099"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0af51b9be90fdb3435412a3c551f699aa8">00099</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0af51b9be90fdb3435412a3c551f699aa8" title="parameter check in automaton definition failed. Internal textwold error !">IllegalParam</a>,                   
<a name="l00100"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a1da96eb27d5013265b863eebbdf8f9b0">00100</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a1da96eb27d5013265b863eebbdf8f9b0" title="invalid string for a tag or attribute in the automaton definition. Usage error !">IllegalAttributeName</a>,           
<a name="l00101"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1">00101</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>,                       
<a name="l00102"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ae4469d6f9cf53ee4331327e8a44f4196">00102</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ae4469d6f9cf53ee4331327e8a44f4196" title="invalid array access. Internal textwold error !">ArrayBoundsReadWrite</a>,           
<a name="l00103"></a><a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ab1017be3f76b45387df09090d8e27ed5">00103</a>                 <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ab1017be3f76b45387df09090d8e27ed5" title="defining an operation in an automaton definition that is not allowed there. Usage error !...">NotAllowedOperation</a>             
<a name="l00104"></a>00104         };
<a name="l00105"></a>00105 };
<a name="l00106"></a>00106 
<a name="l00109"></a><a class="code" href="structtextwolf_1_1exception.html">00109</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>        :<span class="keyword">public</span> std::<a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>
<a name="l00110"></a>00110 {
<a name="l00111"></a>00111         <span class="keyword">typedef</span> <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0" title="Enumeration of error cases.">throws_exception::Cause</a> <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0" title="Enumeration of error cases.">Cause</a>;
<a name="l00112"></a><a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa">00112</a>         <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0" title="Enumeration of error cases.">Cause</a> <a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa" title="exception cause tag">cause</a>;                                                                            
<a name="l00113"></a>00113 
<a name="l00116"></a><a class="code" href="structtextwolf_1_1exception.html#a29ff8e91a847b22adad60e37636decab">00116</a>         <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a> (<a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0" title="Enumeration of error cases.">Cause</a> p_cause) <span class="keywordflow">throw</span>()
<a name="l00117"></a>00117                         :<a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa" title="exception cause tag">cause</a>(p_cause) {}
<a name="l00119"></a><a class="code" href="structtextwolf_1_1exception.html#ac9f594685b1a4452158e557ec1ceb40c">00119</a>         <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a> (<span class="keyword">const</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>&amp; orig) <span class="keywordflow">throw</span>()
<a name="l00120"></a>00120                         :<a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa" title="exception cause tag">cause</a>(orig.cause) {}
<a name="l00122"></a><a class="code" href="structtextwolf_1_1exception.html#a62609ba07d8e6220cdf554789dd4b7f7">00122</a>         <span class="keyword">virtual</span> <a class="code" href="structtextwolf_1_1exception.html#a62609ba07d8e6220cdf554789dd4b7f7" title="Destructor.">~exception</a>() <a class="code" href="structtextwolf_1_1exception.html#a29ff8e91a847b22adad60e37636decab" title="Constructor.">throw</a>() {}
<a name="l00123"></a>00123 
<a name="l00127"></a><a class="code" href="structtextwolf_1_1exception.html#a63e03b8d8d2188a6f51b7cfbb17fbc92">00127</a>         <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>&amp; <a class="code" href="structtextwolf_1_1exception.html#a63e03b8d8d2188a6f51b7cfbb17fbc92" title="Assignement.">operator= </a>(<span class="keyword">const</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>&amp; orig) <span class="keywordflow">throw</span>()
<a name="l00128"></a>00128                         {<a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa" title="exception cause tag">cause</a>=orig.cause; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00129"></a>00129 
<a name="l00132"></a><a class="code" href="structtextwolf_1_1exception.html#a8c370e435f32a3b7a37f569243f47702">00132</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1exception.html#a8c370e435f32a3b7a37f569243f47702" title="Exception message.">what</a>() <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1exception.html#a29ff8e91a847b22adad60e37636decab" title="Constructor.">throw</a>()
<a name="l00133"></a>00133         {
<a name="l00134"></a>00134                 <span class="comment">// enumeration of exception causes as strings</span>
<a name="l00135"></a>00135                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* nameCause[ 10] = {
<a name="l00136"></a>00136                         <span class="stringliteral">&quot;Unknown&quot;</span>,<span class="stringliteral">&quot;DimOutOfRange&quot;</span>,<span class="stringliteral">&quot;StateNumbersNotAscending&quot;</span>,<span class="stringliteral">&quot;InvalidParam&quot;</span>,
<a name="l00137"></a>00137                         <span class="stringliteral">&quot;InvalidState&quot;</span>,<span class="stringliteral">&quot;IllegalParam&quot;</span>,<span class="stringliteral">&quot;IllegalAttributeName&quot;</span>,<span class="stringliteral">&quot;OutOfMem&quot;</span>,
<a name="l00138"></a>00138                         <span class="stringliteral">&quot;ArrayBoundsReadWrite&quot;</span>,<span class="stringliteral">&quot;NotAllowedOperation&quot;</span>
<a name="l00139"></a>00139                 };
<a name="l00140"></a>00140                 <span class="keywordflow">return</span> nameCause[ (<span class="keywordtype">unsigned</span> int) <a class="code" href="structtextwolf_1_1exception.html#af5fab81bf1bee4f9bb9a712989e6b6aa" title="exception cause tag">cause</a>];
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142 };
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 
<a name="l00155"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html">00155</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1StaticBuffer.html" title="Simple back insertion sequence for storing the outputs of textwolf in a contant size buffer...">StaticBuffer</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l00156"></a>00156 {
<a name="l00157"></a>00157 <span class="keyword">public</span>:
<a name="l00159"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a41a69d93713ad796badc258c1944dfef">00159</a>         <span class="keyword">explicit</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#a41a69d93713ad796badc258c1944dfef" title="Constructor.">StaticBuffer</a>( std::size_t n)
<a name="l00160"></a>00160                 :m_pos(0),m_size(n),m_ar(0),m_allocated(true) {m_ar=<span class="keyword">new</span> <span class="keywordtype">char</span>[n];}
<a name="l00161"></a>00161 
<a name="l00163"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a24fa76c4ca1a2a6110de2612b0138b10">00163</a>         <a class="code" href="classtextwolf_1_1StaticBuffer.html#a41a69d93713ad796badc258c1944dfef" title="Constructor.">StaticBuffer</a>( <span class="keywordtype">char</span>* p, std::size_t n, std::size_t i=0)
<a name="l00164"></a>00164                 :m_pos(i),m_size(n),m_ar(p),m_allocated(false),m_overflow(false) {}
<a name="l00165"></a>00165 
<a name="l00167"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a0313cf220118dd96201bca4fee569621">00167</a>         <a class="code" href="classtextwolf_1_1StaticBuffer.html#a0313cf220118dd96201bca4fee569621" title="Destructor.">~StaticBuffer</a>()
<a name="l00168"></a>00168                 {<span class="keywordflow">if</span> (m_allocated) <span class="keyword">delete</span> [] m_ar;}
<a name="l00169"></a>00169 
<a name="l00171"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a830095cb9c0dd1342c261e520d29a8e7">00171</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#a830095cb9c0dd1342c261e520d29a8e7" title="Clear the buffer content.">clear</a>()                            {m_pos=0;m_overflow=<span class="keyword">false</span>;}
<a name="l00172"></a>00172 
<a name="l00175"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379">00175</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( <span class="keywordtype">char</span> ch)
<a name="l00176"></a>00176         {
<a name="l00177"></a>00177                 <span class="keywordflow">if</span> (m_pos &lt; m_size)
<a name="l00178"></a>00178                 {
<a name="l00179"></a>00179                         m_ar[m_pos++] = ch;
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181                 <span class="keywordflow">else</span>
<a name="l00182"></a>00182                 {
<a name="l00183"></a>00183                         m_overflow = <span class="keyword">true</span>;
<a name="l00184"></a>00184                 }
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186 
<a name="l00190"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#ae840dae38932133a6fff8fcb09a8319d">00190</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#ae840dae38932133a6fff8fcb09a8319d" title="Append an array of characters.">append</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* cc, std::size_t ccsize)
<a name="l00191"></a>00191         {
<a name="l00192"></a>00192                 <span class="keywordflow">if</span> (m_pos+ccsize &gt; m_size)
<a name="l00193"></a>00193                 {
<a name="l00194"></a>00194                         m_overflow = <span class="keyword">true</span>;
<a name="l00195"></a>00195                         ccsize = m_size - m_pos;
<a name="l00196"></a>00196                 }
<a name="l00197"></a>00197                 std::memcpy( m_ar+m_pos, cc, ccsize);
<a name="l00198"></a>00198                 m_pos += ccsize;
<a name="l00199"></a>00199         }
<a name="l00200"></a>00200 
<a name="l00203"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a17dfe1ed87855240c11e95128dc7fb3e">00203</a>         std::size_t <a class="code" href="classtextwolf_1_1StaticBuffer.html#a17dfe1ed87855240c11e95128dc7fb3e" title="Return the number of characters in the buffer.">size</a>()<span class="keyword"> const                </span>{<span class="keywordflow">return</span> m_pos;}
<a name="l00204"></a>00204 
<a name="l00207"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#aa214f742efe32498abf682a072e0bc87">00207</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1StaticBuffer.html#aa214f742efe32498abf682a072e0bc87" title="Return the buffer content as 0-terminated string.">ptr</a>()<span class="keyword"> const                 </span>{<span class="keywordflow">return</span> m_ar;}
<a name="l00208"></a>00208 
<a name="l00212"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a32f8010fc07d29beaf1adb8571406527">00212</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#a32f8010fc07d29beaf1adb8571406527" title="Shrinks the size of the buffer or expands it with c.">resize</a>( std::size_t n, <span class="keywordtype">char</span> c=0)
<a name="l00213"></a>00213         {
<a name="l00214"></a>00214                 <span class="keywordflow">if</span> (m_pos&gt;n)
<a name="l00215"></a>00215                 {
<a name="l00216"></a>00216                         m_pos=n;
<a name="l00217"></a>00217                 }
<a name="l00218"></a>00218                 <span class="keywordflow">else</span>
<a name="l00219"></a>00219                 {
<a name="l00220"></a>00220                         <span class="keywordflow">if</span> (m_size&lt;n) n=m_size;
<a name="l00221"></a>00221                         <span class="keywordflow">while</span> (n&gt;m_pos) <a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>(c);
<a name="l00222"></a>00222                 }
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224 
<a name="l00228"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#abfa9e048aac11031646ab8e0449fc718">00228</a>         <span class="keywordtype">char</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#abfa9e048aac11031646ab8e0449fc718" title="random access of element">operator []</a>( std::size_t ii)<span class="keyword"> const</span>
<a name="l00229"></a>00229 <span class="keyword">        </span>{
<a name="l00230"></a>00230                 <span class="keywordflow">if</span> (ii &gt; m_pos) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>);
<a name="l00231"></a>00231                 <span class="keywordflow">return</span> m_ar[ii];
<a name="l00232"></a>00232         }
<a name="l00233"></a>00233 
<a name="l00237"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#a1c91c6be0f3a691b6c810909de9e749c">00237</a>         <span class="keywordtype">char</span>&amp; <a class="code" href="classtextwolf_1_1StaticBuffer.html#a1c91c6be0f3a691b6c810909de9e749c" title="random access of element reference">at</a>( std::size_t ii)<span class="keyword"> const</span>
<a name="l00238"></a>00238 <span class="keyword">        </span>{
<a name="l00239"></a>00239                 <span class="keywordflow">if</span> (ii &gt; m_pos) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>);
<a name="l00240"></a>00240                 <span class="keywordflow">return</span> m_ar[ii];
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242 
<a name="l00245"></a><a class="code" href="classtextwolf_1_1StaticBuffer.html#adeb1952e21a6a5f8e0d4c0b5fd9cee40">00245</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1StaticBuffer.html#adeb1952e21a6a5f8e0d4c0b5fd9cee40" title="check for array bounds write">overflow</a>()<span class="keyword"> const                   </span>{<span class="keywordflow">return</span> m_overflow;}
<a name="l00246"></a>00246 <span class="keyword">private</span>:
<a name="l00247"></a>00247         std::size_t m_pos;                      
<a name="l00248"></a>00248         std::size_t m_size;                     
<a name="l00249"></a>00249         <span class="keywordtype">char</span>* m_ar;                             
<a name="l00250"></a>00250         <span class="keywordtype">bool</span> m_allocated;                       
<a name="l00251"></a>00251         <span class="keywordtype">bool</span> m_overflow;                        
<a name="l00252"></a>00252 };
<a name="l00253"></a>00253 
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> RESTYPE, RESTYPE nullvalue_, <span class="keywordtype">int</span> RANGE=256&gt;
<a name="l00267"></a><a class="code" href="classtextwolf_1_1CharMap.html">00267</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>
<a name="l00268"></a>00268 {
<a name="l00269"></a>00269 <span class="keyword">public</span>:
<a name="l00270"></a>00270         <span class="keyword">typedef</span> RESTYPE valuetype;
<a name="l00271"></a>00271         <span class="keyword">enum</span> Constant {nullvalue=nullvalue_};
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 <span class="keyword">private</span>:
<a name="l00274"></a>00274         RESTYPE ar[ RANGE];             
<a name="l00275"></a>00275 <span class="keyword">public</span>:
<a name="l00277"></a><a class="code" href="classtextwolf_1_1CharMap.html#a1578f6cd80edcd9b539f6a064f5bc28c">00277</a>         <a class="code" href="classtextwolf_1_1CharMap.html#a1578f6cd80edcd9b539f6a064f5bc28c" title="Constructor.">CharMap</a>()                                                                       {<span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;RANGE; ii++) ar[ii]=(<a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">valuetype</a>)nullvalue;}
<a name="l00282"></a><a class="code" href="classtextwolf_1_1CharMap.html#a937c325abaa8f773b303aca580fa9ff6">00282</a>         <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>&amp; <a class="code" href="classtextwolf_1_1CharMap.html#a937c325abaa8f773b303aca580fa9ff6" title="Define the values of the elements in the interval [from,to].">operator()</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> from, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> to, <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">valuetype</a> value)     {<span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=from; ii&lt;=to; ii++) ar[ii]=value; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00286"></a><a class="code" href="classtextwolf_1_1CharMap.html#a23d7483ba027e61846af5dc780253a2e">00286</a>         <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>&amp; <a class="code" href="classtextwolf_1_1CharMap.html#a23d7483ba027e61846af5dc780253a2e" title="Define the values of the single element at &#39;at&#39;.">operator()</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> at, <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">valuetype</a> value)                         {ar[at] = value; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00290"></a><a class="code" href="classtextwolf_1_1CharMap.html#ae3ba4879d86b5bf0663d06886ee3629a">00290</a>         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">valuetype</a> <a class="code" href="classtextwolf_1_1CharMap.html#ae3ba4879d86b5bf0663d06886ee3629a" title="Read the element assigned to &#39;ii&#39;.">operator []</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ii)<span class="keyword"> const                                  </span>{<span class="keywordflow">return</span> ar[ii];}
<a name="l00291"></a>00291 };
<a name="l00292"></a>00292 
<a name="l00303"></a>00303 <span class="keyword">namespace </span>charset {
<a name="l00304"></a>00304 
<a name="l00305"></a><a class="code" href="structtextwolf_1_1charset_1_1Encoder.html">00305</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1Encoder.html">Encoder</a>
<a name="l00306"></a>00306 {
<a name="l00311"></a><a class="code" href="structtextwolf_1_1charset_1_1Encoder.html#ad083232a041e2309b9d22af40b2c7502">00311</a>         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1charset_1_1Encoder.html#ad083232a041e2309b9d22af40b2c7502" title="Write the character &#39;chr&#39; in encoded form as nul-terminated string to a buffer.">encode</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, <span class="keywordtype">char</span>* bufptr, std::size_t bufsize)
<a name="l00312"></a>00312         {
<a name="l00313"></a>00313                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* HEX = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;
<a name="l00314"></a>00314                 <a class="code" href="classtextwolf_1_1StaticBuffer.html" title="Simple back insertion sequence for storing the outputs of textwolf in a contant size buffer...">StaticBuffer</a> buf( bufptr, bufsize);
<a name="l00315"></a>00315                 <span class="keywordtype">char</span> bb[ 32];
<a name="l00316"></a>00316                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0;
<a name="l00317"></a>00317                 <span class="keywordflow">while</span> (chr &gt; 0)
<a name="l00318"></a>00318                 {
<a name="l00319"></a>00319                         bb[ii++] = HEX[ chr &amp; 0xf];
<a name="l00320"></a>00320                         chr /= 16;
<a name="l00321"></a>00321                 }
<a name="l00322"></a>00322                 buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( <span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l00323"></a>00323                 buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( <span class="charliteral">&#39;#&#39;</span>);
<a name="l00324"></a>00324                 buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( <span class="charliteral">&#39;x&#39;</span>);
<a name="l00325"></a>00325                 <span class="keywordflow">while</span> (ii)
<a name="l00326"></a>00326                 {
<a name="l00327"></a>00327                         buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( bb[ --ii]);
<a name="l00328"></a>00328                 }
<a name="l00329"></a>00329                 buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a744e280227bef7ac70662a8f320b7379" title="Append one character.">push_back</a>( <span class="charliteral">&#39;\0&#39;</span>);
<a name="l00330"></a>00330                 <span class="keywordflow">return</span> !buf.<a class="code" href="classtextwolf_1_1StaticBuffer.html#adeb1952e21a6a5f8e0d4c0b5fd9cee40" title="check for array bounds write">overflow</a>();
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332 };
<a name="l00333"></a>00333 
<a name="l00336"></a><a class="code" href="structtextwolf_1_1charset_1_1Interface.html">00336</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1Interface.html" title="Interface that has to be implemented for a character set encoding.">Interface</a>
<a name="l00337"></a>00337 {
<a name="l00342"></a>00342         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00343"></a>00343         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1Interface.html#acda19face1d07bddeeeb26b4a0bd50a2" title="Skip to start of the next character.">skip</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr);
<a name="l00344"></a>00344 
<a name="l00350"></a>00350         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00351"></a>00351         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1charset_1_1Interface.html#ab861dd28f6a77fb56d610b6b3c036cc6" title="Fetches the ascii char representation of the current character.">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr);
<a name="l00352"></a>00352 
<a name="l00358"></a>00358         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00359"></a>00359         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="structtextwolf_1_1charset_1_1Interface.html#a84795c398667a931c5d87f773255377c" title="Fetches the unicode character representation of the current character.">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr);
<a name="l00360"></a>00360 
<a name="l00365"></a>00365         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00366"></a>00366         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1Interface.html#a9ed7a89eb0bc3247e75a4f04f7964da9" title="Prints a unicode character to a buffer.">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, Buffer_&amp; buf);
<a name="l00367"></a>00367 };
<a name="l00368"></a>00368 
<a name="l00371"></a><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html">00371</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html" title="Character set IsoLatin-1 (ISO-8859-1)">IsoLatin1</a>
<a name="l00372"></a>00372 {
<a name="l00373"></a>00373         <span class="keyword">enum</span> {MaxChar=0xFF};
<a name="l00374"></a>00374 
<a name="l00376"></a>00376         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00377"></a><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a1742ae8a2de8e605ad768efb29cd7aba">00377</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a1742ae8a2de8e605ad768efb29cd7aba" title="See template&lt;class Iterator&gt;Interface::skip(char*,unsigned int&amp;,Iterator&amp;)">skip</a>( <span class="keywordtype">char</span>*, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00378"></a>00378         {
<a name="l00379"></a>00379                 <span class="keywordflow">if</span> (bufpos==0)
<a name="l00380"></a>00380                 {
<a name="l00381"></a>00381                         ++itr;
<a name="l00382"></a>00382                         ++bufpos;
<a name="l00383"></a>00383                 }
<a name="l00384"></a>00384         }
<a name="l00385"></a>00385 
<a name="l00387"></a>00387         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00388"></a><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a724c618913a65c76012abdcb509d12eb">00388</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a724c618913a65c76012abdcb509d12eb" title="See template&lt;class Iterator&gt;Interface::asciichar(char*,unsigned int&amp;,Iterator&amp;)">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00389"></a>00389         {
<a name="l00390"></a>00390                 <span class="keywordflow">if</span> (bufpos==0)
<a name="l00391"></a>00391                 {
<a name="l00392"></a>00392                         buf[0] = *itr;
<a name="l00393"></a>00393                         ++itr;
<a name="l00394"></a>00394                         ++bufpos;
<a name="l00395"></a>00395                 }
<a name="l00396"></a>00396                 <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(buf[0])&gt;127)?-1:buf[0];
<a name="l00397"></a>00397         }
<a name="l00398"></a>00398 
<a name="l00400"></a>00400         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00401"></a><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#ad8ec3af152bd1b03d093631310fe9514">00401</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#ad8ec3af152bd1b03d093631310fe9514" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00402"></a>00402         {
<a name="l00403"></a>00403                 <span class="keywordflow">if</span> (bufpos == 0)
<a name="l00404"></a>00404                 {
<a name="l00405"></a>00405                         buf[0] = *itr;
<a name="l00406"></a>00406                         ++itr;
<a name="l00407"></a>00407                         ++bufpos;
<a name="l00408"></a>00408                 }
<a name="l00409"></a>00409                 <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)buf[0];
<a name="l00410"></a>00410         }
<a name="l00411"></a>00411 
<a name="l00413"></a>00413         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00414"></a><a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a569d892c77326a681f1b56c1ebed23a0">00414</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1IsoLatin1.html#a569d892c77326a681f1b56c1ebed23a0" title="See template&lt;class Buffer&gt;Interface::print(UChar,Buffer&amp;)">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, Buffer_&amp; buf)
<a name="l00415"></a>00415         {
<a name="l00416"></a>00416                 <span class="keywordtype">char</span> chr_ = (char)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)chr;
<a name="l00417"></a>00417                 <span class="keywordflow">if</span> (chr &gt; 255)
<a name="l00418"></a>00418                 {
<a name="l00419"></a>00419                         <span class="keywordtype">char</span> tb[ 32];
<a name="l00420"></a>00420                         <span class="keywordtype">char</span>* cc = tb;
<a name="l00421"></a>00421                         <a class="code" href="structtextwolf_1_1charset_1_1Encoder.html#ad083232a041e2309b9d22af40b2c7502" title="Write the character &#39;chr&#39; in encoded form as nul-terminated string to a buffer.">Encoder::encode</a>( chr, tb, <span class="keyword">sizeof</span>(tb));
<a name="l00422"></a>00422                         <span class="keywordflow">while</span> (*cc) buf.push_back( *cc++);
<a name="l00423"></a>00423                 }
<a name="l00424"></a>00424                 buf.push_back( chr_);
<a name="l00425"></a>00425         }
<a name="l00426"></a>00426 };
<a name="l00427"></a>00427 
<a name="l00430"></a><a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html">00430</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html" title="Order of bytes for wide char character sets.">ByteOrder</a>
<a name="l00431"></a>00431 {
<a name="l00432"></a>00432         <span class="keyword">enum</span>
<a name="l00433"></a>00433         {
<a name="l00434"></a><a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304">00434</a>                 <a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304" title="little endian">LE</a>=0,           
<a name="l00435"></a><a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c">00435</a>                 <a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">BE</a>=1            
<a name="l00436"></a>00436         };
<a name="l00437"></a>00437 };
<a name="l00438"></a>00438 
<a name="l00445"></a>00445 <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> encoding=ByteOrder::BE&gt;
<a name="l00446"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html">00446</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html" title="Character set UCS-2 (little/big endian)">UCS2</a>
<a name="l00447"></a>00447 {
<a name="l00448"></a>00448         <span class="keyword">enum</span>
<a name="l00449"></a>00449         {
<a name="l00450"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a4482f10af94d0206e308a4739ebbcee4">00450</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a4482f10af94d0206e308a4739ebbcee4" title="least significant byte index (0 or 1)">LSB</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>),                  
<a name="l00451"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17acb70eea43ddfdd34d543a0b09c7b91d6">00451</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17acb70eea43ddfdd34d543a0b09c7b91d6" title="most significant byte index (0 or 1)">MSB</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304" title="little endian">ByteOrder::LE</a>),                  
<a name="l00452"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17ada66158f47e40054ce391f3ee94f0e81">00452</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17ada66158f47e40054ce391f3ee94f0e81" title="value to shift with to get the 1st character to print">Print1shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?8:0,      
<a name="l00453"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a8e8193bb787bced47d7d289ab5426b61">00453</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a8e8193bb787bced47d7d289ab5426b61" title="value to shift with to get the 2nd character to print">Print2shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304" title="little endian">ByteOrder::LE</a>)?8:0,      
<a name="l00454"></a>00454                 MaxChar=0xFFFF
<a name="l00455"></a>00455         };
<a name="l00456"></a>00456 
<a name="l00458"></a>00458         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00459"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#abdc8d139d969fa2f539894a5aad3f087">00459</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#abdc8d139d969fa2f539894a5aad3f087" title="See template&lt;class Iterator&gt;Interface::skip(char*,unsigned int&amp;,Iterator&amp;)">skip</a>( <span class="keywordtype">char</span>*, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00460"></a>00460         {
<a name="l00461"></a>00461                 <span class="keywordflow">for</span> (;bufpos &lt; 2; ++bufpos)
<a name="l00462"></a>00462                 {
<a name="l00463"></a>00463                         ++itr;
<a name="l00464"></a>00464                 }
<a name="l00465"></a>00465         }
<a name="l00466"></a>00466 
<a name="l00468"></a>00468         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00469"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a3e522b4f7c912643cfc8f69ea1f2d289">00469</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a3e522b4f7c912643cfc8f69ea1f2d289" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00470"></a>00470         {
<a name="l00471"></a>00471                 <span class="keywordflow">if</span> (bufpos&lt;2)
<a name="l00472"></a>00472                 {
<a name="l00473"></a>00473                         <span class="keywordflow">if</span> (bufpos&lt;1)
<a name="l00474"></a>00474                         {
<a name="l00475"></a>00475                                 buf[0] = *itr;
<a name="l00476"></a>00476                                 ++itr;
<a name="l00477"></a>00477                                 ++bufpos;
<a name="l00478"></a>00478                         }
<a name="l00479"></a>00479                         buf[1] = *itr;
<a name="l00480"></a>00480                         ++itr;
<a name="l00481"></a>00481                         ++bufpos;
<a name="l00482"></a>00482                 }
<a name="l00483"></a>00483                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> res = (<span class="keywordtype">unsigned</span> char)buf[<a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17acb70eea43ddfdd34d543a0b09c7b91d6" title="most significant byte index (0 or 1)">MSB</a>];
<a name="l00484"></a>00484                 <span class="keywordflow">return</span> (res &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> char)buf[<a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a4482f10af94d0206e308a4739ebbcee4" title="least significant byte index (0 or 1)">LSB</a>];
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486 
<a name="l00488"></a>00488         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00489"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a92f6b6b112adc83dc42b48ca3ef84580">00489</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a92f6b6b112adc83dc42b48ca3ef84580" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00490"></a>00490         {
<a name="l00491"></a>00491                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch = <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a3e522b4f7c912643cfc8f69ea1f2d289" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( buf, bufpos, itr);
<a name="l00492"></a>00492                 <span class="keywordflow">return</span> (ch &gt; 127)?-1:(char)ch;
<a name="l00493"></a>00493         }
<a name="l00494"></a>00494 
<a name="l00496"></a>00496         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00497"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a0ff13894b4330d92ac3c2ae8461fc5f7">00497</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a0ff13894b4330d92ac3c2ae8461fc5f7" title="See template&lt;class Buffer&gt;Interface::print(UChar,Buffer&amp;)">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, Buffer_&amp; buf)
<a name="l00498"></a>00498         {
<a name="l00499"></a>00499                 <span class="keywordflow">if</span> (chr&gt;MaxChar)
<a name="l00500"></a>00500                 {
<a name="l00501"></a>00501                         <span class="keywordtype">char</span> tb[ 32];
<a name="l00502"></a>00502                         <span class="keywordtype">char</span>* cc = tb;
<a name="l00503"></a>00503                         <a class="code" href="structtextwolf_1_1charset_1_1Encoder.html#ad083232a041e2309b9d22af40b2c7502" title="Write the character &#39;chr&#39; in encoded form as nul-terminated string to a buffer.">Encoder::encode</a>( chr, tb, <span class="keyword">sizeof</span>(tb));
<a name="l00504"></a>00504                         <span class="keywordflow">while</span> (*cc)
<a name="l00505"></a>00505                         {
<a name="l00506"></a>00506                                 buf.push_back( (<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)*cc &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17ada66158f47e40054ce391f3ee94f0e81" title="value to shift with to get the 1st character to print">Print1shift</a>);
<a name="l00507"></a>00507                                 buf.push_back( (<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)*cc &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a8e8193bb787bced47d7d289ab5426b61" title="value to shift with to get the 2nd character to print">Print2shift</a>);
<a name="l00508"></a>00508                                 ++cc;
<a name="l00509"></a>00509                         }
<a name="l00510"></a>00510                 }
<a name="l00511"></a>00511                 <span class="keywordflow">else</span>
<a name="l00512"></a>00512                 {
<a name="l00513"></a>00513                         buf.push_back( chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17ada66158f47e40054ce391f3ee94f0e81" title="value to shift with to get the 1st character to print">Print1shift</a>);
<a name="l00514"></a>00514                         buf.push_back( chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html#a69729e3e64a24a1f5b5e8e35d5105d17a8e8193bb787bced47d7d289ab5426b61" title="value to shift with to get the 2nd character to print">Print2shift</a>);
<a name="l00515"></a>00515                 }
<a name="l00516"></a>00516         }
<a name="l00517"></a>00517 };
<a name="l00518"></a>00518 
<a name="l00522"></a>00522 <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> encoding&gt;
<a name="l00523"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html">00523</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html" title="Character set UCS-4 (little/big endian)">UCS4</a>
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525         <span class="keyword">enum</span>
<a name="l00526"></a>00526         {
<a name="l00527"></a>00527                 B0=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?3:0,
<a name="l00528"></a>00528                 B1=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?2:1,
<a name="l00529"></a>00529                 B2=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?1:2,
<a name="l00530"></a>00530                 B3=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?0:3,
<a name="l00531"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefad5643dfe21cb53b9db5fb4c349865f4f">00531</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefad5643dfe21cb53b9db5fb4c349865f4f" title="value to shift with to get the 1st character to print">Print1shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?24:0,     
<a name="l00532"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefab14522fe59b25db699cdab74f3119fce">00532</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefab14522fe59b25db699cdab74f3119fce" title="value to shift with to get the 2nd character to print">Print2shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?16:8,     
<a name="l00533"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa152f397e1a72de38d353f7042ffc3b64">00533</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa152f397e1a72de38d353f7042ffc3b64" title="value to shift with to get the 3rd character to print">Print3shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?8:16,     
<a name="l00534"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa39f8dc92e4c8a6cab6026c06a6c6de3f">00534</a>                 <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa39f8dc92e4c8a6cab6026c06a6c6de3f" title="value to shift with to get the 4th character to print">Print4shift</a>=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?0:24,     
<a name="l00535"></a>00535                 MaxChar=0xFFFFFFFF
<a name="l00536"></a>00536         };
<a name="l00537"></a>00537 
<a name="l00539"></a>00539         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00540"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a0c672a09ce96208e74409d47931a1295">00540</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a0c672a09ce96208e74409d47931a1295" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00541"></a>00541         {
<a name="l00542"></a>00542                 <span class="keywordflow">for</span> (;bufpos &lt; 4; ++bufpos)
<a name="l00543"></a>00543                 {
<a name="l00544"></a>00544                         buf[ bufpos] = *itr;
<a name="l00545"></a>00545                         ++itr;
<a name="l00546"></a>00546                 }
<a name="l00547"></a>00547                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> res = (<span class="keywordtype">unsigned</span> char)buf[B3];
<a name="l00548"></a>00548                 res = (res &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)buf[B2];
<a name="l00549"></a>00549                 res = (res &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)buf[B1];
<a name="l00550"></a>00550                 <span class="keywordflow">return</span> (res &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> char)buf[B0];
<a name="l00551"></a>00551         }
<a name="l00552"></a>00552 
<a name="l00554"></a>00554         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00555"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#afe269dea8ac77ce64561d82c65a65368">00555</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#afe269dea8ac77ce64561d82c65a65368" title="See template&lt;class Iterator&gt;Interface::skip(char*,unsigned int&amp;,Iterator&amp;)">skip</a>( <span class="keywordtype">char</span>*, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00556"></a>00556         {
<a name="l00557"></a>00557                 <span class="keywordflow">for</span> (;bufpos &lt; 4; ++bufpos)
<a name="l00558"></a>00558                 {
<a name="l00559"></a>00559                         ++itr;
<a name="l00560"></a>00560                 }
<a name="l00561"></a>00561         }
<a name="l00562"></a>00562 
<a name="l00564"></a>00564         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00565"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a0ee47c02535e1b864ecb8df5ec916461">00565</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a0ee47c02535e1b864ecb8df5ec916461" title="See template&lt;class Iterator&gt;Interface::asciichar(char*,unsigned int&amp;,Iterator&amp;)">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00566"></a>00566         {
<a name="l00567"></a>00567                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch = <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a0c672a09ce96208e74409d47931a1295" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( buf, bufpos, itr);
<a name="l00568"></a>00568                 <span class="keywordflow">return</span> (ch &gt; 127)?-1:(char)ch;
<a name="l00569"></a>00569         }
<a name="l00570"></a>00570 
<a name="l00572"></a>00572         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00573"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a850c7d9b31e64693ad99c82108518da6">00573</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a850c7d9b31e64693ad99c82108518da6" title="See template&lt;class Buffer&gt;Interface::print(UChar,Buffer&amp;)">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, Buffer_&amp; buf)
<a name="l00574"></a>00574         {
<a name="l00575"></a>00575                 buf.push_back( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefad5643dfe21cb53b9db5fb4c349865f4f" title="value to shift with to get the 1st character to print">Print1shift</a>) &amp; 0xFF));
<a name="l00576"></a>00576                 buf.push_back( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefab14522fe59b25db699cdab74f3119fce" title="value to shift with to get the 2nd character to print">Print2shift</a>) &amp; 0xFF));
<a name="l00577"></a>00577                 buf.push_back( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa152f397e1a72de38d353f7042ffc3b64" title="value to shift with to get the 3rd character to print">Print3shift</a>) &amp; 0xFF));
<a name="l00578"></a>00578                 buf.push_back( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((chr &gt;&gt; <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html#a3fe7d5702b4ab179cd53e2783d542fefa39f8dc92e4c8a6cab6026c06a6c6de3f" title="value to shift with to get the 4th character to print">Print4shift</a>) &amp; 0xFF));
<a name="l00579"></a>00579         }
<a name="l00580"></a>00580 };
<a name="l00581"></a>00581 
<a name="l00584"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2LE.html">00584</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS2LE.html" title="UCS-2 little endian character set encoding.">UCS2LE</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html" title="Character set UCS-2 (little/big endian)">UCS2</a>&lt;ByteOrder::LE&gt; {};
<a name="l00587"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS2BE.html">00587</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS2BE.html" title="UCS-2 big endian character set encoding.">UCS2BE</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS2.html" title="Character set UCS-2 (little/big endian)">UCS2</a>&lt;ByteOrder::BE&gt; {};
<a name="l00590"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4LE.html">00590</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS4LE.html">UCS4LE</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html" title="Character set UCS-4 (little/big endian)">UCS4</a>&lt;ByteOrder::LE&gt; {};
<a name="l00593"></a><a class="code" href="structtextwolf_1_1charset_1_1UCS4BE.html">00593</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UCS4BE.html" title="UCS-4 little endian character set encoding.">UCS4BE</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1charset_1_1UCS4.html" title="Character set UCS-4 (little/big endian)">UCS4</a>&lt;ByteOrder::BE&gt; {};
<a name="l00594"></a>00594 
<a name="l00597"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html">00597</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html" title="character set encoding UTF-8">UTF8</a>
<a name="l00598"></a>00598 {
<a name="l00599"></a>00599         <span class="keyword">enum</span> {MaxChar=0xFFFFFFFF};
<a name="l00600"></a>00600         <span class="keyword">enum</span> {
<a name="l00601"></a>00601                 B11111111=0xFF,
<a name="l00602"></a>00602                 B01111111=0x7F,
<a name="l00603"></a>00603                 B00111111=0x3F,
<a name="l00604"></a>00604                 B00011111=0x1F,
<a name="l00605"></a>00605                 B00001111=0x0F,
<a name="l00606"></a>00606                 B00000111=0x07,
<a name="l00607"></a>00607                 B00000011=0x03,
<a name="l00608"></a>00608                 B00000001=0x01,
<a name="l00609"></a>00609                 B00000000=0x00,
<a name="l00610"></a>00610                 B10000000=0x80,
<a name="l00611"></a>00611                 B11000000=0xC0,
<a name="l00612"></a>00612                 B11100000=0xE0,
<a name="l00613"></a>00613                 B11110000=0xF0,
<a name="l00614"></a>00614                 B11111000=0xF8,
<a name="l00615"></a>00615                 B11111100=0xFC,
<a name="l00616"></a>00616                 B11111110=0xFE,
<a name="l00617"></a>00617 
<a name="l00618"></a>00618                 B11011111=B11000000|B00011111,
<a name="l00619"></a>00619                 B11101111=B11100000|B00001111,
<a name="l00620"></a>00620                 B11110111=B11110000|B00000111,
<a name="l00621"></a>00621                 B11111011=B11111000|B00000011,
<a name="l00622"></a>00622                 B11111101=B11111100|B00000001
<a name="l00623"></a>00623         };
<a name="l00624"></a>00624 
<a name="l00625"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8_1_1CharLengthTab.html">00625</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UTF8_1_1CharLengthTab.html">CharLengthTab</a>    :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>&lt;unsigned char, 0&gt;
<a name="l00626"></a>00626         {
<a name="l00627"></a>00627                 <a class="code" href="structtextwolf_1_1charset_1_1UTF8_1_1CharLengthTab.html">CharLengthTab</a>()
<a name="l00628"></a>00628                 {
<a name="l00629"></a>00629                         (*this)
<a name="l00630"></a>00630                         (B00000000,B01111111,1)
<a name="l00631"></a>00631                         (B11000000,B11011111,2)
<a name="l00632"></a>00632                         (B11100000,B11101111,3)
<a name="l00633"></a>00633                         (B11110000,B11110111,4)
<a name="l00634"></a>00634                         (B11111000,B11111011,5)
<a name="l00635"></a>00635                         (B11111100,B11111101,6)
<a name="l00636"></a>00636                         (B11111110,B11111110,7)
<a name="l00637"></a>00637                         (B11111111,B11111111,8);
<a name="l00638"></a>00638                 };
<a name="l00639"></a>00639         };
<a name="l00640"></a>00640 
<a name="l00645"></a>00645         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00646"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a6f3e294ba9ad4065cc1469bb6283e2a6">00646</a>         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a6f3e294ba9ad4065cc1469bb6283e2a6" title="Get the size of the current character in bytes (variable length encoding)">size</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00647"></a>00647         {
<a name="l00648"></a>00648                 <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1charset_1_1UTF8_1_1CharLengthTab.html">CharLengthTab</a> charLengthTab;
<a name="l00649"></a>00649                 <span class="keywordflow">if</span> (bufpos==0)
<a name="l00650"></a>00650                 {
<a name="l00651"></a>00651                         buf[0] = *itr;
<a name="l00652"></a>00652                         ++itr;
<a name="l00653"></a>00653                         ++bufpos;
<a name="l00654"></a>00654                 }
<a name="l00655"></a>00655                 <span class="keywordflow">return</span> charLengthTab[ (<span class="keywordtype">unsigned</span> char)buf[ 0]];
<a name="l00656"></a>00656         }
<a name="l00657"></a>00657 
<a name="l00659"></a>00659         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00660"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#aab87ccf7e80f708d3e1708e14294f6e3">00660</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#aab87ccf7e80f708d3e1708e14294f6e3" title="See template&lt;class Iterator&gt;Interface::skip(char*,unsigned int&amp;,Iterator&amp;)">skip</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00661"></a>00661         {
<a name="l00662"></a>00662                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a6f3e294ba9ad4065cc1469bb6283e2a6" title="Get the size of the current character in bytes (variable length encoding)">size</a>( buf, bufpos, itr);
<a name="l00663"></a>00663                 <span class="keywordflow">for</span> (;bufpos &lt; bufsize; ++bufpos)
<a name="l00664"></a>00664                 {
<a name="l00665"></a>00665                         ++itr;
<a name="l00666"></a>00666                 }
<a name="l00667"></a>00667         }
<a name="l00668"></a>00668 
<a name="l00670"></a>00670         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00671"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#ad3678bf7e464457d77edd1c3542a2a8f">00671</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#ad3678bf7e464457d77edd1c3542a2a8f" title="See template&lt;class Iterator&gt;Interface::asciichar(char*,unsigned int&amp;,Iterator&amp;)">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00672"></a>00672         {
<a name="l00673"></a>00673                 <span class="keywordflow">if</span> (bufpos==0)
<a name="l00674"></a>00674                 {
<a name="l00675"></a>00675                         buf[0] = *itr;
<a name="l00676"></a>00676                         ++itr;
<a name="l00677"></a>00677                         ++bufpos;
<a name="l00678"></a>00678                 }
<a name="l00679"></a>00679                 <span class="keywordflow">return</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(buf[0])&gt;127)?-1:buf[0];
<a name="l00680"></a>00680         }
<a name="l00681"></a>00681 
<a name="l00683"></a>00683         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00684"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a5a1848c956051ccb851f8be86e807e40">00684</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a5a1848c956051ccb851f8be86e807e40" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00685"></a>00685         {
<a name="l00686"></a>00686                 <span class="keywordflow">if</span> (bufpos==0)
<a name="l00687"></a>00687                 {
<a name="l00688"></a>00688                         buf[0] = *itr;
<a name="l00689"></a>00689                         ++itr;
<a name="l00690"></a>00690                         ++bufpos;
<a name="l00691"></a>00691                 }
<a name="l00692"></a>00692                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a6f3e294ba9ad4065cc1469bb6283e2a6" title="Get the size of the current character in bytes (variable length encoding)">size</a>( buf, bufpos, itr);
<a name="l00693"></a>00693                 <span class="keywordflow">for</span> (;bufpos &lt; bufsize; ++bufpos)
<a name="l00694"></a>00694                 {
<a name="l00695"></a>00695                         buf[ bufpos] = *itr;
<a name="l00696"></a>00696                         ++itr;
<a name="l00697"></a>00697                 }
<a name="l00698"></a>00698                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> res = (<span class="keywordtype">unsigned</span> char)buf[0];
<a name="l00699"></a>00699                 <span class="keywordflow">if</span> (res &gt; 127)
<a name="l00700"></a>00700                 {
<a name="l00701"></a>00701                         <span class="keywordtype">int</span> gg = bufsize-2;
<a name="l00702"></a>00702                         <span class="keywordflow">if</span> (gg &lt; 0) <span class="keywordflow">return</span> MaxChar;
<a name="l00703"></a>00703 
<a name="l00704"></a>00704                         res = ((<span class="keywordtype">unsigned</span> char)buf[0])&amp;(B00011111&gt;&gt;gg);
<a name="l00705"></a>00705                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;=gg; ii++)
<a name="l00706"></a>00706                         {
<a name="l00707"></a>00707                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> xx = (<span class="keywordtype">unsigned</span> char)buf[ii+1];
<a name="l00708"></a>00708                                 res = (res&lt;&lt;6) | (xx &amp; B00111111);
<a name="l00709"></a>00709                                 <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(xx &amp; B11000000) != B10000000)
<a name="l00710"></a>00710                                 {
<a name="l00711"></a>00711                                         <span class="keywordflow">return</span> MaxChar;
<a name="l00712"></a>00712                                 }
<a name="l00713"></a>00713                         }
<a name="l00714"></a>00714                 }
<a name="l00715"></a>00715                 <span class="keywordflow">return</span> res;
<a name="l00716"></a>00716         }
<a name="l00717"></a>00717 
<a name="l00719"></a>00719         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00720"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a98f9d14db65dcdd759f09bde6360b3b3">00720</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1charset_1_1UTF8.html#a98f9d14db65dcdd759f09bde6360b3b3" title="See template&lt;class Buffer&gt;Interface::print(UChar,Buffer&amp;)">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr, Buffer_&amp; buf)
<a name="l00721"></a>00721         {
<a name="l00722"></a>00722                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rt;
<a name="l00723"></a>00723                 <span class="keywordflow">if</span> (chr &lt;= 127)
<a name="l00724"></a>00724                 {
<a name="l00725"></a>00725                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)chr);
<a name="l00726"></a>00726                         <span class="keywordflow">return</span>;
<a name="l00727"></a>00727                 }
<a name="l00728"></a>00728                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pp,sf;
<a name="l00729"></a>00729                 <span class="keywordflow">for</span> (pp=1,sf=5; pp&lt;5; pp++,sf+=5)
<a name="l00730"></a>00730                 {
<a name="l00731"></a>00731                         <span class="keywordflow">if</span> (chr &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)((1&lt;&lt;6)&lt;&lt;sf)) <span class="keywordflow">break</span>;
<a name="l00732"></a>00732                 }
<a name="l00733"></a>00733                 rt = pp+1;
<a name="l00734"></a>00734                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> HB = (<span class="keywordtype">unsigned</span> char)(B11111111 &lt;&lt; (8-rt));
<a name="l00735"></a>00735                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> shf = (<span class="keywordtype">unsigned</span> char)(pp*6);
<a name="l00736"></a>00736                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l00737"></a>00737                 buf.push_back( (<span class="keywordtype">char</span>)(((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(chr &gt;&gt; shf) &amp; (~HB &gt;&gt; 1)) | HB));
<a name="l00738"></a>00738                 <span class="keywordflow">for</span> (ii=1,shf-=6; ii&lt;=pp; shf-=6,ii++)
<a name="l00739"></a>00739                 {
<a name="l00740"></a>00740                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) (((chr &gt;&gt; shf) &amp; B00111111) | B10000000));
<a name="l00741"></a>00741                 }
<a name="l00742"></a>00742         }
<a name="l00743"></a>00743 };
<a name="l00744"></a>00744 
<a name="l00755"></a>00755 <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> encoding=ByteOrder::BE&gt;
<a name="l00756"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html">00756</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html" title="Character set UTF16 (little/big endian)">UTF16</a>
<a name="l00757"></a>00757 {
<a name="l00758"></a>00758 <span class="keyword">private</span>:
<a name="l00759"></a>00759         <span class="keyword">enum</span>
<a name="l00760"></a>00760         {
<a name="l00761"></a>00761                 LSB=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>),                  
<a name="l00762"></a>00762                 MSB=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304" title="little endian">ByteOrder::LE</a>),                  
<a name="l00763"></a>00763                 Print1shift=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374ca150aacfe80288a1a57d23ae3f860f65c" title="big endian">ByteOrder::BE</a>)?8:0,      
<a name="l00764"></a>00764                 Print2shift=(encoding==<a class="code" href="structtextwolf_1_1charset_1_1ByteOrder.html#a3823eff37b775cc17674c0d32c2e374caf68b62c75bbcb72f1a3b1db5f9471304" title="little endian">ByteOrder::LE</a>)?8:0,      
<a name="l00765"></a>00765                 MaxChar=0x10FFFF
<a name="l00766"></a>00766         };
<a name="l00767"></a>00767 <span class="keyword">public</span>:
<a name="l00772"></a>00772         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00773"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a656084ccb528d9094d133084853efec2">00773</a>         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a656084ccb528d9094d133084853efec2" title="Get the size of the current character in bytes (variable length encoding)">size</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00774"></a>00774         {
<a name="l00775"></a>00775                 <span class="keywordflow">if</span> (bufpos&lt;2)
<a name="l00776"></a>00776                 {
<a name="l00777"></a>00777                         <span class="keywordflow">if</span> (bufpos&lt;1)
<a name="l00778"></a>00778                         {
<a name="l00779"></a>00779                                 buf[0] = *itr;
<a name="l00780"></a>00780                                 ++itr;
<a name="l00781"></a>00781                                 ++bufpos;
<a name="l00782"></a>00782                         }
<a name="l00783"></a>00783                         buf[1] = *itr;
<a name="l00784"></a>00784                         ++itr;
<a name="l00785"></a>00785                         ++bufpos;
<a name="l00786"></a>00786                 }
<a name="l00787"></a>00787                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> rt = (<span class="keywordtype">unsigned</span> char)buf[ MSB];
<a name="l00788"></a>00788                 <span class="keywordflow">if</span> ((rt - 0xD8) &gt; 0x03)
<a name="l00789"></a>00789                 {
<a name="l00790"></a>00790                         <span class="keywordflow">return</span> 2;
<a name="l00791"></a>00791                 }
<a name="l00792"></a>00792                 <span class="keywordflow">else</span>
<a name="l00793"></a>00793                 {
<a name="l00794"></a>00794                         <span class="keywordflow">return</span> 4;
<a name="l00795"></a>00795                 }
<a name="l00796"></a>00796         }
<a name="l00797"></a>00797 
<a name="l00799"></a>00799         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00800"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a7ada2fb0ef8303ebedc5f2f70b0b6299">00800</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a7ada2fb0ef8303ebedc5f2f70b0b6299" title="See template&lt;class Iterator&gt;Interface::skip(char*,unsigned int&amp;,Iterator&amp;)">skip</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00801"></a>00801         {
<a name="l00802"></a>00802                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a656084ccb528d9094d133084853efec2" title="Get the size of the current character in bytes (variable length encoding)">size</a>( buf, bufpos, itr);
<a name="l00803"></a>00803                 <span class="keywordflow">for</span> (;bufpos &lt; bufsize; ++bufpos)
<a name="l00804"></a>00804                 {
<a name="l00805"></a>00805                         ++itr;
<a name="l00806"></a>00806                 }
<a name="l00807"></a>00807         }
<a name="l00808"></a>00808 
<a name="l00810"></a>00810         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00811"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#af863797b3120b2a24d0e2f50a56463a1">00811</a>         <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#af863797b3120b2a24d0e2f50a56463a1" title="See template&lt;class Iterator&gt;Interface::asciichar(char*,unsigned int&amp;,Iterator&amp;)">asciichar</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00812"></a>00812         {
<a name="l00813"></a>00813                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch = <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a1fe5eb599f26852747a58453aa063e4d" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( buf, bufpos, itr);
<a name="l00814"></a>00814                 <span class="keywordflow">return</span> (ch &gt; 127)?-1:(char)ch;
<a name="l00815"></a>00815         }
<a name="l00816"></a>00816 
<a name="l00818"></a>00818         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00819"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a1fe5eb599f26852747a58453aa063e4d">00819</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a1fe5eb599f26852747a58453aa063e4d" title="See template&lt;class Iterator&gt;Interface::value(char*,unsigned int&amp;,Iterator&amp;)">value</a>( <span class="keywordtype">char</span>* buf, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; bufpos, Iterator&amp; itr)
<a name="l00820"></a>00820         {
<a name="l00821"></a>00821                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufsize = <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a656084ccb528d9094d133084853efec2" title="Get the size of the current character in bytes (variable length encoding)">size</a>( buf, bufpos, itr);
<a name="l00822"></a>00822                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> rt = (<span class="keywordtype">unsigned</span> char)buf[ MSB];
<a name="l00823"></a>00823                 rt = (rt &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)buf[ LSB];
<a name="l00824"></a>00824 
<a name="l00825"></a>00825                 <span class="keywordflow">if</span> (bufsize == 4)
<a name="l00826"></a>00826                 {
<a name="l00827"></a>00827                         <span class="comment">// 2 teilig</span>
<a name="l00828"></a>00828                         <span class="keywordflow">while</span> (bufpos &lt; bufsize)
<a name="l00829"></a>00829                         {
<a name="l00830"></a>00830                                 buf[bufpos] = *itr;
<a name="l00831"></a>00831                                 ++itr;
<a name="l00832"></a>00832                                 ++bufpos;
<a name="l00833"></a>00833                         }
<a name="l00834"></a>00834                         rt -= 0xD800;
<a name="l00835"></a>00835                         rt *= 0x400;
<a name="l00836"></a>00836                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> lo = (<span class="keywordtype">unsigned</span> char)buf[ 2+MSB];
<a name="l00837"></a>00837                         <span class="keywordflow">if</span> ((lo - 0xD8) &gt; 0x03) <span class="keywordflow">return</span> 0xFFFF;
<a name="l00838"></a>00838                         lo = (lo &lt;&lt; 8) + (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)buf[ 2+LSB];
<a name="l00839"></a>00839                         <span class="keywordflow">return</span> rt + lo - 0xDC00 + 0x010000;
<a name="l00840"></a>00840                 }
<a name="l00841"></a>00841                 <span class="keywordflow">return</span> rt;
<a name="l00842"></a>00842         }
<a name="l00843"></a>00843 
<a name="l00845"></a>00845         <span class="keyword">template</span> &lt;<span class="keyword">class</span> Buffer_&gt;
<a name="l00846"></a><a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a475c3eea3fc9a986aaac90692e7923e2">00846</a>         <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html#a475c3eea3fc9a986aaac90692e7923e2" title="See template&lt;class Buffer&gt;Interface::print(UChar,Buffer&amp;)">print</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch, Buffer_&amp; buf)
<a name="l00847"></a>00847         {
<a name="l00848"></a>00848                 <span class="keywordflow">if</span> (ch &lt;= 0xFFFF)
<a name="l00849"></a>00849                 {
<a name="l00850"></a>00850                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((ch &gt;&gt; Print1shift) &amp; 0xFF));
<a name="l00851"></a>00851                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((ch &gt;&gt; Print2shift) &amp; 0xFF));
<a name="l00852"></a>00852                 }
<a name="l00853"></a>00853                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch &lt;= 0x10FFFF)
<a name="l00854"></a>00854                 {
<a name="l00855"></a>00855                         ch -= 0x10000;
<a name="l00856"></a>00856                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> hi = (ch / 0x400) + 0xD800;
<a name="l00857"></a>00857                         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> lo = (ch % 0x400) + 0xDC00;
<a name="l00858"></a>00858                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((hi &gt;&gt; Print1shift) &amp; 0xFF));
<a name="l00859"></a>00859                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((hi &gt;&gt; Print2shift) &amp; 0xFF));
<a name="l00860"></a>00860                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((lo &gt;&gt; Print1shift) &amp; 0xFF));
<a name="l00861"></a>00861                         buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((lo &gt;&gt; Print2shift) &amp; 0xFF));
<a name="l00862"></a>00862                 }
<a name="l00863"></a>00863                 <span class="keywordflow">else</span>
<a name="l00864"></a>00864                 {
<a name="l00865"></a>00865                         <span class="keywordtype">char</span> tb[ 32];
<a name="l00866"></a>00866                         <span class="keywordtype">char</span>* cc = tb;
<a name="l00867"></a>00867                         <a class="code" href="structtextwolf_1_1charset_1_1Encoder.html#ad083232a041e2309b9d22af40b2c7502" title="Write the character &#39;chr&#39; in encoded form as nul-terminated string to a buffer.">Encoder::encode</a>( ch, tb, <span class="keyword">sizeof</span>(tb));
<a name="l00868"></a>00868                         <span class="keywordflow">while</span> (*cc)
<a name="l00869"></a>00869                         {
<a name="l00870"></a>00870                                 buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(((<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)*cc &gt;&gt; Print1shift) &amp; 0xFF));
<a name="l00871"></a>00871                                 buf.push_back( (<span class="keywordtype">char</span>)(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(((<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)*cc &gt;&gt; Print2shift) &amp; 0xFF));
<a name="l00872"></a>00872                                 ++cc;
<a name="l00873"></a>00873                         }
<a name="l00874"></a>00874                 }
<a name="l00875"></a>00875         }
<a name="l00876"></a>00876 };
<a name="l00877"></a>00877 
<a name="l00880"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF16LE.html">00880</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UTF16LE.html" title="UTF-16 little endian character set encoding.">UTF16LE</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html" title="Character set UTF16 (little/big endian)">UTF16</a>&lt;ByteOrder::LE&gt; {};
<a name="l00883"></a><a class="code" href="structtextwolf_1_1charset_1_1UTF16BE.html">00883</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1charset_1_1UTF16BE.html" title="UTF-16 big endian character set encoding.">UTF16BE</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1charset_1_1UTF16.html" title="Character set UTF16 (little/big endian)">UTF16</a>&lt;ByteOrder::BE&gt; {};
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 }<span class="comment">//namespace charset</span>
<a name="l00886"></a>00886 
<a name="l00889"></a><a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3">00889</a> <span class="keyword">enum</span> <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a>
<a name="l00890"></a>00890 {
<a name="l00891"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d">00891</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>=0,                
<a name="l00892"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3">00892</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,              
<a name="l00893"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220">00893</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,              
<a name="l00894"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5">00894</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,                  
<a name="l00895"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70">00895</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,                  
<a name="l00896"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28">00896</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28" title="ampersant (&#39;&amp;&#39;)">Amp</a>,                    
<a name="l00897"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3">00897</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,                     
<a name="l00898"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d">00898</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,                  
<a name="l00899"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023">00899</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,                     
<a name="l00900"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294">00900</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,                  
<a name="l00901"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f">00901</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f" title="exclamation mark &#39;!&#39;">Exclam</a>,                 
<a name="l00902"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d">00902</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,                 
<a name="l00903"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7">00903</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,                     
<a name="l00904"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898">00904</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,                     
<a name="l00905"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac">00905</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,                    
<a name="l00906"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46">00906</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,                    
<a name="l00907"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868">00907</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>,                    
<a name="l00908"></a><a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0">00908</a>         <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>=17  
<a name="l00909"></a>00909 };
<a name="l00910"></a>00910 
<a name="l00913"></a><a class="code" href="structtextwolf_1_1ControlCharacterM.html">00913</a> <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1ControlCharacterM.html" title="Map of the enumeration of control characters to their names for debug messages.">ControlCharacterM</a>
<a name="l00914"></a>00914 {
<a name="l00917"></a><a class="code" href="structtextwolf_1_1ControlCharacterM.html#a9da2e5fd67218e73c6ac69ac9c86988f">00917</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1ControlCharacterM.html#a9da2e5fd67218e73c6ac69ac9c86988f" title="Get the name of a control character as string.">name</a>( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> c)
<a name="l00918"></a>00918         {
<a name="l00919"></a>00919                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1ControlCharacterM.html#a9da2e5fd67218e73c6ac69ac9c86988f" title="Get the name of a control character as string.">name</a>[ <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>] = {<span class="stringliteral">&quot;Undef&quot;</span>, <span class="stringliteral">&quot;EndOfText&quot;</span>, <span class="stringliteral">&quot;EndOfLine&quot;</span>, <span class="stringliteral">&quot;Cntrl&quot;</span>, <span class="stringliteral">&quot;Space&quot;</span>, <span class="stringliteral">&quot;Amp&quot;</span>, <span class="stringliteral">&quot;Lt&quot;</span>, <span class="stringliteral">&quot;Equal&quot;</span>, <span class="stringliteral">&quot;Gt&quot;</span>, <span class="stringliteral">&quot;Slash&quot;</span>, <span class="stringliteral">&quot;Exclam&quot;</span>, <span class="stringliteral">&quot;Questm&quot;</span>, <span class="stringliteral">&quot;Sq&quot;</span>, <span class="stringliteral">&quot;Dq&quot;</span>, <span class="stringliteral">&quot;Osb&quot;</span>, <span class="stringliteral">&quot;Csb&quot;</span>, <span class="stringliteral">&quot;Any&quot;</span>};
<a name="l00920"></a>00920                 <span class="keywordflow">return</span> name[ (<span class="keywordtype">unsigned</span> int)c];
<a name="l00921"></a>00921         }
<a name="l00922"></a>00922 };
<a name="l00923"></a>00923 
<a name="l00925"></a>00925 
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 
<a name="l00933"></a>00933 
<a name="l00934"></a>00934 
<a name="l00935"></a>00935 <span class="keyword">template</span> &lt;<span class="keyword">class</span> Iterator, <span class="keyword">class</span> CharSet&gt;
<a name="l00936"></a><a class="code" href="classtextwolf_1_1TextScanner.html">00936</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a>
<a name="l00937"></a>00937 {
<a name="l00938"></a>00938 <span class="keyword">private</span>:
<a name="l00939"></a>00939         Iterator input;                 
<a name="l00940"></a>00940         <span class="keywordtype">char</span> buf[8];                    
<a name="l00941"></a>00941         <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> val;                      
<a name="l00942"></a>00942         <span class="keywordtype">char</span> cur;                       
<a name="l00943"></a>00943         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> state;             
<a name="l00944"></a>00944 
<a name="l00945"></a>00945 <span class="keyword">public</span>:
<a name="l00948"></a><a class="code" href="structtextwolf_1_1TextScanner_1_1ControlCharMap.html">00948</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1TextScanner_1_1ControlCharMap.html" title="Map of ASCII characters to control character identifiers used in the XML scanner automaton.">ControlCharMap</a>  :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>&lt;ControlCharacter,Undef&gt;
<a name="l00949"></a>00949         {
<a name="l00950"></a>00950                 <a class="code" href="structtextwolf_1_1TextScanner_1_1ControlCharMap.html" title="Map of ASCII characters to control character identifiers used in the XML scanner automaton.">ControlCharMap</a>()
<a name="l00951"></a>00951                 {
<a name="l00952"></a>00952                         (*this)
<a name="l00953"></a>00953                         (0,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>)
<a name="l00954"></a>00954                         (1,31,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>)
<a name="l00955"></a>00955                         (5,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>)
<a name="l00956"></a>00956                         (33,127,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>)
<a name="l00957"></a>00957                         (128,255,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>)
<a name="l00958"></a>00958                         (<span class="charliteral">&#39;\t&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)
<a name="l00959"></a>00959                         (<span class="charliteral">&#39;\r&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)
<a name="l00960"></a>00960                         (<span class="charliteral">&#39;\n&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)
<a name="l00961"></a>00961                         (<span class="charliteral">&#39; &#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)
<a name="l00962"></a>00962                         (<span class="charliteral">&#39;&amp;&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28" title="ampersant (&#39;&amp;&#39;)">Amp</a>)
<a name="l00963"></a>00963                         (<span class="charliteral">&#39;&lt;&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>)
<a name="l00964"></a>00964                         (<span class="charliteral">&#39;=&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>)
<a name="l00965"></a>00965                         (<span class="charliteral">&#39;&gt;&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>)
<a name="l00966"></a>00966                         (<span class="charliteral">&#39;/&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>)
<a name="l00967"></a>00967                         (<span class="charliteral">&#39;!&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f" title="exclamation mark &#39;!&#39;">Exclam</a>)
<a name="l00968"></a>00968                         (<span class="charliteral">&#39;?&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>)
<a name="l00969"></a>00969                         (<span class="charliteral">&#39;\&#39;&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>)
<a name="l00970"></a>00970                         (<span class="charliteral">&#39;\&quot;&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>)
<a name="l00971"></a>00971                         (<span class="charliteral">&#39;[&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>)
<a name="l00972"></a>00972                         (<span class="charliteral">&#39;]&#39;</span>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>);
<a name="l00973"></a>00973                 };
<a name="l00974"></a>00974         };
<a name="l00975"></a>00975 
<a name="l00977"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a29880bc9516f3c1ed8c4316532ea7919">00977</a>         <a class="code" href="classtextwolf_1_1TextScanner.html#a29880bc9516f3c1ed8c4316532ea7919" title="Constructor.">TextScanner</a>()
<a name="l00978"></a>00978                 :val(0),cur(0),state(0)
<a name="l00979"></a>00979         {
<a name="l00980"></a>00980                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;<span class="keyword">sizeof</span>(buf); ii++) buf[ii] = 0;
<a name="l00981"></a>00981         }
<a name="l00982"></a>00982 
<a name="l00983"></a>00983         <a class="code" href="classtextwolf_1_1TextScanner.html#a29880bc9516f3c1ed8c4316532ea7919" title="Constructor.">TextScanner</a>( <span class="keyword">const</span> Iterator&amp; p_iterator)
<a name="l00984"></a>00984                         :input(p_iterator),val(0),cur(0),state(0)
<a name="l00985"></a>00985         {
<a name="l00986"></a>00986                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;<span class="keyword">sizeof</span>(buf); ii++) buf[ii] = 0;
<a name="l00987"></a>00987         }
<a name="l00988"></a>00988 
<a name="l00991"></a><a class="code" href="classtextwolf_1_1TextScanner.html#ab253b7395490d044f9befb8545851d40">00991</a>         <a class="code" href="classtextwolf_1_1TextScanner.html#a29880bc9516f3c1ed8c4316532ea7919" title="Constructor.">TextScanner</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a>&amp; orig)
<a name="l00992"></a>00992                         :val(orig.val),cur(orig.cur),state(orig.state)
<a name="l00993"></a>00993         {
<a name="l00994"></a>00994                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;<span class="keyword">sizeof</span>(buf); ii++) buf[ii]=orig.buf[ii];
<a name="l00995"></a>00995         }
<a name="l00996"></a>00996 
<a name="l00999"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a1383f3d13f3f87efda9be768ded1c487">00999</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1TextScanner.html#a1383f3d13f3f87efda9be768ded1c487" title="Initialize a new source iterator while keeping the state.">setSource</a>( <span class="keyword">const</span> Iterator&amp; p_iterator)
<a name="l01000"></a>01000         {
<a name="l01001"></a>01001                 input = p_iterator;
<a name="l01002"></a>01002         }
<a name="l01003"></a>01003 
<a name="l01006"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a783b195912d79ed958f7f9b0660f156a">01006</a>         <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="classtextwolf_1_1TextScanner.html#a783b195912d79ed958f7f9b0660f156a" title="Get the unicode character of the current character.">chr</a>()
<a name="l01007"></a>01007         {
<a name="l01008"></a>01008                 <span class="keywordflow">if</span> (val == 0)
<a name="l01009"></a>01009                 {
<a name="l01010"></a>01010                         val = CharSet::value( buf, state, input);
<a name="l01011"></a>01011                 }
<a name="l01012"></a>01012                 <span class="keywordflow">return</span> val;
<a name="l01013"></a>01013         }
<a name="l01014"></a>01014 
<a name="l01016"></a><a class="code" href="classtextwolf_1_1TextScanner.html#ad8d2e73575e69cf8b86034da6db0fcc4">01016</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1TextScanner.html#ad8d2e73575e69cf8b86034da6db0fcc4" title="Fill the internal buffer with as many current character bytes needed for reading the ASCII representa...">getcur</a>()
<a name="l01017"></a>01017         {
<a name="l01018"></a>01018                 cur = CharSet::asciichar( buf, state, input);
<a name="l01019"></a>01019         }
<a name="l01020"></a>01020 
<a name="l01023"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71">01023</a>         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> <a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>()
<a name="l01024"></a>01024         {
<a name="l01025"></a>01025                 <span class="keyword">static</span> ControlCharMap controlCharMap;
<a name="l01026"></a>01026                 <a class="code" href="classtextwolf_1_1TextScanner.html#ad8d2e73575e69cf8b86034da6db0fcc4" title="Fill the internal buffer with as many current character bytes needed for reading the ASCII representa...">getcur</a>();
<a name="l01027"></a>01027                 <span class="keywordflow">return</span> controlCharMap[ (<span class="keywordtype">unsigned</span> char)cur];
<a name="l01028"></a>01028         }
<a name="l01029"></a>01029 
<a name="l01032"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c">01032</a>         <span class="keywordtype">char</span> <a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>()
<a name="l01033"></a>01033         {
<a name="l01034"></a>01034                 <a class="code" href="classtextwolf_1_1TextScanner.html#ad8d2e73575e69cf8b86034da6db0fcc4" title="Fill the internal buffer with as many current character bytes needed for reading the ASCII representa...">getcur</a>();
<a name="l01035"></a>01035                 <span class="keywordflow">return</span> cur&gt;=0?cur:0;
<a name="l01036"></a>01036         }
<a name="l01037"></a>01037 
<a name="l01040"></a><a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f">01040</a>         <a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a>&amp; <a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>()
<a name="l01041"></a>01041         {
<a name="l01042"></a>01042                 <a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">CharSet::skip</a>( buf, state, input);
<a name="l01043"></a>01043                 state = 0;
<a name="l01044"></a>01044                 cur = 0;
<a name="l01045"></a>01045                 val = 0;
<a name="l01046"></a>01046                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01047"></a>01047         }
<a name="l01048"></a>01048 
<a name="l01050"></a><a class="code" href="classtextwolf_1_1TextScanner.html#a2e65d1f0a4ab1ca3264ca10aa6ee04c6">01050</a>         <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="classtextwolf_1_1TextScanner.html#a2e65d1f0a4ab1ca3264ca10aa6ee04c6" title="see TextScanner::chr()">operator*</a>()
<a name="l01051"></a>01051         {
<a name="l01052"></a>01052                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1TextScanner.html#a783b195912d79ed958f7f9b0660f156a" title="Get the unicode character of the current character.">chr</a>();
<a name="l01053"></a>01053         }
<a name="l01054"></a>01054 
<a name="l01057"></a><a class="code" href="classtextwolf_1_1TextScanner.html#abab7abef27e2745c4464a793b518d896">01057</a>         <a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a>&amp; <a class="code" href="classtextwolf_1_1TextScanner.html#abab7abef27e2745c4464a793b518d896" title="Preincrement: Skip to the next character of the source.">operator ++</a>()      {<span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();}
<a name="l01058"></a>01058 
<a name="l01061"></a><a class="code" href="classtextwolf_1_1TextScanner.html#ab18e833d8e155673e5e096b1ccbe0128">01061</a>         <a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a> <a class="code" href="classtextwolf_1_1TextScanner.html#abab7abef27e2745c4464a793b518d896" title="Preincrement: Skip to the next character of the source.">operator ++</a>(<span class="keywordtype">int</span>)    {<a class="code" href="classtextwolf_1_1TextScanner.html" title="Reader for scanning the input character by character.">TextScanner</a> tmp(*<span class="keyword">this</span>); <a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>(); <span class="keywordflow">return</span> tmp;}
<a name="l01062"></a>01062 };
<a name="l01063"></a>01063 
<a name="l01065"></a>01065 
<a name="l01066"></a>01066 
<a name="l01067"></a>01067 
<a name="l01071"></a>01071 
<a name="l01072"></a>01072 
<a name="l01073"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html">01073</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l01074"></a>01074 {
<a name="l01075"></a>01075 <span class="keyword">public</span>:
<a name="l01076"></a>01076         <span class="keyword">enum</span>
<a name="l01077"></a>01077         {
<a name="l01078"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a5aaad0304dde4716a5f0c14f85df2e3dac36ed547d2ee6625e8ed58e66e413109">01078</a>                 <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a5aaad0304dde4716a5f0c14f85df2e3dac36ed547d2ee6625e8ed58e66e413109" title="maximum number of states (fixed allocated array for state machine)">MaxNofStates</a>=64                 
<a name="l01079"></a>01079         };
<a name="l01082"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html">01082</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html" title="One state in the state machine.">Element</a>
<a name="l01083"></a>01083         {
<a name="l01084"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d">01084</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a>;              
<a name="l01085"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a">01085</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a" title="error code in case of an event that does not match and there is no fallback">missError</a>;                  
<a name="l01086"></a>01086 
<a name="l01089"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html">01089</a>                 <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html" title="Definition of action fired by the state machine.">Action</a>
<a name="l01090"></a>01090                 {
<a name="l01091"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a77fac25bd5bfd337efe32b84c2ff38d2">01091</a>                         <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a77fac25bd5bfd337efe32b84c2ff38d2" title="action operand">op</a>;                 
<a name="l01092"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a93670d0acdda877bf6049ae93ce9e833">01092</a>                         <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a93670d0acdda877bf6049ae93ce9e833" title="action argument">arg</a>;                
<a name="l01093"></a>01093                 };
<a name="l01094"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71">01094</a>                 <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html" title="Definition of action fired by the state machine.">Action</a> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>;                  
<a name="l01095"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0">01095</a>                 <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0" title="number of follow states defined">nofnext</a>;                   
<a name="l01096"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f">01096</a>                 <span class="keywordtype">char</span> <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>];
<a name="l01097"></a>01097 
<a name="l01099"></a><a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#abb74a3321654798452a22582f760092e">01099</a>                 <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#abb74a3321654798452a22582f760092e" title="Constructor.">Element</a>() :<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a>(-1),<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a" title="error code in case of an event that does not match and there is no fallback">missError</a>(-1),<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0" title="number of follow states defined">nofnext</a>(0)
<a name="l01100"></a>01100                 {
<a name="l01101"></a>01101                         <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a77fac25bd5bfd337efe32b84c2ff38d2" title="action operand">op</a> = -1;
<a name="l01102"></a>01102                         <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element_1_1Action.html#a93670d0acdda877bf6049ae93ce9e833" title="action argument">arg</a> = 0;
<a name="l01103"></a>01103                         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>; ii++) <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ii] = -1;
<a name="l01104"></a>01104                 }
<a name="l01105"></a>01105         };
<a name="l01109"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ab5046746e910318e1a3a4e944dbbfcde">01109</a>         <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html" title="One state in the state machine.">Element</a>* <span class="keyword">get</span>( <span class="keywordtype">int</span> stateIdx) <span class="keywordflow">throw</span>(<a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>)
<a name="l01110"></a>01110         {
<a name="l01111"></a>01111                 <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)stateIdx&gt;size) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>(<a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01112"></a>01112                 <span class="keywordflow">return</span> tab + stateIdx;
<a name="l01113"></a>01113         }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115 <span class="keyword">private</span>:
<a name="l01116"></a>01116         Element tab[ <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a5aaad0304dde4716a5f0c14f85df2e3dac36ed547d2ee6625e8ed58e66e413109" title="maximum number of states (fixed allocated array for state machine)">MaxNofStates</a>];     
<a name="l01117"></a>01117         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size;              
<a name="l01118"></a>01118 
<a name="l01121"></a>01121         <span class="keywordtype">void</span> newState( <span class="keywordtype">int</span> stateIdx) <span class="keywordflow">throw</span>(<a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>)
<a name="l01122"></a>01122         {
<a name="l01123"></a>01123                 <span class="keywordflow">if</span> (size != (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)stateIdx) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a349c2185d387d7c45abe47aca0bcdea8" title="XML scanner automaton definition check failed. Labels of states must be equal to their indices...">StateNumbersNotAscending</a>);
<a name="l01124"></a>01124                 <span class="keywordflow">if</span> (size &gt;= <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a5aaad0304dde4716a5f0c14f85df2e3dac36ed547d2ee6625e8ed58e66e413109" title="maximum number of states (fixed allocated array for state machine)">MaxNofStates</a>) <span class="keywordflow">throw</span> <a class="code" href="structtextwolf_1_1exception.html" title="textwolf exception class">exception</a>( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>);
<a name="l01125"></a>01125                 size++;
<a name="l01126"></a>01126         }
<a name="l01127"></a>01127 
<a name="l01130"></a>01130         <span class="keywordtype">void</span> addOtherTransition( <span class="keywordtype">int</span> nextState) <span class="keywordflow">throw</span>(exception)
<a name="l01131"></a>01131         {
<a name="l01132"></a>01132                 <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01133"></a>01133                 <span class="keywordflow">if</span> (nextState &lt; 0 || nextState &gt; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a5aaad0304dde4716a5f0c14f85df2e3dac36ed547d2ee6625e8ed58e66e413109" title="maximum number of states (fixed allocated array for state machine)">MaxNofStates</a>) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>);
<a name="l01134"></a>01134                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inputchr=0; inputchr&lt;<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>; inputchr++)
<a name="l01135"></a>01135                 {
<a name="l01136"></a>01136                         <span class="keywordflow">if</span> (tab[ size-1].next[ inputchr] == -1) tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ inputchr] = (<span class="keywordtype">unsigned</span> char)nextState;
<a name="l01137"></a>01137                 }
<a name="l01138"></a>01138                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0" title="number of follow states defined">nofnext</a> = <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af44a744a26d614e11cf267a6c1a528e0" title="total number of control characters">NofControlCharacter</a>;
<a name="l01139"></a>01139         }
<a name="l01140"></a>01140 
<a name="l01144"></a>01144         <span class="keywordtype">void</span> addTransition( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> inputchr, <span class="keywordtype">int</span> nextState) <span class="keywordflow">throw</span>(exception)
<a name="l01145"></a>01145         {
<a name="l01146"></a>01146                 <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01147"></a>01147                 <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)inputchr &gt;= (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)NofControlCharacter)  <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>);
<a name="l01148"></a>01148                 <span class="keywordflow">if</span> (nextState &lt; 0 || nextState &gt; MaxNofStates)  <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>);
<a name="l01149"></a>01149                 <span class="keywordflow">if</span> (tab[ size-1].next[ inputchr] != -1)  <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>);
<a name="l01150"></a>01150                 <span class="keywordflow">if</span> (size == 0)  <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01151"></a>01151                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ inputchr] = (<span class="keywordtype">unsigned</span> char)nextState;
<a name="l01152"></a>01152                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0" title="number of follow states defined">nofnext</a> += 1;
<a name="l01153"></a>01153         }
<a name="l01154"></a>01154 
<a name="l01157"></a>01157         <span class="keywordtype">void</span> addTransition( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> inputchr) <span class="keywordflow">throw</span>(exception)
<a name="l01158"></a>01158         {
<a name="l01159"></a>01159                 addTransition( inputchr, size-1);
<a name="l01160"></a>01160         }
<a name="l01161"></a>01161 
<a name="l01165"></a>01165         <span class="keywordtype">void</span> addAction( <span class="keywordtype">int</span> action_op, <span class="keywordtype">int</span> action_arg=0) throw(exception)
<a name="l01166"></a>01166         {
<a name="l01167"></a>01167                 <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01168"></a>01168                 <span class="keywordflow">if</span> (tab[ size-1].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>.op != -1) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01169"></a>01169                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op = action_op;
<a name="l01170"></a>01170                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.arg = action_arg;
<a name="l01171"></a>01171         }
<a name="l01172"></a>01172 
<a name="l01175"></a>01175         <span class="keywordtype">void</span> addMiss( <span class="keywordtype">int</span> error) <span class="keywordflow">throw</span>(exception)
<a name="l01176"></a>01176         {
<a name="l01177"></a>01177                 <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01178"></a>01178                 <span class="keywordflow">if</span> (tab[ size-1].missError != -1) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01179"></a>01179                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a" title="error code in case of an event that does not match and there is no fallback">missError</a> = error;
<a name="l01180"></a>01180         }
<a name="l01181"></a>01181 
<a name="l01184"></a>01184         <span class="keywordtype">void</span> addFallback( <span class="keywordtype">int</span> stateIdx) <span class="keywordflow">throw</span>(exception)
<a name="l01185"></a>01185         {
<a name="l01186"></a>01186                 <span class="keywordflow">if</span> (size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01187"></a>01187                 <span class="keywordflow">if</span> (tab[ size-1].fallbackState != -1) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a57912bf55209910fd35e1ac83937c964" title="invalied state definition in automaton. Internal textwold error !">InvalidState</a>);
<a name="l01188"></a>01188                 <span class="keywordflow">if</span> (stateIdx &lt; 0 || stateIdx &gt; MaxNofStates) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a130ced6f430945b2f4b54bff316db077" title="parameter check in automaton definition failed. Internal textwold error !">InvalidParam</a>);
<a name="l01189"></a>01189                 tab[ size-1].<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a> = stateIdx;
<a name="l01190"></a>01190         }
<a name="l01191"></a>01191 <span class="keyword">public</span>:
<a name="l01193"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a73d74d419e668ac55fc7aff5300afc38">01193</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a73d74d419e668ac55fc7aff5300afc38" title="Constructor.">ScannerStatemachine</a>() :size(0){}
<a name="l01194"></a>01194 
<a name="l01196"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ab23081b09f34671af1662aec3c1c66fd">01196</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ab23081b09f34671af1662aec3c1c66fd" title="See ScannerStatemachine::newState(int)">operator[]</a>( <span class="keywordtype">int</span> stateIdx)                                                                  {newState(stateIdx); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01198"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ad56d00ee0ae6d7da7743a53ba390a7df">01198</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ad56d00ee0ae6d7da7743a53ba390a7df" title="See ScannerStatemachine::addTransition(ControlCharacter,int)">operator()</a>( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> inputchr, <span class="keywordtype">int</span> ns)                                             {addTransition(inputchr,ns); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01200"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a2ec157f6b57694e6b93ee90d3b15fbd7">01200</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a2ec157f6b57694e6b93ee90d3b15fbd7" title="See ScannerStatemachine::addTransition(ControlCharacter,int)">operator()</a>( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> i1, <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> i2, <span class="keywordtype">int</span> ns)                              {addTransition(i1,ns); addTransition(i2,ns); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01202"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a562fffd2be34ef9b8ebb964831a4840f">01202</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a562fffd2be34ef9b8ebb964831a4840f" title="See ScannerStatemachine::addTransition(ControlCharacter,int)">operator()</a>( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> i1, <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> i2, <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> i3, <span class="keywordtype">int</span> ns)         {addTransition(i1,ns); addTransition(i2,ns); addTransition(i3,ns); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01204"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a418f6b66519f551113a190479ae6f43b">01204</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a418f6b66519f551113a190479ae6f43b" title="See ScannerStatemachine::addTransition(ControlCharacter)">operator()</a>( <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> inputchr)                                                     {addTransition(inputchr); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01206"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f">01206</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>( <span class="keywordtype">int</span> aa, <span class="keywordtype">int</span> arg=0)                                                                 {addAction(aa,arg); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01208"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60">01208</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>( <span class="keywordtype">int</span> ee)                                                                              {addMiss(ee); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01210"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146">01210</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>( <span class="keywordtype">int</span> stateIdx)                                                                    {addFallback(stateIdx); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01212"></a><a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051">01212</a>         <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>&amp; <a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>( <span class="keywordtype">int</span> stateIdx)                                                                       {addOtherTransition(stateIdx); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l01213"></a>01213 };
<a name="l01214"></a>01214 
<a name="l01217"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html">01217</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScannerBase.html" title="XML scanner base class for things common for all XML scanners.">XMLScannerBase</a>
<a name="l01218"></a>01218 {
<a name="l01219"></a>01219 <span class="keyword">public</span>:
<a name="l01222"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329">01222</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a>
<a name="l01223"></a>01223         {
<a name="l01224"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62">01224</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62" title="empty (NULL)">None</a>,                                   
<a name="l01225"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152">01225</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>,                          
<a name="l01226"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38">01226</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">HeaderStart</a>,                            
<a name="l01227"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5">01227</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">HeaderAttribName</a>,                       
<a name="l01228"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed">01228</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">HeaderAttribValue</a>,                      
<a name="l01229"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd">01229</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd" title="end of XML header event (after parsing &#39;?&gt;&#39;)">HeaderEnd</a>,                              
<a name="l01230"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac">01230</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribName</a>,                          
<a name="l01231"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6">01231</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribValue</a>,                         
<a name="l01232"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2">01232</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">OpenTag</a>,                                
<a name="l01233"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aab57b42674c0f6ee8e92c3cf7c702cec">01233</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aab57b42674c0f6ee8e92c3cf7c702cec" title="close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;/bla&amp;gt;&quot;)">CloseTag</a>,                               
<a name="l01234"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a97df16f73186fd52ddcfc240189a72d7">01234</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a97df16f73186fd52ddcfc240189a72d7" title="immediate close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla /&amp;gt;&quot;)">CloseTagIm</a>,                             
<a name="l01235"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957">01235</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">Content</a>,                                
<a name="l01236"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7">01236</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">Exit</a>                                    
<a name="l01237"></a>01237         };
<a name="l01238"></a>01238         <span class="keyword">enum</span>
<a name="l01239"></a>01239         {
<a name="l01240"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#a7f30f722ffad9c6fe1379171699cff43a413de836c470ed43a57a5403f4dfd33f">01240</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a7f30f722ffad9c6fe1379171699cff43a413de836c470ed43a57a5403f4dfd33f" title="number of XML element types defined">NofElementTypes</a>=<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">Exit</a>+1          
<a name="l01241"></a>01241         };
<a name="l01242"></a>01242 
<a name="l01246"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#a29eec38bb732d4cc1e759920aec82d7d">01246</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a29eec38bb732d4cc1e759920aec82d7d" title="Get the XML element type as string.">getElementTypeName</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a> ee)
<a name="l01247"></a>01247         {
<a name="l01248"></a>01248                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* names[ <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a7f30f722ffad9c6fe1379171699cff43a413de836c470ed43a57a5403f4dfd33f" title="number of XML element types defined">NofElementTypes</a>] = {0,<span class="stringliteral">&quot;ErrorOccurred&quot;</span>,<span class="stringliteral">&quot;HeaderStart&quot;</span>,<span class="stringliteral">&quot;HeaderAttribName&quot;</span>,<span class="stringliteral">&quot;HeaderAttribValue&quot;</span>,<span class="stringliteral">&quot;HeaderEnd&quot;</span>,<span class="stringliteral">&quot;TagAttribName&quot;</span>,<span class="stringliteral">&quot;TagAttribValue&quot;</span>,<span class="stringliteral">&quot;OpenTag&quot;</span>,<span class="stringliteral">&quot;CloseTag&quot;</span>,<span class="stringliteral">&quot;CloseTagIm&quot;</span>,<span class="stringliteral">&quot;Content&quot;</span>,<span class="stringliteral">&quot;Exit&quot;</span>};
<a name="l01249"></a>01249                 <span class="keywordflow">return</span> names[ (<span class="keywordtype">unsigned</span> int)ee];
<a name="l01250"></a>01250         }
<a name="l01251"></a>01251 
<a name="l01254"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b">01254</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a>
<a name="l01255"></a>01255         {
<a name="l01256"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba13c32869c2a8c9039545270d1ef1c8f2">01256</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba13c32869c2a8c9039545270d1ef1c8f2" title="no error, everything is OK">Ok</a>,                                     
<a name="l01257"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba2f96fcdc63fa31f4fa128406b2e1056a">01257</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba2f96fcdc63fa31f4fa128406b2e1056a" title="expected an open tag in this state">ErrExpectedOpenTag</a>,                     
<a name="l01258"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78badecb7183a28538a158f99e8c87f2f7c6">01258</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78badecb7183a28538a158f99e8c87f2f7c6" title="expected an &lt;?xml tag in this state">ErrExpectedXMLTag</a>,                      
<a name="l01259"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78baaba73f646d7a3b6a5428d2ffa35c7956">01259</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78baaba73f646d7a3b6a5428d2ffa35c7956" title="unexpected end of text in the middle of the XML definition">ErrUnexpectedEndOfText</a>,                 
<a name="l01260"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba0508d0db399a1284b89d31d3f8781088">01260</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba0508d0db399a1284b89d31d3f8781088" title="scaned element in XML to big to fit in the buffer provided for it">ErrOutputBufferTooSmall</a>,                
<a name="l01261"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba457ff1c0d02518e32d4e1a3da4758918">01261</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba457ff1c0d02518e32d4e1a3da4758918" title="a specific string expected as token in XML but does not match">ErrSyntaxToken</a>,                         
<a name="l01262"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411">01262</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411" title="attribute string in XML not terminated on the same line">ErrStringNotTerminated</a>,                 
<a name="l01263"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba80ae9361aa81f3ecce19acd0690e4aad">01263</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba80ae9361aa81f3ecce19acd0690e4aad" title="named entity is not defined in the entity map">ErrUndefinedCharacterEntity</a>,            
<a name="l01264"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82">01264</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>,                      
<a name="l01265"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5">01265</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5" title="expected equal in tag attribute definition">ErrExpectedEqual</a>,                       
<a name="l01266"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed">01266</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>,                
<a name="l01267"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba812e6afd4a0394115fec19d05d5d6985">01267</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba812e6afd4a0394115fec19d05d5d6985" title="expected CDATA tag definition">ErrExpectedCDATATag</a>,                    
<a name="l01268"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba12d0da8dca8d95268c6038211489014d">01268</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba12d0da8dca8d95268c6038211489014d" title="internal error (textwolf implementation error)">ErrInternal</a>,                            
<a name="l01269"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba52fec157b20cde2c69433fc3b705bafa">01269</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba52fec157b20cde2c69433fc3b705bafa" title="unexpected end of input stream">ErrUnexpectedEndOfInput</a>,                
<a name="l01270"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bafdc286065b756fbc475fe8c059134fdb">01270</a>                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bafdc286065b756fbc475fe8c059134fdb" title="expected mandatory end of line (after XML header)">ErrExpectedEndOfLine</a>                    
<a name="l01271"></a>01271         };
<a name="l01272"></a>01272 
<a name="l01276"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#a583151f1bc3a1b03e0d616618917c866">01276</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a583151f1bc3a1b03e0d616618917c866" title="Get the error code as string.">getErrorString</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a> ee)
<a name="l01277"></a>01277         {
<a name="l01278"></a>01278                 <span class="keyword">enum</span> {NofErrors=15};
<a name="l01279"></a>01279                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* sError[NofErrors]
<a name="l01280"></a>01280                         = {0,<span class="stringliteral">&quot;ExpectedOpenTag&quot;</span>, <span class="stringliteral">&quot;ExpectedXMLTag&quot;</span>,<span class="stringliteral">&quot;UnexpectedEndOfText&quot;</span>,
<a name="l01281"></a>01281                                 <span class="stringliteral">&quot;OutputBufferTooSmall&quot;</span>,<span class="stringliteral">&quot;SyntaxToken&quot;</span>,<span class="stringliteral">&quot;StringNotTerminated&quot;</span>,
<a name="l01282"></a>01282                                 <span class="stringliteral">&quot;UndefinedCharacterEntity&quot;</span>,<span class="stringliteral">&quot;ExpectedTagEnd&quot;</span>,
<a name="l01283"></a>01283                                 <span class="stringliteral">&quot;ExpectedEqual&quot;</span>, <span class="stringliteral">&quot;ExpectedTagAttribute&quot;</span>,<span class="stringliteral">&quot;ExpectedCDATATag&quot;</span>,<span class="stringliteral">&quot;Internal&quot;</span>,
<a name="l01284"></a>01284                                 <span class="stringliteral">&quot;UnexpectedEndOfInput&quot;</span>, <span class="stringliteral">&quot;ExpectedEndOfLine&quot;</span>
<a name="l01285"></a>01285                 };
<a name="l01286"></a>01286                 <span class="keywordflow">return</span> sError[(<span class="keywordtype">unsigned</span> int)ee];
<a name="l01287"></a>01287         }
<a name="l01288"></a>01288 
<a name="l01291"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c">01291</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a>
<a name="l01292"></a>01292         {
<a name="l01293"></a>01293                 START, STARTTAG, XTAG, PITAG, PITAGEND, XTAGEND, XTAGEOLN, XTAGDONE, XTAGAISK, XTAGANAM, XTAGAESK, XTAGAVSK, XTAGAVID, XTAGAVSQ, XTAGAVDQ, XTAGAVQE,
<a name="l01294"></a>01294                 CONTENT, TOKEN, XMLTAG, OPENTAG, CLOSETAG, TAGCLSK, TAGAISK, TAGANAM, TAGAESK, TAGAVSK, TAGAVID, TAGAVSQ, TAGAVDQ, TAGAVQE,
<a name="l01295"></a>01295                 TAGCLIM, ENTITYSL, ENTITY, ENTITYLC, CDATA, CDATA1, CDATA2, CDATA3, EXIT
<a name="l01296"></a>01296         };
<a name="l01297"></a>01297 
<a name="l01301"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aade9b82f45961bb5a5765f823a47a343">01301</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aade9b82f45961bb5a5765f823a47a343" title="Get the scanner state machine state as string.">getStateString</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a> s)
<a name="l01302"></a>01302         {
<a name="l01303"></a>01303                 <span class="keyword">enum</span> Constant {NofStates=39};
<a name="l01304"></a>01304                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* sState[NofStates]
<a name="l01305"></a>01305                 = {
<a name="l01306"></a>01306                         <span class="stringliteral">&quot;START&quot;</span>, <span class="stringliteral">&quot;STARTTAG&quot;</span>, <span class="stringliteral">&quot;XTAG&quot;</span>, <span class="stringliteral">&quot;PITAG&quot;</span>, <span class="stringliteral">&quot;PITAGEND&quot;</span>,
<a name="l01307"></a>01307                         <span class="stringliteral">&quot;XTAGEND&quot;</span>, <span class="stringliteral">&quot;XTAGEOLN&quot;</span>, <span class="stringliteral">&quot;XTAGDONE&quot;</span>, <span class="stringliteral">&quot;XTAGAISK&quot;</span>, <span class="stringliteral">&quot;XTAGANAM&quot;</span>,
<a name="l01308"></a>01308                         <span class="stringliteral">&quot;XTAGAESK&quot;</span>, <span class="stringliteral">&quot;XTAGAVSK&quot;</span>, <span class="stringliteral">&quot;XTAGAVID&quot;</span>, <span class="stringliteral">&quot;XTAGAVSQ&quot;</span>, <span class="stringliteral">&quot;XTAGAVDQ&quot;</span>,
<a name="l01309"></a>01309                         <span class="stringliteral">&quot;XTAGAVQE&quot;</span>, <span class="stringliteral">&quot;CONTENT&quot;</span>, <span class="stringliteral">&quot;TOKEN&quot;</span>, <span class="stringliteral">&quot;XMLTAG&quot;</span>, <span class="stringliteral">&quot;OPENTAG&quot;</span>,
<a name="l01310"></a>01310                         <span class="stringliteral">&quot;CLOSETAG&quot;</span>, <span class="stringliteral">&quot;TAGCLSK&quot;</span>, <span class="stringliteral">&quot;TAGAISK&quot;</span>, <span class="stringliteral">&quot;TAGANAM&quot;</span>, <span class="stringliteral">&quot;TAGAESK&quot;</span>,
<a name="l01311"></a>01311                         <span class="stringliteral">&quot;TAGAVSK&quot;</span>, <span class="stringliteral">&quot;TAGAVID&quot;</span>, <span class="stringliteral">&quot;TAGAVSQ&quot;</span>, <span class="stringliteral">&quot;TAGAVDQ&quot;</span>, <span class="stringliteral">&quot;TAGAVQE&quot;</span>,
<a name="l01312"></a>01312                         <span class="stringliteral">&quot;TAGCLIM&quot;</span>, <span class="stringliteral">&quot;ENTITYSL&quot;</span>, <span class="stringliteral">&quot;ENTITY&quot;</span>, <span class="stringliteral">&quot;ENTITYLC&quot;</span>, <span class="stringliteral">&quot;CDATA&quot;</span>,
<a name="l01313"></a>01313                         <span class="stringliteral">&quot;CDATA1&quot;</span>, <span class="stringliteral">&quot;CDATA2&quot;</span>, <span class="stringliteral">&quot;CDATA3&quot;</span>, <span class="stringliteral">&quot;EXIT&quot;</span>
<a name="l01314"></a>01314                 };
<a name="l01315"></a>01315                 <span class="keywordflow">return</span> sState[(<span class="keywordtype">unsigned</span> int)s];
<a name="l01316"></a>01316         }
<a name="l01317"></a>01317 
<a name="l01320"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#a9e098fe6f4a84b25db51fcfe61f4cbd0">01320</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a9e098fe6f4a84b25db51fcfe61f4cbd0" title="Enumeration of actions in the XML scanner state machine.">STMAction</a>
<a name="l01321"></a>01321         {
<a name="l01322"></a>01322                 Return, ReturnWord, ReturnContent, ReturnIdentifier, ReturnSQString, ReturnDQString, ExpectIdentifierXML, ExpectIdentifierCDATA, ReturnEOF,
<a name="l01323"></a>01323                 NofSTMActions = 9
<a name="l01324"></a>01324         };
<a name="l01325"></a>01325 
<a name="l01329"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#aa0bd625fc24362b945dcd6a167eabe7b">01329</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aa0bd625fc24362b945dcd6a167eabe7b" title="Get the scanner state machine action as string.">getActionString</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a9e098fe6f4a84b25db51fcfe61f4cbd0" title="Enumeration of actions in the XML scanner state machine.">STMAction</a> a)
<a name="l01330"></a>01330         {
<a name="l01331"></a>01331                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* name[ NofSTMActions] = {<span class="stringliteral">&quot;Return&quot;</span>, <span class="stringliteral">&quot;ReturnWord&quot;</span>, <span class="stringliteral">&quot;ReturnContent&quot;</span>, <span class="stringliteral">&quot;ReturnIdentifier&quot;</span>, <span class="stringliteral">&quot;ReturnSQString&quot;</span>, <span class="stringliteral">&quot;ReturnDQString&quot;</span>, <span class="stringliteral">&quot;ExpectIdentifierXML&quot;</span>, <span class="stringliteral">&quot;ExpectIdentifierCDATA&quot;</span>, <span class="stringliteral">&quot;ReturnEOF&quot;</span>};
<a name="l01332"></a>01332                 <span class="keywordflow">return</span> name[ (<span class="keywordtype">unsigned</span> int)a];
<a name="l01333"></a>01333         };
<a name="l01334"></a>01334 
<a name="l01337"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html">01337</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html" title="XML scanner state machine implementation.">Statemachine</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1ScannerStatemachine.html" title="Class to build up the XML element scanner state machine in a descriptive way.">ScannerStatemachine</a>
<a name="l01338"></a>01338         {
<a name="l01340"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html#a9cdd589236b67b647b9cf80fd9f1a071">01340</a>                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html#a9cdd589236b67b647b9cf80fd9f1a071" title="Constructor (defines the state machine completely)">Statemachine</a>( <span class="keywordtype">bool</span> doTokenize)
<a name="l01341"></a>01341                 {
<a name="l01342"></a>01342                         (*this)
<a name="l01343"></a>01343                         [ START    ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,EXIT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,STARTTAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba2f96fcdc63fa31f4fa128406b2e1056a" title="expected an open tag in this state">ErrExpectedOpenTag</a>)
<a name="l01344"></a>01344                         [ STARTTAG ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,XTAG )(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f" title="exclamation mark &#39;!&#39;">Exclam</a>,ENTITYSL).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(OPENTAG)
<a name="l01345"></a>01345                         [ XTAG     ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ExpectIdentifierXML)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,XTAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,XTAGEND).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78badecb7183a28538a158f99e8c87f2f7c6" title="expected an &lt;?xml tag in this state">ErrExpectedXMLTag</a>)
<a name="l01346"></a>01346                         [ PITAG    ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,PITAGEND).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>(PITAG)
<a name="l01347"></a>01347                         [ PITAGEND ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>)
<a name="l01348"></a>01348                         [ XTAGEND  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,XTAGEOLN)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>)(Space).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>)
<a name="l01349"></a>01349                         [ XTAGEOLN ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,XTAGDONE)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bafdc286065b756fbc475fe8c059134fdb" title="expected mandatory end of line (after XML header)">ErrExpectedEndOfLine</a>)
<a name="l01350"></a>01350                         [ XTAGDONE ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(Return,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd" title="end of XML header event (after parsing &#39;?&gt;&#39;)">HeaderEnd</a>).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(CONTENT)
<a name="l01351"></a>01351                         [ XTAGAISK ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,XTAGEND).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(XTAGANAM)
<a name="l01352"></a>01352                         [ XTAGANAM ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">HeaderAttribName</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,XTAGAESK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,XTAGAVSK).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5" title="expected equal in tag attribute definition">ErrExpectedEqual</a>)
<a name="l01353"></a>01353                         [ XTAGAESK ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,XTAGAVSK).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5" title="expected equal in tag attribute definition">ErrExpectedEqual</a>)
<a name="l01354"></a>01354                         [ XTAGAVSK ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,XTAGAVSQ)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,XTAGAVDQ).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(XTAGAVID)
<a name="l01355"></a>01355                         [ XTAGAVID ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">HeaderAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,XTAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,XTAGEND).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>)
<a name="l01356"></a>01356                         [ XTAGAVSQ ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnSQString,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">HeaderAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,XTAGAVQE).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411" title="attribute string in XML not terminated on the same line">ErrStringNotTerminated</a>)
<a name="l01357"></a>01357                         [ XTAGAVDQ ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnDQString,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">HeaderAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,XTAGAVQE).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411" title="attribute string in XML not terminated on the same line">ErrStringNotTerminated</a>)
<a name="l01358"></a>01358                         [ XTAGAVQE ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,XTAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,XTAGEND).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>);
<a name="l01359"></a>01359                         <span class="keywordflow">if</span> (doTokenize)
<a name="l01360"></a>01360                         {
<a name="l01361"></a>01361                                 (*this)
<a name="l01362"></a>01362                                 [ CONTENT  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,EXIT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>)(Space)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,XMLTAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(TOKEN)
<a name="l01363"></a>01363                                 [ TOKEN    ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnWord,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">Content</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,EXIT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,Cntrl,Space,CONTENT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,XMLTAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(CONTENT);
<a name="l01364"></a>01364                         }
<a name="l01365"></a>01365                         <span class="keywordflow">else</span>
<a name="l01366"></a>01366                         {
<a name="l01367"></a>01367                                 (*this)
<a name="l01368"></a>01368                                 [ CONTENT  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,EXIT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,XMLTAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(TOKEN)
<a name="l01369"></a>01369                                 [ TOKEN    ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnContent,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">Content</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>,EXIT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,Cntrl,Space,CONTENT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aceaac57c7b267c8b4b75390c7df5adf3" title="lesser than &#39;&lt;&#39;">Lt</a>,XMLTAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(CONTENT);
<a name="l01370"></a>01370                         }
<a name="l01371"></a>01371                         (*this)
<a name="l01372"></a>01372                         [ XMLTAG   ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,PITAG)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,CLOSETAG).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(OPENTAG)
<a name="l01373"></a>01373                         [ OPENTAG  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">OpenTag</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,TAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,TAGCLIM)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>)
<a name="l01374"></a>01374                         [ CLOSETAG ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aab57b42674c0f6ee8e92c3cf7c702cec" title="close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;/bla&amp;gt;&quot;)">CloseTag</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,TAGCLSK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>)
<a name="l01375"></a>01375                         [ TAGCLSK  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>)
<a name="l01376"></a>01376                         [ TAGAISK  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,TAGCLIM).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(TAGANAM)
<a name="l01377"></a>01377                         [ TAGANAM  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribName</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,TAGAESK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,TAGAVSK).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5" title="expected equal in tag attribute definition">ErrExpectedEqual</a>)
<a name="l01378"></a>01378                         [ TAGAESK  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,TAGAVSK).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78bac1d73c6915b7be8bf430abe7419d58a5" title="expected equal in tag attribute definition">ErrExpectedEqual</a>)
<a name="l01379"></a>01379                         [ TAGAVSK  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,TAGAVSQ)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,TAGAVDQ).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(TAGAVID)
<a name="l01380"></a>01380                         [ TAGAVID  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnIdentifier,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,TAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,TAGCLIM)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>)
<a name="l01381"></a>01381                         [ TAGAVSQ  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnSQString,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,TAGAVQE).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411" title="attribute string in XML not terminated on the same line">ErrStringNotTerminated</a>)
<a name="l01382"></a>01382                         [ TAGAVDQ  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ReturnDQString,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">TagAttribValue</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,TAGAVQE).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba56c44481ec43cb1c867d0a76560ab411" title="attribute string in XML not terminated on the same line">ErrStringNotTerminated</a>)
<a name="l01383"></a>01383                         [ TAGAVQE  ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,TAGAISK)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,TAGCLIM)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba78fcb73365040660daebdd808a0ea5ed" title="expected tag attribute">ErrExpectedTagAttribute</a>)
<a name="l01384"></a>01384                         [ TAGCLIM  ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(Return,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a97df16f73186fd52ddcfc240189a72d7" title="immediate close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla /&amp;gt;&quot;)">CloseTagIm</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>)(Cntrl)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba32a04f20fdf8548c67d3122b897abf82" title="expected end of tag">ErrExpectedTagEnd</a>)
<a name="l01385"></a>01385                         [ ENTITYSL ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,CDATA).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a67e8bbbb6b0e10b4dbbf33a74294a146" title="See ScannerStatemachine::addFallback(int)">fallback</a>(ENTITY)
<a name="l01386"></a>01386                         [ ENTITY   ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,ENTITYLC).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>( ENTITY)
<a name="l01387"></a>01387                         [ ENTITYLC ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,ENTITY).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>( ENTITYLC)
<a name="l01388"></a>01388                         [ CDATA    ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(ExpectIdentifierCDATA)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,CDATA1).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#acf604ba6fa94f5b9e27222d71ba3fa60" title="See ScannerStatemachine::addMiss(int)">miss</a>(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba812e6afd4a0394115fec19d05d5d6985" title="expected CDATA tag definition">ErrExpectedCDATATag</a>)
<a name="l01389"></a>01389                         [ CDATA1   ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,CDATA2).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>(CDATA1)
<a name="l01390"></a>01390                         [ CDATA2   ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,CDATA3).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>(CDATA1)
<a name="l01391"></a>01391                         [ CDATA3   ](<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,CONTENT).<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a37dfd9112d64556daa4d3d42a4565051" title="See ScannerStatemachine::addOtherTransition(int)">other</a>(CDATA1)
<a name="l01392"></a>01392                         [ EXIT     ].<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#a7969f2c8d8d4f10e63f2a6eafb68659f" title="See ScannerStatemachine::addAction(int,int)">action</a>(Return,<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">Exit</a>);
<a name="l01393"></a>01393                 }
<a name="l01394"></a>01394         };
<a name="l01395"></a>01395 
<a name="l01398"></a><a class="code" href="classtextwolf_1_1XMLScannerBase.html#a0604b6b1ebd2699f677f51dbe816889e">01398</a>         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap&lt;bool,false,NofControlCharacter&gt;</a> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a0604b6b1ebd2699f677f51dbe816889e" title="Forms a set of characters by assigning (true/false) to the whole domain.">IsTokenCharMap</a>;
<a name="l01399"></a>01399 
<a name="l01402"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html">01402</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html" title="Defines the set of tag characters.">IsTagCharMap</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>
<a name="l01403"></a>01403         {
<a name="l01404"></a>01404                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html" title="Defines the set of tag characters.">IsTagCharMap</a>()
<a name="l01405"></a>01405                 {
<a name="l01406"></a>01406                         (*this)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>,<span class="keyword">true</span>);
<a name="l01407"></a>01407                 }
<a name="l01408"></a>01408         };
<a name="l01409"></a>01409 
<a name="l01412"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsWordCharMap.html">01412</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsWordCharMap.html" title="Defines the set of content word characters (tokenization switched on)">IsWordCharMap</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>
<a name="l01413"></a>01413         {
<a name="l01414"></a>01414                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsWordCharMap.html" title="Defines the set of content word characters (tokenization switched on)">IsWordCharMap</a>()
<a name="l01415"></a>01415                 {
<a name="l01416"></a>01416                         (*this)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f" title="exclamation mark &#39;!&#39;">Exclam</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>,<span class="keyword">true</span>);
<a name="l01417"></a>01417                 }
<a name="l01418"></a>01418         };
<a name="l01419"></a>01419 
<a name="l01422"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html">01422</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html" title="Defines the set of content token characters.">IsContentCharMap</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>
<a name="l01423"></a>01423         {
<a name="l01424"></a>01424                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html" title="Defines the set of content token characters.">IsContentCharMap</a>()
<a name="l01425"></a>01425                 {
<a name="l01426"></a>01426                         (*this)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a943727f3cd3f0145928e643d274d44a5" title="control character">Cntrl</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ace60639654202da77f8f56d45d986220" title="end of line">EndOfLine</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3ade85243a1cbc6c24c0e568517e36362d" title="not defined (beyond ascii)">Undef</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a16eced731619e0639b3e0249a233fd0d" title="equal &#39;=&#39;">Equal</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a747bf8dd38e798aaa8ebbf60e4e2b023" title="greater than &#39;&gt;&#39;">Gt</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5eb2fc8ec3e3e08619028b03409c0294" title="slash &#39;/&#39;">Slash</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3aa64a21be17183cee148ce88e9f14197f" title="exclamation mark &#39;!&#39;">Exclam</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a5070024b2674d19bd9de21db0074373d" title="question mark &#39;?&#39;">Questm</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a31e3cc3b586fb4fe2158cf7af11fe7ac" title="open square bracket &#39;[&#39;">Osb</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a548234d92e5c64da6b0b0dc7b48f7f46" title="close square bracket &#39;]&#39;">Csb</a>,<span class="keyword">true</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>,<span class="keyword">true</span>);
<a name="l01427"></a>01427                 }
<a name="l01428"></a>01428         };
<a name="l01429"></a>01429 
<a name="l01432"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsSQStringCharMap.html">01432</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsSQStringCharMap.html" title="Defines the set characters belonging to a single quoted string.">IsSQStringCharMap</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html" title="Defines the set of content token characters.">IsContentCharMap</a>
<a name="l01433"></a>01433         {
<a name="l01434"></a>01434                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsSQStringCharMap.html" title="Defines the set characters belonging to a single quoted string.">IsSQStringCharMap</a>()
<a name="l01435"></a>01435                 {
<a name="l01436"></a>01436                         (*this)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a0c6e355b2a0df4c1c26ee6521e42c2d7" title="single quote">Sq</a>,<span class="keyword">false</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,<span class="keyword">true</span>);
<a name="l01437"></a>01437                 }
<a name="l01438"></a>01438         };
<a name="l01439"></a>01439 
<a name="l01442"></a><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsDQStringCharMap.html">01442</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsDQStringCharMap.html" title="Defines the set characters belonging to a double quoted string.">IsDQStringCharMap</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html" title="Defines the set of content token characters.">IsContentCharMap</a>
<a name="l01443"></a>01443         {
<a name="l01444"></a>01444                 <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsDQStringCharMap.html" title="Defines the set characters belonging to a double quoted string.">IsDQStringCharMap</a>()
<a name="l01445"></a>01445                 {
<a name="l01446"></a>01446                         (*this)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a56d418b20b8e5ca1153ea40da03b9898" title="double quote">Dq</a>,<span class="keyword">false</span>)(<a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a1cc21ac93fb1c975bde48f602de08e70" title="space, tab, etc..">Space</a>,<span class="keyword">true</span>);
<a name="l01447"></a>01447                 }
<a name="l01448"></a>01448         };
<a name="l01449"></a>01449 };
<a name="l01450"></a>01450 
<a name="l01451"></a>01451 
<a name="l01459"></a>01459 <span class="keyword">template</span>
<a name="l01460"></a>01460 &lt;
<a name="l01461"></a>01461                 <span class="keyword">class </span>InputIterator,
<a name="l01462"></a>01462                 <span class="keyword">class </span>InputCharSet_,
<a name="l01463"></a>01463                 <span class="keyword">class </span>OutputCharSet_,
<a name="l01464"></a>01464                 <span class="keyword">class </span>OutputBuffer_,
<a name="l01465"></a>01465                 <span class="keyword">class </span>EntityMap_=std::map&lt;const char*,UChar&gt;
<a name="l01466"></a>01466 &gt;
<a name="l01467"></a><a class="code" href="classtextwolf_1_1XMLScanner.html">01467</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">XMLScanner</a> :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html" title="XML scanner base class for things common for all XML scanners.">XMLScannerBase</a>
<a name="l01468"></a>01468 {
<a name="l01469"></a>01469 <span class="keyword">private</span>:
<a name="l01472"></a>01472         <span class="keyword">struct </span>TokState
<a name="l01473"></a>01473         {
<a name="l01477"></a>01477                 <span class="keyword">enum</span> Id
<a name="l01478"></a>01478                 {
<a name="l01479"></a>01479                         Start,                          
<a name="l01480"></a>01480                         ParsingDone,                    
<a name="l01481"></a>01481                         ParsingKey,                     
<a name="l01482"></a>01482                         ParsingEntity,                  
<a name="l01483"></a>01483                         ParsingNumericEntity,           
<a name="l01484"></a>01484                         ParsingNumericBaseEntity,       
<a name="l01485"></a>01485                         ParsingNamedEntity,             
<a name="l01486"></a>01486                         ParsingToken                    
<a name="l01487"></a>01487                 };
<a name="l01488"></a>01488                 Id id;                                  
<a name="l01489"></a>01489 
<a name="l01490"></a>01490                 <span class="keyword">enum</span> EolnState                          
<a name="l01491"></a>01491                 {
<a name="l01492"></a>01492                         SRC,CR
<a name="l01493"></a>01493                 };
<a name="l01494"></a>01494                 EolnState eolnState;                    
<a name="l01495"></a>01495 
<a name="l01496"></a>01496                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos;                       
<a name="l01497"></a>01497                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> base;                      
<a name="l01498"></a>01498                 EChar value;                            
<a name="l01499"></a>01499                 <span class="keywordtype">char</span> buf[ 16];                          
<a name="l01500"></a>01500                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> curchr_saved;                     
<a name="l01501"></a>01501 
<a name="l01503"></a>01503                 TokState()                              :id(Start),eolnState(SRC),pos(0),base(0),value(0),curchr_saved(0) {}
<a name="l01504"></a>01504 
<a name="l01508"></a>01508                 <span class="keywordtype">void</span> init(Id id_=Start, EolnState eolnState_=SRC)
<a name="l01509"></a>01509                 {
<a name="l01510"></a>01510                         <span class="keywordtype">id</span>=id_;eolnState=eolnState_;pos=0;base=0;value=0;curchr_saved=0;
<a name="l01511"></a>01511                 }
<a name="l01512"></a>01512         };
<a name="l01513"></a>01513         TokState tokstate;                                                              
<a name="l01514"></a>01514 
<a name="l01515"></a>01515 <span class="keyword">public</span>:
<a name="l01516"></a>01516         <span class="keyword">typedef</span> InputCharSet_ InputCharSet;
<a name="l01517"></a>01517         <span class="keyword">typedef</span> OutputCharSet_ OutputCharSet;
<a name="l01518"></a>01518         <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>;
<a name="l01519"></a>01519 
<a name="l01520"></a>01520 <span class="keyword">public</span>:
<a name="l01521"></a>01521         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1TextScanner.html">TextScanner&lt;InputIterator,InputCharSet_&gt;</a> <a class="code" href="classtextwolf_1_1TextScanner.html">InputReader</a>;
<a name="l01522"></a>01522         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">XMLScanner&lt;InputIterator,InputCharSet_,OutputCharSet_,OutputBuffer_,EntityMap_&gt;</a> <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">ThisXMLScanner</a>;
<a name="l01523"></a>01523         <span class="keyword">typedef</span> EntityMap_ EntityMap;
<a name="l01524"></a>01524         <span class="keyword">typedef</span> <span class="keyword">typename</span> EntityMap::const_iterator EntityMapIterator;
<a name="l01525"></a>01525         <span class="keyword">typedef</span> OutputBuffer_ OutputBuffer;
<a name="l01526"></a>01526 
<a name="l01529"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4">01529</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch)
<a name="l01530"></a>01530         {
<a name="l01531"></a>01531                 OutputCharSet::print( ch, *m_outputBuf);
<a name="l01532"></a>01532         }
<a name="l01533"></a>01533 
<a name="l01536"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a0ee44c9079b8c3d9631716c5c8d9498f">01536</a>         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a0ee44c9079b8c3d9631716c5c8d9498f" title="Map a hexadecimal digit to its value.">HEX</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch)
<a name="l01537"></a>01537         {
<a name="l01538"></a>01538                 <span class="keyword">struct </span>HexCharMap :<span class="keyword">public</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">CharMap</a>&lt;unsigned char, 0xFF&gt;
<a name="l01539"></a>01539                 {
<a name="l01540"></a>01540                         HexCharMap()
<a name="l01541"></a>01541                         {
<a name="l01542"></a>01542                                 (*this)
<a name="l01543"></a>01543                                         (<span class="charliteral">&#39;0&#39;</span>,0) (<span class="charliteral">&#39;1&#39;</span>, 1)(<span class="charliteral">&#39;2&#39;</span>, 2)(<span class="charliteral">&#39;3&#39;</span>, 3)(<span class="charliteral">&#39;4&#39;</span>, 4)(<span class="charliteral">&#39;5&#39;</span>, 5)(<span class="charliteral">&#39;6&#39;</span>, 6)(<span class="charliteral">&#39;7&#39;</span>, 7)(<span class="charliteral">&#39;8&#39;</span>, 8)(<span class="charliteral">&#39;9&#39;</span>, 9)
<a name="l01544"></a>01544                                         (<span class="charliteral">&#39;A&#39;</span>,10)(<span class="charliteral">&#39;B&#39;</span>,11)(<span class="charliteral">&#39;C&#39;</span>,12)(<span class="charliteral">&#39;D&#39;</span>,13)(<span class="charliteral">&#39;E&#39;</span>,14)(<span class="charliteral">&#39;F&#39;</span>,15)(<span class="charliteral">&#39;a&#39;</span>,10)(<span class="charliteral">&#39;b&#39;</span>,11)(<span class="charliteral">&#39;c&#39;</span>,12)(<span class="charliteral">&#39;d&#39;</span>,13)(<span class="charliteral">&#39;e&#39;</span>,14)(<span class="charliteral">&#39;f&#39;</span>,15);
<a name="l01545"></a>01545                         }
<a name="l01546"></a>01546                 };
<a name="l01547"></a>01547                 <span class="keyword">static</span> HexCharMap hexCharMap;
<a name="l01548"></a>01548                 <span class="keywordflow">return</span> hexCharMap[ch];
<a name="l01549"></a>01549         }
<a name="l01550"></a>01550 
<a name="l01554"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a5b8dadee9351981024ea7d8de80cc3a9">01554</a>         <span class="keyword">static</span> <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> <a class="code" href="classtextwolf_1_1XMLScanner.html#a5b8dadee9351981024ea7d8de80cc3a9" title="Parse a numeric entity value for a table definition (map it to the target character set)...">parseStaticNumericEntityValue</a>( <a class="code" href="classtextwolf_1_1TextScanner.html">InputReader</a>&amp; ir)
<a name="l01555"></a>01555         {
<a name="l01556"></a>01556                 EChar value = 0;
<a name="l01557"></a>01557                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch = ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01558"></a>01558                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> base;
<a name="l01559"></a>01559                 <span class="keywordflow">if</span> (ch != <span class="charliteral">&#39;#&#39;</span>) <span class="keywordflow">return</span> 0;
<a name="l01560"></a>01560                 ir.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01561"></a>01561                 ch = ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01562"></a>01562                 <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;x&#39;</span>)
<a name="l01563"></a>01563                 {
<a name="l01564"></a>01564                         ir.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01565"></a>01565                         ch = ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01566"></a>01566                         base = 16;
<a name="l01567"></a>01567                 }
<a name="l01568"></a>01568                 <span class="keywordflow">else</span>
<a name="l01569"></a>01569                 {
<a name="l01570"></a>01570                         base = 10;
<a name="l01571"></a>01571                 }
<a name="l01572"></a>01572                 <span class="keywordflow">while</span> (ch != <span class="charliteral">&#39;;&#39;</span>)
<a name="l01573"></a>01573                 {
<a name="l01574"></a>01574                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> chval = <a class="code" href="classtextwolf_1_1XMLScanner.html#a0ee44c9079b8c3d9631716c5c8d9498f" title="Map a hexadecimal digit to its value.">HEX</a>(ch);
<a name="l01575"></a>01575                         <span class="keywordflow">if</span> (value &gt;= base) <span class="keywordflow">return</span> 0;
<a name="l01576"></a>01576                         value = value * base + chval;
<a name="l01577"></a>01577                         <span class="keywordflow">if</span> (value &gt;= 0xFFFFFFFF) <span class="keywordflow">return</span> 0;
<a name="l01578"></a>01578                         ir.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01579"></a>01579                         ch = ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01580"></a>01580                 }
<a name="l01581"></a>01581                 <span class="keywordflow">return</span> (<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)value;
<a name="l01582"></a>01582         }
<a name="l01583"></a>01583 
<a name="l01586"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b">01586</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b" title="Print the characters of a sequence that was thought to form an entity but did not.">fallbackEntity</a>()
<a name="l01587"></a>01587         {
<a name="l01588"></a>01588                 <span class="keywordflow">switch</span> (tokstate.id)
<a name="l01589"></a>01589                 {
<a name="l01590"></a>01590                         <span class="keywordflow">case</span> TokState::Start:
<a name="l01591"></a>01591                         <span class="keywordflow">case</span> TokState::ParsingDone:
<a name="l01592"></a>01592                         <span class="keywordflow">case</span> TokState::ParsingKey:
<a name="l01593"></a>01593                         <span class="keywordflow">case</span> TokState::ParsingToken:
<a name="l01594"></a>01594                                 <span class="keywordflow">break</span>;
<a name="l01595"></a>01595                         <span class="keywordflow">case</span> TokState::ParsingEntity:
<a name="l01596"></a>01596                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l01597"></a>01597                                 <span class="keywordflow">break</span>;
<a name="l01598"></a>01598                         <span class="keywordflow">case</span> TokState::ParsingNumericEntity:
<a name="l01599"></a>01599                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l01600"></a>01600                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;#&#39;</span>);
<a name="l01601"></a>01601                                 <span class="keywordflow">break</span>;
<a name="l01602"></a>01602                         <span class="keywordflow">case</span> TokState::ParsingNumericBaseEntity:
<a name="l01603"></a>01603                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l01604"></a>01604                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;#&#39;</span>);
<a name="l01605"></a>01605                                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;tokstate.pos; ii++) <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( tokstate.buf[ii]);
<a name="l01606"></a>01606                                 <span class="keywordflow">break</span>;
<a name="l01607"></a>01607                         <span class="keywordflow">case</span> TokState::ParsingNamedEntity:
<a name="l01608"></a>01608                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>(<span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l01609"></a>01609                                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii=0; ii&lt;tokstate.pos; ii++) <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( tokstate.buf[ii]);
<a name="l01610"></a>01610                                 <span class="keywordflow">break</span>;
<a name="l01611"></a>01611                 }
<a name="l01612"></a>01612         }
<a name="l01613"></a>01613 
<a name="l01616"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#add7e86ec915b05eb4623b7a27aec19f9">01616</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#add7e86ec915b05eb4623b7a27aec19f9" title="Try to parse an entity (we got &#39;&amp;&#39;)">parseEntity</a>()
<a name="l01617"></a>01617         {
<a name="l01618"></a>01618                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch;
<a name="l01619"></a>01619                 tokstate.id = TokState::ParsingEntity;
<a name="l01620"></a>01620                 ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01621"></a>01621                 <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;#&#39;</span>)
<a name="l01622"></a>01622                 {
<a name="l01623"></a>01623                         m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01624"></a>01624                         <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a4e91d52c454fca058f4aae4578891d11" title="Try to parse a numeric entity (we got &#39;&amp;#&#39;)">parseNumericEntity</a>();
<a name="l01625"></a>01625                 }
<a name="l01626"></a>01626                 <span class="keywordflow">else</span>
<a name="l01627"></a>01627                 {
<a name="l01628"></a>01628                         <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ab7ec64f9af458dabc60164330b7fad40" title="Try to parse a named entity.">parseNamedEntity</a>();
<a name="l01629"></a>01629                 }
<a name="l01630"></a>01630         }
<a name="l01631"></a>01631 
<a name="l01634"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a4e91d52c454fca058f4aae4578891d11">01634</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a4e91d52c454fca058f4aae4578891d11" title="Try to parse a numeric entity (we got &#39;&amp;#&#39;)">parseNumericEntity</a>()
<a name="l01635"></a>01635         {
<a name="l01636"></a>01636                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch;
<a name="l01637"></a>01637                 tokstate.id = TokState::ParsingNumericEntity;
<a name="l01638"></a>01638                 ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01639"></a>01639                 <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;x&#39;</span>)
<a name="l01640"></a>01640                 {
<a name="l01641"></a>01641                         tokstate.base = 16;
<a name="l01642"></a>01642                         m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01643"></a>01643                         <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#acc0f8132c47d1988cdf1a69bb0110b04" title="Try to parse a numeric entity with known base (we got &#39;&amp;#&#39; and we know the base 10/16 of it)...">parseNumericBaseEntity</a>();
<a name="l01644"></a>01644                 }
<a name="l01645"></a>01645                 <span class="keywordflow">else</span>
<a name="l01646"></a>01646                 {
<a name="l01647"></a>01647                         tokstate.base = 10;
<a name="l01648"></a>01648                         <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#acc0f8132c47d1988cdf1a69bb0110b04" title="Try to parse a numeric entity with known base (we got &#39;&amp;#&#39; and we know the base 10/16 of it)...">parseNumericBaseEntity</a>();
<a name="l01649"></a>01649                 }
<a name="l01650"></a>01650         }
<a name="l01651"></a>01651 
<a name="l01654"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#acc0f8132c47d1988cdf1a69bb0110b04">01654</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#acc0f8132c47d1988cdf1a69bb0110b04" title="Try to parse a numeric entity with known base (we got &#39;&amp;#&#39; and we know the base 10/16 of it)...">parseNumericBaseEntity</a>()
<a name="l01655"></a>01655         {
<a name="l01656"></a>01656                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch;
<a name="l01657"></a>01657                 tokstate.id = TokState::ParsingNumericBaseEntity;
<a name="l01658"></a>01658 
<a name="l01659"></a>01659                 <span class="keywordflow">while</span> (tokstate.pos &lt; <span class="keyword">sizeof</span>(tokstate.buf))
<a name="l01660"></a>01660                 {
<a name="l01661"></a>01661                         tokstate.buf[tokstate.pos++] = ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01662"></a>01662                         <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;;&#39;</span>)
<a name="l01663"></a>01663                         {
<a name="l01664"></a>01664                                 <span class="keywordflow">if</span> (tokstate.value &gt; 0xFFFFFFFF)
<a name="l01665"></a>01665                                 {
<a name="l01666"></a>01666                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b" title="Print the characters of a sequence that was thought to form an entity but did not.">fallbackEntity</a>();
<a name="l01667"></a>01667                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01668"></a>01668                                 }
<a name="l01669"></a>01669                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( (<a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a>)tokstate.value);
<a name="l01670"></a>01670                                 tokstate.init( TokState::ParsingToken);
<a name="l01671"></a>01671                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01672"></a>01672                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01673"></a>01673                         }
<a name="l01674"></a>01674                         <span class="keywordflow">else</span>
<a name="l01675"></a>01675                         {
<a name="l01676"></a>01676                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> chval = <a class="code" href="classtextwolf_1_1XMLScanner.html#a0ee44c9079b8c3d9631716c5c8d9498f" title="Map a hexadecimal digit to its value.">HEX</a>(ch);
<a name="l01677"></a>01677                                 <span class="keywordflow">if</span> (tokstate.value &gt;= tokstate.base)
<a name="l01678"></a>01678                                 {
<a name="l01679"></a>01679                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b" title="Print the characters of a sequence that was thought to form an entity but did not.">fallbackEntity</a>();
<a name="l01680"></a>01680                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01681"></a>01681                                 }
<a name="l01682"></a>01682                                 tokstate.value = tokstate.value * tokstate.base + chval;
<a name="l01683"></a>01683                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01684"></a>01684                         }
<a name="l01685"></a>01685                 }
<a name="l01686"></a>01686                 <a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b" title="Print the characters of a sequence that was thought to form an entity but did not.">fallbackEntity</a>();
<a name="l01687"></a>01687                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01688"></a>01688         }
<a name="l01689"></a>01689 
<a name="l01692"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#ab7ec64f9af458dabc60164330b7fad40">01692</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ab7ec64f9af458dabc60164330b7fad40" title="Try to parse a named entity.">parseNamedEntity</a>()
<a name="l01693"></a>01693         {
<a name="l01694"></a>01694                 <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch;
<a name="l01695"></a>01695                 tokstate.id = TokState::ParsingNamedEntity;
<a name="l01696"></a>01696                 ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01697"></a>01697                 <span class="keywordflow">while</span> (tokstate.pos &lt; <span class="keyword">sizeof</span>(tokstate.buf)-1 &amp;&amp; ch != <span class="charliteral">&#39;;&#39;</span> &amp;&amp; m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>() == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>)
<a name="l01698"></a>01698                 {
<a name="l01699"></a>01699                         tokstate.buf[ tokstate.pos] = ch;
<a name="l01700"></a>01700                         m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01701"></a>01701                         tokstate.pos++;
<a name="l01702"></a>01702                         ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01703"></a>01703                 }
<a name="l01704"></a>01704                 <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;;&#39;</span>)
<a name="l01705"></a>01705                 {
<a name="l01706"></a>01706                         tokstate.buf[ tokstate.pos] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l01707"></a>01707                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#a9474d929c1b20999e3f3b406c668d9e9" title="Parse an entity defined by name (predefined or in defined in entity table)">pushEntity</a>( tokstate.buf)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01708"></a>01708                         tokstate.init( TokState::ParsingToken);
<a name="l01709"></a>01709                         m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01710"></a>01710                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01711"></a>01711                 }
<a name="l01712"></a>01712                 <span class="keywordflow">else</span>
<a name="l01713"></a>01713                 {
<a name="l01714"></a>01714                         <a class="code" href="classtextwolf_1_1XMLScanner.html#afceec08743b9db72495d7590a972481b" title="Print the characters of a sequence that was thought to form an entity but did not.">fallbackEntity</a>();
<a name="l01715"></a>01715                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01716"></a>01716                 }
<a name="l01717"></a>01717         }
<a name="l01718"></a>01718 
<a name="l01721"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a445b1d1730ccecdf384d5f701e8f90f4">01721</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a445b1d1730ccecdf384d5f701e8f90f4" title="Try to recover from an interrupted token parsing state (end of input exception)">parseTokenRecover</a>()
<a name="l01722"></a>01722         {
<a name="l01723"></a>01723                 <span class="keywordtype">bool</span> rt = <span class="keyword">false</span>;
<a name="l01724"></a>01724                 <span class="keywordflow">if</span> (tokstate.curchr_saved)
<a name="l01725"></a>01725                 {
<a name="l01726"></a>01726                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( tokstate.curchr_saved);
<a name="l01727"></a>01727                         tokstate.curchr_saved = 0;
<a name="l01728"></a>01728                 }
<a name="l01729"></a>01729                 <span class="keywordflow">switch</span> (tokstate.id)
<a name="l01730"></a>01730                 {
<a name="l01731"></a>01731                         <span class="keywordflow">case</span> TokState::Start:
<a name="l01732"></a>01732                         <span class="keywordflow">case</span> TokState::ParsingDone:
<a name="l01733"></a>01733                         <span class="keywordflow">case</span> TokState::ParsingKey:
<a name="l01734"></a>01734                         <span class="keywordflow">case</span> TokState::ParsingToken:
<a name="l01735"></a>01735                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba12d0da8dca8d95268c6038211489014d" title="internal error (textwolf implementation error)">ErrInternal</a>;
<a name="l01736"></a>01736                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01737"></a>01737                         <span class="keywordflow">case</span> TokState::ParsingEntity: rt = <a class="code" href="classtextwolf_1_1XMLScanner.html#add7e86ec915b05eb4623b7a27aec19f9" title="Try to parse an entity (we got &#39;&amp;&#39;)">parseEntity</a>(); <span class="keywordflow">break</span>;
<a name="l01738"></a>01738                         <span class="keywordflow">case</span> TokState::ParsingNumericEntity: rt = <a class="code" href="classtextwolf_1_1XMLScanner.html#a4e91d52c454fca058f4aae4578891d11" title="Try to parse a numeric entity (we got &#39;&amp;#&#39;)">parseNumericEntity</a>(); <span class="keywordflow">break</span>;
<a name="l01739"></a>01739                         <span class="keywordflow">case</span> TokState::ParsingNumericBaseEntity: rt = <a class="code" href="classtextwolf_1_1XMLScanner.html#acc0f8132c47d1988cdf1a69bb0110b04" title="Try to parse a numeric entity with known base (we got &#39;&amp;#&#39; and we know the base 10/16 of it)...">parseNumericBaseEntity</a>(); <span class="keywordflow">break</span>;
<a name="l01740"></a>01740                         <span class="keywordflow">case</span> TokState::ParsingNamedEntity: rt = <a class="code" href="classtextwolf_1_1XMLScanner.html#ab7ec64f9af458dabc60164330b7fad40" title="Try to parse a named entity.">parseNamedEntity</a>(); <span class="keywordflow">break</span>;
<a name="l01741"></a>01741                 }
<a name="l01742"></a>01742                 tokstate.init( TokState::ParsingToken);
<a name="l01743"></a>01743                 <span class="keywordflow">return</span> rt;
<a name="l01744"></a>01744         }
<a name="l01745"></a>01745 
<a name="l01749"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#ae846624750c02fb33f39d190a8c3720c">01749</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ae846624750c02fb33f39d190a8c3720c" title="Parse a token defined by the set of valid token characters.">parseToken</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>&amp; isTok)
<a name="l01750"></a>01750         {
<a name="l01751"></a>01751                 <span class="keywordflow">if</span> (tokstate.id == TokState::Start)
<a name="l01752"></a>01752                 {
<a name="l01753"></a>01753                         tokstate.id = TokState::ParsingToken;
<a name="l01754"></a>01754                         m_outputBuf-&gt;clear();
<a name="l01755"></a>01755                 }
<a name="l01756"></a>01756                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tokstate.id != TokState::ParsingToken)
<a name="l01757"></a>01757                 {
<a name="l01758"></a>01758                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#a445b1d1730ccecdf384d5f701e8f90f4" title="Try to recover from an interrupted token parsing state (end of input exception)">parseTokenRecover</a>())
<a name="l01759"></a>01759                         {
<a name="l01760"></a>01760                                 tokstate.init();
<a name="l01761"></a>01761                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01762"></a>01762                         }
<a name="l01763"></a>01763                 }
<a name="l01764"></a>01764                 <span class="keywordflow">for</span> (;;)
<a name="l01765"></a>01765                 {
<a name="l01766"></a>01766                         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> ch;
<a name="l01767"></a>01767                         <span class="keywordflow">while</span> (isTok[ (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(ch=m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>())])
<a name="l01768"></a>01768                         {
<a name="l01769"></a>01769                                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> chr = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a783b195912d79ed958f7f9b0660f156a" title="Get the unicode character of the current character.">chr</a>();
<a name="l01770"></a>01770                                 <span class="keywordflow">if</span> (chr &lt;= 0xD)
<a name="l01771"></a>01771                                 {
<a name="l01772"></a>01772                                         <span class="comment">//handling W3C requirements for end of line translation in XML:</span>
<a name="l01773"></a>01773                                         <span class="keywordtype">char</span> aa = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>();
<a name="l01774"></a>01774                                         <span class="keywordflow">if</span> (aa == <span class="charliteral">&#39;\r&#39;</span>)
<a name="l01775"></a>01775                                         {
<a name="l01776"></a>01776                                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<span class="charliteral">&#39;\n&#39;</span>);
<a name="l01777"></a>01777                                                 tokstate.eolnState = TokState::CR;
<a name="l01778"></a>01778                                         }
<a name="l01779"></a>01779                                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aa == <span class="charliteral">&#39;\n&#39;</span>)
<a name="l01780"></a>01780                                         {
<a name="l01781"></a>01781                                                 <span class="keywordflow">if</span> (tokstate.eolnState != TokState::CR)
<a name="l01782"></a>01782                                                 {
<a name="l01783"></a>01783                                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<span class="charliteral">&#39;\n&#39;</span>);
<a name="l01784"></a>01784                                                 }
<a name="l01785"></a>01785                                                 tokstate.eolnState = TokState::SRC;
<a name="l01786"></a>01786                                         }
<a name="l01787"></a>01787                                         <span class="keywordflow">else</span>
<a name="l01788"></a>01788                                         {
<a name="l01789"></a>01789                                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( chr);
<a name="l01790"></a>01790                                                 tokstate.eolnState = TokState::SRC;
<a name="l01791"></a>01791                                         }
<a name="l01792"></a>01792                                 }
<a name="l01793"></a>01793                                 <span class="keywordflow">else</span>
<a name="l01794"></a>01794                                 {
<a name="l01795"></a>01795                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( chr);
<a name="l01796"></a>01796                                         tokstate.eolnState = TokState::SRC;
<a name="l01797"></a>01797                                 }
<a name="l01798"></a>01798                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01799"></a>01799                         }
<a name="l01800"></a>01800                         <span class="keywordflow">if</span> (ch == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28" title="ampersant (&#39;&amp;&#39;)">Amp</a>)
<a name="l01801"></a>01801                         {
<a name="l01802"></a>01802                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01803"></a>01803                                 <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#add7e86ec915b05eb4623b7a27aec19f9" title="Try to parse an entity (we got &#39;&amp;&#39;)">parseEntity</a>()) <span class="keywordflow">break</span>;
<a name="l01804"></a>01804                                 tokstate.init( TokState::ParsingToken);
<a name="l01805"></a>01805                                 <span class="keywordflow">continue</span>;
<a name="l01806"></a>01806                         }
<a name="l01807"></a>01807                         <span class="keywordflow">else</span>
<a name="l01808"></a>01808                         {
<a name="l01809"></a>01809                                 tokstate.init( TokState::ParsingDone);
<a name="l01810"></a>01810                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01811"></a>01811                         }
<a name="l01812"></a>01812                 }
<a name="l01813"></a>01813                 tokstate.init();
<a name="l01814"></a>01814                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01815"></a>01815         }
<a name="l01816"></a>01816 
<a name="l01823"></a>01823         <span class="keyword">template</span> &lt;<span class="keyword">class</span> OutputBufferType&gt;
<a name="l01824"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a887e1402c561967a9c7a9d689828f0b8">01824</a>         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a887e1402c561967a9c7a9d689828f0b8" title="Static version of parse a token for parsing table definition elements.">parseStaticToken</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>&amp; isTok, <a class="code" href="classtextwolf_1_1TextScanner.html">InputReader</a> ir, OutputBufferType&amp; buf)
<a name="l01825"></a>01825         {
<a name="l01826"></a>01826                 buf.clear();
<a name="l01827"></a>01827                 <span class="keywordflow">for</span> (;;)
<a name="l01828"></a>01828                 {
<a name="l01829"></a>01829                         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> ch;
<a name="l01830"></a>01830                         <span class="keywordflow">for</span> (;;)
<a name="l01831"></a>01831                         {
<a name="l01832"></a>01832                                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> pc;
<a name="l01833"></a>01833                                 <span class="keywordflow">if</span> (isTok[ (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(ch=ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>())])
<a name="l01834"></a>01834                                 {
<a name="l01835"></a>01835                                         pc = ir.<a class="code" href="classtextwolf_1_1TextScanner.html#a783b195912d79ed958f7f9b0660f156a" title="Get the unicode character of the current character.">chr</a>();
<a name="l01836"></a>01836                                 }
<a name="l01837"></a>01837                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28" title="ampersant (&#39;&amp;&#39;)">Amp</a>)
<a name="l01838"></a>01838                                 {
<a name="l01839"></a>01839                                         pc = <a class="code" href="classtextwolf_1_1XMLScanner.html#a5b8dadee9351981024ea7d8de80cc3a9" title="Parse a numeric entity value for a table definition (map it to the target character set)...">parseStaticNumericEntityValue</a>( ir);
<a name="l01840"></a>01840                                 }
<a name="l01841"></a>01841                                 <span class="keywordflow">else</span>
<a name="l01842"></a>01842                                 {
<a name="l01843"></a>01843                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01844"></a>01844                                 }
<a name="l01845"></a>01845                                 OutputCharSet::print( pc, buf);
<a name="l01846"></a>01846                                 ir.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01847"></a>01847                         }
<a name="l01848"></a>01848                 }
<a name="l01849"></a>01849         }
<a name="l01850"></a>01850 
<a name="l01854"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#ac5a944f70a70d271f54800116d5068a1">01854</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ac5a944f70a70d271f54800116d5068a1" title="Skip a token defined by the set of valid token characters (same as parseToken but nothing written to ...">skipToken</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>&amp; isTok)
<a name="l01855"></a>01855         {
<a name="l01856"></a>01856                 <span class="keywordflow">for</span> (;;)
<a name="l01857"></a>01857                 {
<a name="l01858"></a>01858                         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> ch;
<a name="l01859"></a>01859                         <span class="keywordflow">while</span> (isTok[ (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(ch=m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>())] || ch == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a01969506a07c58fc0bb4196e544a3d28" title="ampersant (&#39;&amp;&#39;)">Amp</a>)
<a name="l01860"></a>01860                         {
<a name="l01861"></a>01861                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l01862"></a>01862                         }
<a name="l01863"></a>01863                         <span class="keywordflow">if</span> (m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>() != <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3af9bb44a3034926bdea419d810bc76868" title="any ascii character with meaning">Any</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01864"></a>01864                 }
<a name="l01865"></a>01865         }
<a name="l01866"></a>01866 
<a name="l01870"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a6aaf7bc3b6bcc62c12a5760c319a681c">01870</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a6aaf7bc3b6bcc62c12a5760c319a681c" title="Parse a token that must be the same as a given string.">expectStr</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l01871"></a>01871         {
<a name="l01872"></a>01872                 <span class="keywordtype">bool</span> rt = <span class="keyword">true</span>;
<a name="l01873"></a>01873                 tokstate.id = TokState::ParsingKey;
<a name="l01874"></a>01874                 <span class="keywordflow">for</span> (; str[tokstate.pos] != <span class="charliteral">&#39;\0&#39;</span>; m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>(),tokstate.pos++)
<a name="l01875"></a>01875                 {
<a name="l01876"></a>01876                         <span class="keywordflow">if</span> (m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1fbb13d8feb41d1340cdbf2118a8183c" title="Get the ASCII character representation of the current character.">ascii</a>() == str[ tokstate.pos]) <span class="keywordflow">continue</span>;
<a name="l01877"></a>01877                         <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>();
<a name="l01878"></a>01878                         <span class="keywordflow">if</span> (ch == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>)
<a name="l01879"></a>01879                         {
<a name="l01880"></a>01880                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78baaba73f646d7a3b6a5428d2ffa35c7956" title="unexpected end of text in the middle of the XML definition">ErrUnexpectedEndOfText</a>;
<a name="l01881"></a>01881                         }
<a name="l01882"></a>01882                         <span class="keywordflow">else</span>
<a name="l01883"></a>01883                         {
<a name="l01884"></a>01884                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba457ff1c0d02518e32d4e1a3da4758918" title="a specific string expected as token in XML but does not match">ErrSyntaxToken</a>;
<a name="l01885"></a>01885                         }
<a name="l01886"></a>01886                         rt = <span class="keyword">false</span>;
<a name="l01887"></a>01887                         <span class="keywordflow">break</span>;
<a name="l01888"></a>01888                 }
<a name="l01889"></a>01889                 tokstate.init( TokState::ParsingDone);
<a name="l01890"></a>01890                 <span class="keywordflow">return</span> rt;
<a name="l01891"></a>01891         }
<a name="l01892"></a>01892 
<a name="l01896"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#ac12deab9c8cb3ebc6b0c7e77ca966278">01896</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ac12deab9c8cb3ebc6b0c7e77ca966278" title="Parse an entity defined by name (predefined)">pushPredefinedEntity</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l01897"></a>01897         {
<a name="l01898"></a>01898                 <span class="keywordflow">switch</span> (str[0])
<a name="l01899"></a>01899                 {
<a name="l01900"></a>01900                         <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>:
<a name="l01901"></a>01901                                 <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;u&#39;</span> &amp;&amp; str[2] == <span class="charliteral">&#39;o&#39;</span> &amp;&amp; str[3] == <span class="charliteral">&#39;t&#39;</span> &amp;&amp; str[4] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01902"></a>01902                                 {
<a name="l01903"></a>01903                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;\&quot;&#39;</span>);
<a name="l01904"></a>01904                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01905"></a>01905                                 }
<a name="l01906"></a>01906                                 <span class="keywordflow">break</span>;
<a name="l01907"></a>01907 
<a name="l01908"></a>01908                         <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:
<a name="l01909"></a>01909                                 <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;m&#39;</span>)
<a name="l01910"></a>01910                                 {
<a name="l01911"></a>01911                                         <span class="keywordflow">if</span> (str[2] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; str[3] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01912"></a>01912                                         {
<a name="l01913"></a>01913                                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;&amp;&#39;</span>);
<a name="l01914"></a>01914                                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01915"></a>01915                                         }
<a name="l01916"></a>01916                                 }
<a name="l01917"></a>01917                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;p&#39;</span>)
<a name="l01918"></a>01918                                 {
<a name="l01919"></a>01919                                         <span class="keywordflow">if</span> (str[2] == <span class="charliteral">&#39;o&#39;</span> &amp;&amp; str[3] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; str[4] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01920"></a>01920                                         {
<a name="l01921"></a>01921                                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;\&#39;&#39;</span>);
<a name="l01922"></a>01922                                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01923"></a>01923                                         }
<a name="l01924"></a>01924                                 }
<a name="l01925"></a>01925                                 <span class="keywordflow">break</span>;
<a name="l01926"></a>01926 
<a name="l01927"></a>01927                         <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:
<a name="l01928"></a>01928                                 <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;t&#39;</span> &amp;&amp; str[2] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01929"></a>01929                                 {
<a name="l01930"></a>01930                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;&lt;&#39;</span>);
<a name="l01931"></a>01931                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01932"></a>01932                                 }
<a name="l01933"></a>01933                                 <span class="keywordflow">break</span>;
<a name="l01934"></a>01934 
<a name="l01935"></a>01935                         <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:
<a name="l01936"></a>01936                                 <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;t&#39;</span> &amp;&amp; str[2] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01937"></a>01937                                 {
<a name="l01938"></a>01938                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;&gt;&#39;</span>);
<a name="l01939"></a>01939                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01940"></a>01940                                 }
<a name="l01941"></a>01941                                 <span class="keywordflow">break</span>;
<a name="l01942"></a>01942 
<a name="l01943"></a>01943                         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:
<a name="l01944"></a>01944                                 <span class="keywordflow">if</span> (str[1] == <span class="charliteral">&#39;b&#39;</span> &amp;&amp; str[2] == <span class="charliteral">&#39;s&#39;</span> &amp;&amp; str[3] == <span class="charliteral">&#39;p&#39;</span> &amp;&amp; str[4] == <span class="charliteral">&#39;\0&#39;</span>)
<a name="l01945"></a>01945                                 {
<a name="l01946"></a>01946                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39; &#39;</span>);
<a name="l01947"></a>01947                                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01948"></a>01948                                 }
<a name="l01949"></a>01949                                 <span class="keywordflow">break</span>;
<a name="l01950"></a>01950                 }
<a name="l01951"></a>01951                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01952"></a>01952         }
<a name="l01953"></a>01953 
<a name="l01957"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a9474d929c1b20999e3f3b406c668d9e9">01957</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a9474d929c1b20999e3f3b406c668d9e9" title="Parse an entity defined by name (predefined or in defined in entity table)">pushEntity</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* str)
<a name="l01958"></a>01958         {
<a name="l01959"></a>01959                 <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLScanner.html#ac12deab9c8cb3ebc6b0c7e77ca966278" title="Parse an entity defined by name (predefined)">pushPredefinedEntity</a>( str))
<a name="l01960"></a>01960                 {
<a name="l01961"></a>01961                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01962"></a>01962                 }
<a name="l01963"></a>01963                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_entityMap)
<a name="l01964"></a>01964                 {
<a name="l01965"></a>01965                         EntityMapIterator itr = m_entityMap-&gt;find( str);
<a name="l01966"></a>01966                         <span class="keywordflow">if</span> (itr == m_entityMap-&gt;end())
<a name="l01967"></a>01967                         {
<a name="l01968"></a>01968                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba80ae9361aa81f3ecce19acd0690e4aad" title="named entity is not defined in the entity map">ErrUndefinedCharacterEntity</a>;
<a name="l01969"></a>01969                                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01970"></a>01970                         }
<a name="l01971"></a>01971                         <span class="keywordflow">else</span>
<a name="l01972"></a>01972                         {
<a name="l01973"></a>01973                                 <a class="code" href="namespacetextwolf.html#a3eb8d6733d6737825026b2e41b8c3f9c" title="Unicode character type.">UChar</a> ch = itr-&gt;second;
<a name="l01974"></a>01974                                 <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( ch);
<a name="l01975"></a>01975                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01976"></a>01976                         }
<a name="l01977"></a>01977                 }
<a name="l01978"></a>01978                 <span class="keywordflow">else</span>
<a name="l01979"></a>01979                 {
<a name="l01980"></a>01980                         error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba80ae9361aa81f3ecce19acd0690e4aad" title="named entity is not defined in the entity map">ErrUndefinedCharacterEntity</a>;
<a name="l01981"></a>01981                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01982"></a>01982                 }
<a name="l01983"></a>01983         }
<a name="l01984"></a>01984 
<a name="l01985"></a>01985 <span class="keyword">private</span>:
<a name="l01986"></a>01986         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a> state;                 
<a name="l01987"></a>01987         <span class="keywordtype">bool</span> m_doTokenize;              
<a name="l01988"></a>01988         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a> error;                    
<a name="l01989"></a>01989         InputReader m_src;              
<a name="l01990"></a>01990         <span class="keyword">const</span> EntityMap* m_entityMap;   
<a name="l01991"></a>01991         OutputBuffer* m_outputBuf;      
<a name="l01992"></a>01992 
<a name="l01993"></a>01993 <span class="keyword">public</span>:
<a name="l01998"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a1e71918731ca9e49e2e30474fcca6f93">01998</a>         <a class="code" href="classtextwolf_1_1XMLScanner.html#a1e71918731ca9e49e2e30474fcca6f93" title="Constructor.">XMLScanner</a>( InputIterator&amp; p_src, OutputBuffer&amp; p_outputBuf, <span class="keyword">const</span> EntityMap&amp; p_entityMap)
<a name="l01999"></a>01999                         :state(START),m_doTokenize(false),error(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba13c32869c2a8c9039545270d1ef1c8f2" title="no error, everything is OK">Ok</a>),m_src(p_src),m_entityMap(&amp;p_entityMap),m_outputBuf(&amp;p_outputBuf)
<a name="l02000"></a>02000         {}
<a name="l02001"></a>02001         <a class="code" href="classtextwolf_1_1XMLScanner.html#a1e71918731ca9e49e2e30474fcca6f93" title="Constructor.">XMLScanner</a>( InputIterator&amp; p_src, OutputBuffer&amp; p_outputBuf)
<a name="l02002"></a>02002                         :state(START),m_doTokenize(false),error(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba13c32869c2a8c9039545270d1ef1c8f2" title="no error, everything is OK">Ok</a>),m_src(p_src),m_entityMap(0),m_outputBuf(&amp;p_outputBuf)
<a name="l02003"></a>02003         {}
<a name="l02004"></a>02004 
<a name="l02007"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a6f9f96e4af19d93f92b4d5602680aca7">02007</a>         <a class="code" href="classtextwolf_1_1XMLScanner.html#a1e71918731ca9e49e2e30474fcca6f93" title="Constructor.">XMLScanner</a>( <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">XMLScanner</a>&amp; o)
<a name="l02008"></a>02008                         :state(o.state),m_doTokenize(o.m_doTokenize),error(o.error),m_src(o.m_src),m_entityMap(o.m_entityMap),m_outputBuf(o.m_outputBuf)
<a name="l02009"></a>02009         {}
<a name="l02010"></a>02010 
<a name="l02013"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a2336eeb5cbf02ebfc11fe5d4d2c64342">02013</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a2336eeb5cbf02ebfc11fe5d4d2c64342" title="Redefine the buffer to use for output.">setOutputBuffer</a>( OutputBuffer&amp; p_outputBuf)
<a name="l02014"></a>02014         {
<a name="l02015"></a>02015                 m_outputBuf = &amp;p_outputBuf;
<a name="l02016"></a>02016         }
<a name="l02017"></a>02017 
<a name="l02020"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#ad35c76218f178175f0c55d76aa5b94d8">02020</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#ad35c76218f178175f0c55d76aa5b94d8" title="Initialize a new source iterator while keeping the state.">setSource</a>( <span class="keyword">const</span> InputIterator&amp; itr)
<a name="l02021"></a>02021         {
<a name="l02022"></a>02022                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a1383f3d13f3f87efda9be768ded1c487" title="Initialize a new source iterator while keeping the state.">setSource</a>( itr);
<a name="l02023"></a>02023         }
<a name="l02024"></a>02024 
<a name="l02027"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a60fcc8d1abb099a31761663d78a59214">02027</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScanner.html#a60fcc8d1abb099a31761663d78a59214" title="Get the current parsed XML element string, if it was not masked out, see nextItem(unsigned short)...">getItem</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_outputBuf-&gt;size()?&amp;m_outputBuf-&gt;at(0):<span class="stringliteral">&quot;\0\0\0\0&quot;</span>;}
<a name="l02028"></a>02028 
<a name="l02031"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#aeee9243a745d7b5a4e2eff1fdc517818">02031</a>         std::size_t <a class="code" href="classtextwolf_1_1XMLScanner.html#aeee9243a745d7b5a4e2eff1fdc517818" title="Get the size of the current parsed YML element string in bytes.">getItemSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_outputBuf-&gt;size();}
<a name="l02032"></a>02032 
<a name="l02035"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#abf14b00510aa21f3f6b23cb90ecdcaf3">02035</a>         <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html" title="One state in the state machine.">ScannerStatemachine::Element</a>* <a class="code" href="classtextwolf_1_1XMLScanner.html#abf14b00510aa21f3f6b23cb90ecdcaf3" title="Get the current XML scanner state machine state.">getState</a>()
<a name="l02036"></a>02036         {
<a name="l02037"></a>02037                 <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html" title="XML scanner state machine implementation.">Statemachine</a> STMtok(<span class="keyword">true</span>);
<a name="l02038"></a>02038                 <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html" title="XML scanner state machine implementation.">Statemachine</a> STMW3C(<span class="keyword">false</span>);
<a name="l02039"></a>02039                 <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1Statemachine.html" title="XML scanner state machine implementation.">Statemachine</a>* stm[2] = {&amp;STMW3C,&amp;STMtok};
<a name="l02040"></a>02040                 <span class="keywordflow">return</span> stm[ m_doTokenize]-&gt;<a class="code" href="classtextwolf_1_1ScannerStatemachine.html#ab5046746e910318e1a3a4e944dbbfcde" title="Get state addressed by its index.">get</a>( state);
<a name="l02041"></a>02041         }
<a name="l02042"></a>02042 
<a name="l02045"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a3ba2382c99347148fe07497ee1325bac">02045</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner.html#a3ba2382c99347148fe07497ee1325bac" title="Set the tokenization behaviour.">doTokenize</a>( <span class="keywordtype">bool</span> v)
<a name="l02046"></a>02046         {
<a name="l02047"></a>02047                 m_doTokenize = v;
<a name="l02048"></a>02048         }
<a name="l02049"></a>02049 
<a name="l02053"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a8c7c2bac22e53be9f7b0cbe712a744a8">02053</a>         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a> <a class="code" href="classtextwolf_1_1XMLScanner.html#a8c7c2bac22e53be9f7b0cbe712a744a8" title="Get the last error.">getError</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>** str=0)
<a name="l02054"></a>02054         {
<a name="l02055"></a>02055                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a> rt = error;
<a name="l02056"></a>02056                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba13c32869c2a8c9039545270d1ef1c8f2" title="no error, everything is OK">Ok</a>;
<a name="l02057"></a>02057                 <span class="keywordflow">if</span> (str) *str=<a class="code" href="classtextwolf_1_1XMLScannerBase.html#a583151f1bc3a1b03e0d616618917c866" title="Get the error code as string.">getErrorString</a>(rt);
<a name="l02058"></a>02058                 <span class="keywordflow">return</span> rt;
<a name="l02059"></a>02059         }
<a name="l02060"></a>02060 
<a name="l02064"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a3b70b3cbcacd2b017038b8a4be922bd0">02064</a>         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a> <a class="code" href="classtextwolf_1_1XMLScanner.html#a3b70b3cbcacd2b017038b8a4be922bd0" title="Scan the next XML element.">nextItem</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mask=0xFFFF)
<a name="l02065"></a>02065         {
<a name="l02066"></a>02066                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsWordCharMap.html" title="Defines the set of content word characters (tokenization switched on)">IsWordCharMap</a> wordC;
<a name="l02067"></a>02067                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsContentCharMap.html" title="Defines the set of content token characters.">IsContentCharMap</a> contentC;
<a name="l02068"></a>02068                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html" title="Defines the set of tag characters.">IsTagCharMap</a> tagC;
<a name="l02069"></a>02069                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsSQStringCharMap.html" title="Defines the set characters belonging to a single quoted string.">IsSQStringCharMap</a> sqC;
<a name="l02070"></a>02070                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsDQStringCharMap.html" title="Defines the set characters belonging to a double quoted string.">IsDQStringCharMap</a> dqC;
<a name="l02071"></a>02071                 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1CharMap.html" title="Character map for fast typing of a character byte.">IsTokenCharMap</a>* tokenDefs[ NofSTMActions] = {0,&amp;wordC,&amp;contentC,&amp;tagC,&amp;sqC,&amp;dqC,0,0,0};
<a name="l02072"></a>02072                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* stringDefs[ NofSTMActions] = {0,0,0,0,0,0,<span class="stringliteral">&quot;xml&quot;</span>,<span class="stringliteral">&quot;CDATA&quot;</span>,0};
<a name="l02073"></a>02073 
<a name="l02074"></a>02074                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a> rt = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62" title="empty (NULL)">None</a>;
<a name="l02075"></a>02075                 <a class="code" href="group__Charactersets.html#ga4650ba8f3f0f0c953ab1dad55efc6ee3" title="Enumeration of control characters needed as events for XML scanner statemachine.">ControlCharacter</a> ch;
<a name="l02076"></a>02076                 <span class="keywordflow">do</span>
<a name="l02077"></a>02077                 {
<a name="l02078"></a>02078                         <a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html" title="One state in the state machine.">ScannerStatemachine::Element</a>* sd = <a class="code" href="classtextwolf_1_1XMLScanner.html#abf14b00510aa21f3f6b23cb90ecdcaf3" title="Get the current XML scanner state machine state.">getState</a>();
<a name="l02079"></a>02079                         <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op != -1)
<a name="l02080"></a>02080                         {
<a name="l02081"></a>02081                                 <span class="keywordflow">if</span> (tokenDefs[sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op])
<a name="l02082"></a>02082                                 {
<a name="l02083"></a>02083                                         <span class="keywordflow">if</span> (tokstate.id != TokState::ParsingDone)
<a name="l02084"></a>02084                                         {
<a name="l02085"></a>02085                                                 <span class="keywordflow">if</span> ((mask&amp;(1&lt;&lt;sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.arg)) != 0)
<a name="l02086"></a>02086                                                 {
<a name="l02087"></a>02087                                                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#ae846624750c02fb33f39d190a8c3720c" title="Parse a token defined by the set of valid token characters.">parseToken</a>( *tokenDefs[ sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op])) <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02088"></a>02088                                                 }
<a name="l02089"></a>02089                                                 <span class="keywordflow">else</span>
<a name="l02090"></a>02090                                                 {
<a name="l02091"></a>02091                                                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#ac5a944f70a70d271f54800116d5068a1" title="Skip a token defined by the set of valid token characters (same as parseToken but nothing written to ...">skipToken</a>( *tokenDefs[ sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op])) <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02092"></a>02092                                                 }
<a name="l02093"></a>02093                                         }
<a name="l02094"></a>02094                                         rt = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.arg;
<a name="l02095"></a>02095                                 }
<a name="l02096"></a>02096                                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stringDefs[sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op])
<a name="l02097"></a>02097                                 {
<a name="l02098"></a>02098                                         <span class="keywordflow">if</span> (tokstate.id != TokState::ParsingDone)
<a name="l02099"></a>02099                                         {
<a name="l02100"></a>02100                                                 <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLScanner.html#a6aaf7bc3b6bcc62c12a5760c319a681c" title="Parse a token that must be the same as a given string.">expectStr</a>( stringDefs[sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op])) <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02101"></a>02101                                                 <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op == ExpectIdentifierXML)
<a name="l02102"></a>02102                                                 {
<a name="l02103"></a>02103                                                         <span class="comment">//... special treatement for xml header for not</span>
<a name="l02104"></a>02104                                                         <span class="comment">//    enforcing the model too much just for this case</span>
<a name="l02105"></a>02105                                                         <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;?&#39;</span>); <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;x&#39;</span>); <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;m&#39;</span>); <a class="code" href="classtextwolf_1_1XMLScanner.html#af7333cd3aa3af83bbc18ee6a24e502c4" title="Print a character to the output token buffer.">push</a>( <span class="charliteral">&#39;l&#39;</span>);
<a name="l02106"></a>02106                                                         rt = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">HeaderStart</a>;
<a name="l02107"></a>02107                                                 }
<a name="l02108"></a>02108                                         }
<a name="l02109"></a>02109                                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.op == ExpectIdentifierXML)
<a name="l02110"></a>02110                                         {
<a name="l02111"></a>02111                                                 <span class="comment">//... special treatement for xml header for not  </span>
<a name="l02112"></a>02112                                                 <span class="comment">//    enforcing the model too much just for this case</span>
<a name="l02113"></a>02113                                                 rt = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">HeaderStart</a>;
<a name="l02114"></a>02114                                         }
<a name="l02115"></a>02115                                 }
<a name="l02116"></a>02116                                 <span class="keywordflow">else</span>
<a name="l02117"></a>02117                                 {
<a name="l02118"></a>02118                                         rt = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a8495c95a6764d2cd6586cee0aca1ee71" title="action executed after entering this state">action</a>.arg;
<a name="l02119"></a>02119                                 }
<a name="l02120"></a>02120                                 <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#aeb406422f3700595b12a49f1abf493e0" title="number of follow states defined">nofnext</a> == 0)
<a name="l02121"></a>02121                                 {
<a name="l02122"></a>02122                                         <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a> != -1)
<a name="l02123"></a>02123                                         {
<a name="l02124"></a>02124                                                 state = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a>;
<a name="l02125"></a>02125                                         }
<a name="l02126"></a>02126                                         <span class="keywordflow">return</span> rt;
<a name="l02127"></a>02127                                 }
<a name="l02128"></a>02128                         }
<a name="l02129"></a>02129                         ch = m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#a24fd9e888680e46835e9c6f2d4be3f71" title="Get the control character representation of the current character.">control</a>();
<a name="l02130"></a>02130                         tokstate.id = TokState::Start;
<a name="l02131"></a>02131 
<a name="l02132"></a>02132                         <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ ch] != -1)
<a name="l02133"></a>02133                         {
<a name="l02134"></a>02134                                 state = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a654ceb922a0b26da0c727ba923f38c7f" title="follow state fired by an event (control character type parsed)">next</a>[ ch];
<a name="l02135"></a>02135                                 m_src.<a class="code" href="classtextwolf_1_1TextScanner.html#ac0b6d4734280a45a14c3d93d068b248f" title="Skip to the next character of the source.">skip</a>();
<a name="l02136"></a>02136                         }
<a name="l02137"></a>02137                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a> != -1)
<a name="l02138"></a>02138                         {
<a name="l02139"></a>02139                                 state = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#acf32f993fc533aa138e44a9b1afc8d1c" title="Enumeration of states of the XML scanner state machine.">STMState</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a9ff96e6ea03b5e1ad0695339926e0f9d" title="state transition if the event does not match (it belongs to the next state = fallbackState)">fallbackState</a>;
<a name="l02140"></a>02140                         }
<a name="l02141"></a>02141                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a" title="error code in case of an event that does not match and there is no fallback">missError</a> != -1)
<a name="l02142"></a>02142                         {
<a name="l02143"></a>02143                                 error = (<a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">Error</a>)sd-&gt;<a class="code" href="structtextwolf_1_1ScannerStatemachine_1_1Element.html#a122cbb1073604605c3d37169cbfce07a" title="error code in case of an event that does not match and there is no fallback">missError</a>;
<a name="l02144"></a>02144                                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02145"></a>02145                         }
<a name="l02146"></a>02146                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ch == <a class="code" href="group__Charactersets.html#gga4650ba8f3f0f0c953ab1dad55efc6ee3a9a624cbe2644699c3220cfc5b560a7c3" title="end of data (EOF,EOD,.)">EndOfText</a>)
<a name="l02147"></a>02147                         {
<a name="l02148"></a>02148                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78baaba73f646d7a3b6a5428d2ffa35c7956" title="unexpected end of text in the middle of the XML definition">ErrUnexpectedEndOfText</a>;
<a name="l02149"></a>02149                                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02150"></a>02150                         }
<a name="l02151"></a>02151                         <span class="keywordflow">else</span>
<a name="l02152"></a>02152                         {
<a name="l02153"></a>02153                                 error = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba12d0da8dca8d95268c6038211489014d" title="internal error (textwolf implementation error)">ErrInternal</a>;
<a name="l02154"></a>02154                                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">ErrorOccurred</a>;
<a name="l02155"></a>02155                         }
<a name="l02156"></a>02156                 }
<a name="l02157"></a>02157                 <span class="keywordflow">while</span> (rt == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62" title="empty (NULL)">None</a>);
<a name="l02158"></a>02158                 <span class="keywordflow">return</span> rt;
<a name="l02159"></a>02159         }
<a name="l02160"></a>02160 
<a name="l02163"></a><a class="code" href="structtextwolf_1_1XMLScanner_1_1End.html">02163</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLScanner_1_1End.html" title="end of input tag">End</a> {};
<a name="l02164"></a>02164 
<a name="l02167"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html">02167</a>         <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>
<a name="l02168"></a>02168         {
<a name="l02169"></a>02169         <span class="keyword">public</span>:
<a name="l02172"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html">02172</a>                 <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html" title="Iterator element visited.">Element</a>
<a name="l02173"></a>02173                 {
<a name="l02174"></a>02174                 <span class="keyword">private</span>:
<a name="l02175"></a>02175                         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>;
<a name="l02176"></a>02176                         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a> m_type;             
<a name="l02177"></a>02177                         <span class="keyword">const</span> <span class="keywordtype">char</span>* m_content;          
<a name="l02178"></a>02178                         std::size_t m_size;             
<a name="l02179"></a>02179                 <span class="keyword">public</span>:
<a name="l02181"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a0c228b37182048d910568a94dc6e2dcc">02181</a>                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a0c228b37182048d910568a94dc6e2dcc" title="Type of the current element as string.">name</a>()<span class="keyword"> const        </span>{<span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a29eec38bb732d4cc1e759920aec82d7d" title="Get the XML element type as string.">getElementTypeName</a>( m_type);}
<a name="l02183"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a4d2776db0890c14204ca7fd050538e5f">02183</a>                         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">ElementType</a> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a4d2776db0890c14204ca7fd050538e5f" title="Type of the current element.">type</a>()<span class="keyword"> const        </span>{<span class="keywordflow">return</span> m_type;}
<a name="l02185"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#abc01adce96fc34fc5da350b3ec8ef4c6">02185</a>                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#abc01adce96fc34fc5da350b3ec8ef4c6" title="Value of the current element.">content</a>()<span class="keyword"> const     </span>{<span class="keywordflow">return</span> m_content;}
<a name="l02187"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#ac7fd554e8a53803af01e09df6f0d3155">02187</a>                         std::size_t <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#ac7fd554e8a53803af01e09df6f0d3155" title="Size of the value of the current element in bytes.">size</a>()<span class="keyword"> const        </span>{<span class="keywordflow">return</span> m_size;}
<a name="l02189"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a87e1f7c4fc199600cf54c3d841d72d0d">02189</a>                         <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a87e1f7c4fc199600cf54c3d841d72d0d" title="Constructor.">Element</a>()                       :m_type(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62" title="empty (NULL)">None</a>),m_content(0),m_size(0) {}
<a name="l02191"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#aa71a437a4ba745e6362a725565f81020">02191</a>                         <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#aa71a437a4ba745e6362a725565f81020" title="Constructor.">Element</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScanner_1_1End.html" title="end of input tag">End</a>&amp;)            :m_type(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">Exit</a>),m_content(0),m_size(0) {}
<a name="l02194"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a643551592c3e2ac15e4f084ecb07a901">02194</a>                         <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a643551592c3e2ac15e4f084ecb07a901" title="Copy constructor.">Element</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html" title="Iterator element visited.">Element</a>&amp; orig)   :m_type(orig.m_type),m_content(orig.m_content),m_size(orig.m_size) {}
<a name="l02195"></a>02195                 };
<a name="l02196"></a>02196                 <span class="comment">// input iterator traits</span>
<a name="l02197"></a>02197                 <span class="keyword">typedef</span> Element value_type;
<a name="l02198"></a>02198                 <span class="keyword">typedef</span> std::size_t difference_type;
<a name="l02199"></a>02199                 <span class="keyword">typedef</span> std::size_t size_type;
<a name="l02200"></a>02200                 <span class="keyword">typedef</span> Element* pointer;
<a name="l02201"></a>02201                 <span class="keyword">typedef</span> Element&amp; reference;
<a name="l02202"></a>02202                 <span class="keyword">typedef</span> std::input_iterator_tag iterator_category;
<a name="l02203"></a>02203 
<a name="l02204"></a>02204         <span class="keyword">private</span>:
<a name="l02205"></a>02205                 Element element;                                                
<a name="l02206"></a>02206                 <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">ThisXMLScanner</a>* input;                          
<a name="l02207"></a>02207 
<a name="l02211"></a>02211                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; skip( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> mask=0xFFFF)
<a name="l02212"></a>02212                 {
<a name="l02213"></a>02213                         <span class="keywordflow">if</span> (input != 0)
<a name="l02214"></a>02214                         {
<a name="l02215"></a>02215                                 element.m_type = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#a3b70b3cbcacd2b017038b8a4be922bd0" title="Scan the next XML element.">nextItem</a>(mask);
<a name="l02216"></a>02216                                 element.m_content = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#a60fcc8d1abb099a31761663d78a59214" title="Get the current parsed XML element string, if it was not masked out, see nextItem(unsigned short)...">getItem</a>();
<a name="l02217"></a>02217                                 element.m_size = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#aeee9243a745d7b5a4e2eff1fdc517818" title="Get the size of the current parsed YML element string in bytes.">getItemSize</a>();
<a name="l02218"></a>02218                         }
<a name="l02219"></a>02219                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02220"></a>02220                 }
<a name="l02221"></a>02221 
<a name="l02225"></a>02225                 <span class="keywordtype">bool</span> compare( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a8f5a61063f1c1ea7986bbdf4b16ed3b4" title="Constructor.">iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l02226"></a>02226 <span class="keyword">                </span>{
<a name="l02227"></a>02227                         <span class="keywordflow">if</span> (element.<a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a4d2776db0890c14204ca7fd050538e5f" title="Type of the current element.">type</a>() == iter.element.type())
<a name="l02228"></a>02228                         {
<a name="l02229"></a>02229                                 <span class="keywordflow">if</span> (element.<a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a4d2776db0890c14204ca7fd050538e5f" title="Type of the current element.">type</a>() == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">Exit</a> || element.<a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html#a4d2776db0890c14204ca7fd050538e5f" title="Type of the current element.">type</a>() == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329afcd280f8a20da3408a1efcf7ab770e62" title="empty (NULL)">None</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">//equal only at beginning and end</span>
<a name="l02230"></a>02230                         }
<a name="l02231"></a>02231                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l02232"></a>02232                 }
<a name="l02233"></a>02233         <span class="keyword">public</span>:
<a name="l02236"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0c6ed1e2ac8784eddc08a365db960b70">02236</a>                 <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0c6ed1e2ac8784eddc08a365db960b70" title="Assign an iterator to another.">assign</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; orig)
<a name="l02237"></a>02237                 {
<a name="l02238"></a>02238                         input = orig.input;
<a name="l02239"></a>02239                         element = orig.element;
<a name="l02240"></a>02240                 }
<a name="l02243"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a6f3bc20d6a25eae6ab1d91e1eabd4d00">02243</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a8f5a61063f1c1ea7986bbdf4b16ed3b4" title="Constructor.">iterator</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; orig)
<a name="l02244"></a>02244                 {
<a name="l02245"></a>02245                         <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0c6ed1e2ac8784eddc08a365db960b70" title="Assign an iterator to another.">assign</a>( orig);
<a name="l02246"></a>02246                 }
<a name="l02250"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a700382266a06aeb54646470d5657332e">02250</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a8f5a61063f1c1ea7986bbdf4b16ed3b4" title="Constructor.">iterator</a>( <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">ThisXMLScanner</a>&amp; p_input, <span class="keywordtype">bool</span> doSkipToFirst=<span class="keyword">true</span>)
<a name="l02251"></a>02251                                 :input( &amp;p_input)
<a name="l02252"></a>02252                 {
<a name="l02253"></a>02253                         <span class="keywordflow">if</span> (doSkipToFirst)
<a name="l02254"></a>02254                         {
<a name="l02255"></a>02255                                 element.m_type = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#a3b70b3cbcacd2b017038b8a4be922bd0" title="Scan the next XML element.">nextItem</a>();
<a name="l02256"></a>02256                                 element.m_content = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#a60fcc8d1abb099a31761663d78a59214" title="Get the current parsed XML element string, if it was not masked out, see nextItem(unsigned short)...">getItem</a>();
<a name="l02257"></a>02257                                 element.m_size = input-&gt;<a class="code" href="classtextwolf_1_1XMLScanner.html#aeee9243a745d7b5a4e2eff1fdc517818" title="Get the size of the current parsed YML element string in bytes.">getItemSize</a>();
<a name="l02258"></a>02258                         }
<a name="l02259"></a>02259                 }
<a name="l02261"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a9328e764915e5990cef90afd9a6bc172">02261</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a9328e764915e5990cef90afd9a6bc172" title="Constructor.">iterator</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLScanner_1_1End.html" title="end of input tag">End</a>&amp; et)  :element(et),input(0) {}
<a name="l02263"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a8f5a61063f1c1ea7986bbdf4b16ed3b4">02263</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a8f5a61063f1c1ea7986bbdf4b16ed3b4" title="Constructor.">iterator</a>()  :input(0) {}
<a name="l02266"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0a98abbacd589ddce511e7a14a006448">02266</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0a98abbacd589ddce511e7a14a006448" title="Assignement operator.">operator = </a>(<span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; orig)
<a name="l02267"></a>02267                 {
<a name="l02268"></a>02268                         <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0c6ed1e2ac8784eddc08a365db960b70" title="Assign an iterator to another.">assign</a>( orig);
<a name="l02269"></a>02269                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02270"></a>02270                 }
<a name="l02272"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a774909a4e751539ced09c3d726c8e56d">02272</a>                 <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html" title="Iterator element visited.">Element</a>&amp; <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a774909a4e751539ced09c3d726c8e56d" title="Element dereference operator.">operator*</a>()
<a name="l02273"></a>02273                 {
<a name="l02274"></a>02274                         <span class="keywordflow">return</span> element;
<a name="l02275"></a>02275                 }
<a name="l02277"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a4496e6275b02720f1e9cb82119dfc624">02277</a>                 <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator_1_1Element.html" title="Iterator element visited.">Element</a>* <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a4496e6275b02720f1e9cb82119dfc624" title="Element dereference operator.">operator-&gt;</a>()
<a name="l02278"></a>02278                 {
<a name="l02279"></a>02279                         <span class="keywordflow">return</span> &amp;element;
<a name="l02280"></a>02280                 }
<a name="l02283"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a378d56ea1d9daf1e42eda2b7f3d72ffb">02283</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a378d56ea1d9daf1e42eda2b7f3d72ffb" title="Preincrement.">operator++</a>()                          {<span class="keywordflow">return</span> skip();}
<a name="l02286"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0761f75acc256ebc4026f88f628b3001">02286</a>                 <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a0761f75acc256ebc4026f88f628b3001" title="Postincrement.">operator++</a>(<span class="keywordtype">int</span>)                        {<a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a> tmp(*<span class="keyword">this</span>); skip(); <span class="keywordflow">return</span> tmp;}
<a name="l02287"></a>02287 
<a name="l02290"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a254a4870246be690dc9b5cbf6162ee4b">02290</a>                 <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#a254a4870246be690dc9b5cbf6162ee4b" title="Compare to check for equality.">operator==</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; iter)<span class="keyword"> const    </span>{<span class="keywordflow">return</span> compare( iter);}
<a name="l02293"></a><a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#ae44097da9e546f8a2a2aec1149cc1fbc">02293</a>                 <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html#ae44097da9e546f8a2a2aec1149cc1fbc" title="Compare to check for unequality.">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLScanner_1_1iterator.html" title="input iterator for iterating on the output of an XML scanner">iterator</a>&amp; iter)<span class="keyword"> const    </span>{<span class="keywordflow">return</span> !compare( iter);}
<a name="l02294"></a>02294         };
<a name="l02295"></a>02295 
<a name="l02299"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a13db95b444e758cb48fff65f304b6833">02299</a>         iterator <a class="code" href="classtextwolf_1_1XMLScanner.html#a13db95b444e758cb48fff65f304b6833" title="Get begin iterator.">begin</a>( <span class="keywordtype">bool</span> doSkipToFirst=<span class="keyword">true</span>)
<a name="l02300"></a>02300         {
<a name="l02301"></a>02301                 <span class="keywordflow">return</span> iterator( *<span class="keyword">this</span>, doSkipToFirst);
<a name="l02302"></a>02302         }
<a name="l02305"></a><a class="code" href="classtextwolf_1_1XMLScanner.html#a75d7fc35d804d8f66c80a00020a1f2db">02305</a>         iterator <a class="code" href="classtextwolf_1_1XMLScanner.html#a75d7fc35d804d8f66c80a00020a1f2db" title="Get the pointer to the end of content.">end</a>()
<a name="l02306"></a>02306         {
<a name="l02307"></a>02307                 <span class="keywordflow">return</span> iterator( End());
<a name="l02308"></a>02308         }
<a name="l02309"></a>02309 };
<a name="l02310"></a>02310 
<a name="l02312"></a>02312 
<a name="l02313"></a>02313 
<a name="l02314"></a>02314 
<a name="l02318"></a>02318 
<a name="l02319"></a>02319 
<a name="l02320"></a>02320 
<a name="l02321"></a>02321 <span class="keyword">template</span> &lt;<span class="keyword">class</span> CharSet_=<span class="keywordtype">char</span>set::UTF8&gt;
<a name="l02322"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html">02322</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l02323"></a>02323 {
<a name="l02324"></a>02324 <span class="keyword">public</span>:
<a name="l02325"></a>02325         <span class="keyword">enum</span>
<a name="l02326"></a>02326         {
<a name="l02327"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647aa5e7553f9dda891b1f2d87abe143c1c6">02327</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647aa5e7553f9dda891b1f2d87abe143c1c6" title="default memory usage of the XML path select process, if not specified else">defaultMemUsage</a>=3*1024,         
<a name="l02328"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647ab948b704c95e7adcc8822d9a79584d54">02328</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647ab948b704c95e7adcc8822d9a79584d54" title="default max tag stack depth, if not specified else">defaultMaxDepth</a>=32              
<a name="l02329"></a>02329         };
<a name="l02330"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2">02330</a>         std::size_t <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2" title="total memory usage">memUsage</a>;                   
<a name="l02331"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3">02331</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3" title="max tag stack depth">maxDepth</a>;                  
<a name="l02332"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4">02332</a>         std::size_t <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a>;          
<a name="l02333"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397">02333</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397" title="maximum number of tokens searched in depth">maxFollows</a>;                
<a name="l02334"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0">02334</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0" title="maximum number of open triggers">maxTriggers</a>;               
<a name="l02335"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285">02335</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285" title="maximum number of open tokens">maxTokens</a>;                 
<a name="l02336"></a>02336 
<a name="l02337"></a>02337 <span class="keyword">public</span>:
<a name="l02339"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a024f64dd49aaee2758a4fdf6dff5a2c9">02339</a>         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a024f64dd49aaee2758a4fdf6dff5a2c9" title="Constructor.">XMLPathSelectAutomaton</a>()
<a name="l02340"></a>02340                         :<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2" title="total memory usage">memUsage</a>(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647aa5e7553f9dda891b1f2d87abe143c1c6" title="default memory usage of the XML path select process, if not specified else">defaultMemUsage</a>),<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3" title="max tag stack depth">maxDepth</a>(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a3cb70dd83a12445def65d4f66a007647ab948b704c95e7adcc8822d9a79584d54" title="default max tag stack depth, if not specified else">defaultMaxDepth</a>),<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a>(0),<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397" title="maximum number of tokens searched in depth">maxFollows</a>(0),<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0" title="maximum number of open triggers">maxTriggers</a>(0),<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285" title="maximum number of open tokens">maxTokens</a>(0)
<a name="l02341"></a>02341         {
<a name="l02342"></a>02342                 <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584" title="Defines the usage of memory.">setMemUsage</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2" title="total memory usage">memUsage</a>, <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3" title="max tag stack depth">maxDepth</a>)) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a6b53f4ee17ef29219bfe9f39aa88ffa0" title="memory reserved for statically allocated table or memory block is too small. Increase the size of mem...">DimOutOfRange</a>);
<a name="l02343"></a>02343         }
<a name="l02344"></a>02344         <span class="keyword">typedef</span> CharSet_ CharSet;
<a name="l02345"></a>02345         <span class="keyword">typedef</span> <span class="keywordtype">int</span> Hash;
<a name="l02346"></a>02346         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton&lt;CharSet&gt;</a> ThisXMLPathSelectAutomaton;
<a name="l02347"></a>02347 
<a name="l02348"></a>02348 <span class="keyword">public</span>:
<a name="l02351"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710">02351</a>         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a>
<a name="l02352"></a>02352         {
<a name="l02353"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b">02353</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b" title="searching content token">Content</a>,                        
<a name="l02354"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8">02354</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8" title="searching a tag">Tag</a>,                            
<a name="l02355"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad">02355</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>,                      
<a name="l02356"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d">02356</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>,             
<a name="l02357"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff">02357</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff" title="searching a value of an attribute">AttributeValue</a>,                 
<a name="l02358"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e">02358</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e" title="looking for the start of content (to signal the end of the XML header)">ContentStart</a>                    
<a name="l02359"></a>02359         };
<a name="l02360"></a>02360 
<a name="l02363"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a58a3549f008953ee0d29ad154f16a683">02363</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a58a3549f008953ee0d29ad154f16a683" title="Get the name of the operation as string.">operationName</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)
<a name="l02364"></a>02364         {
<a name="l02365"></a>02365                 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* name[ 6] = {<span class="stringliteral">&quot;Content&quot;</span>, <span class="stringliteral">&quot;Tag&quot;</span>, <span class="stringliteral">&quot;Attribute&quot;</span>, <span class="stringliteral">&quot;ThisAttributeValue&quot;</span>, <span class="stringliteral">&quot;AttributeValue&quot;</span>, <span class="stringliteral">&quot;ContentStart&quot;</span>};
<a name="l02366"></a>02366                 <span class="keywordflow">return</span> name[ (<span class="keywordtype">unsigned</span> int)op];
<a name="l02367"></a>02367         }
<a name="l02368"></a>02368 
<a name="l02371"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html">02371</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>
<a name="l02372"></a>02372         {
<a name="l02373"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13">02373</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>;                     
<a name="l02374"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b">02374</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>;                     
<a name="l02375"></a>02375 
<a name="l02378"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a729b7f6dc0f8b5313ab11436d3b7ac7d">02378</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a729b7f6dc0f8b5313ab11436d3b7ac7d" title="Tells if mask does not select anything anymore.">empty</a>()<span class="keyword"> const                                                              </span>{<span class="keywordflow">return</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>==0);}
<a name="l02379"></a>02379 
<a name="l02383"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a93f64eb289c591fb1615a0469a45c592">02383</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a93f64eb289c591fb1615a0469a45c592" title="Constructor by values.">Mask</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> p_pos=0, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> p_neg=0):<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>(p_pos),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>(p_neg) {}
<a name="l02384"></a>02384 
<a name="l02387"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a78bf4dd6196efa3995f2afc97230cf91">02387</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a78bf4dd6196efa3995f2afc97230cf91" title="Copy constructor.">Mask</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; orig)                                                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>) {}
<a name="l02388"></a>02388 
<a name="l02390"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a701bb8cb3ecba4b450f4ef7f7251ae99">02390</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a701bb8cb3ecba4b450f4ef7f7251ae99" title="Constructor by operation type.">Mask</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)                                                             :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>(0) {this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>(op);}
<a name="l02391"></a>02391 
<a name="l02393"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5">02393</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5" title="Reset operation (deactivate)">reset</a>()                                                                    {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>=0; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>=0;}
<a name="l02394"></a>02394 
<a name="l02396"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8">02396</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)                                     {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a> |= (1&lt;&lt;(<span class="keywordtype">unsigned</span> short)e);}
<a name="l02397"></a>02397 
<a name="l02399"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769">02399</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)                                      {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a> |= (1&lt;&lt;(<span class="keywordtype">unsigned</span> short)e);}
<a name="l02400"></a>02400 
<a name="l02402"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556">02402</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)
<a name="l02403"></a>02403                 {
<a name="l02404"></a>02404                         <span class="keywordflow">switch</span> (op)
<a name="l02405"></a>02405                         {
<a name="l02406"></a>02406                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8" title="searching a tag">Tag</a>:
<a name="l02407"></a>02407                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>);
<a name="l02408"></a>02408                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6780ef1ac207db273587519f8cc50c38" title="open XML header tag">XMLScannerBase::HeaderStart</a>);
<a name="l02409"></a>02409                                         <span class="keywordflow">break</span>;
<a name="l02410"></a>02410                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>:
<a name="l02411"></a>02411                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>);
<a name="l02412"></a>02412                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>);
<a name="l02413"></a>02413                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l02414"></a>02414                                         <span class="keywordflow">break</span>;
<a name="l02415"></a>02415                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>:
<a name="l02416"></a>02416                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>);
<a name="l02417"></a>02417                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>);
<a name="l02418"></a>02418                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a6234cd840f34f792a8f909478a8b32ac" title="tag attribute name (e.g. &quot;id&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribName</a>);
<a name="l02419"></a>02419                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a0b53b9807847051855a3b134369652e5" title="tag attribute name in the XML header">XMLScannerBase::HeaderAttribName</a>);
<a name="l02420"></a>02420                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l02421"></a>02421                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>);
<a name="l02422"></a>02422                                         <span class="keywordflow">break</span>;
<a name="l02423"></a>02423                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a24af1ab2e9c0436a85c1e4f2e04854ff" title="searching a value of an attribute">AttributeValue</a>:
<a name="l02424"></a>02424                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aef5004fd6e4b0d9d2a5a9755419de9b6" title="tag attribute value (e.g. &quot;5&quot; in &lt;person id=&#39;5&#39;&gt;">XMLScannerBase::TagAttribValue</a>);
<a name="l02425"></a>02425                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a3eef44fa250a37b6452c5083becfceed" title="tag attribute value in the XML header">XMLScannerBase::HeaderAttribValue</a>);
<a name="l02426"></a>02426                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a06e532a6bcba6560a71817a0dd8957b8" title="Deactivate operation for a certain element type.">reject</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l02427"></a>02427                                         <span class="keywordflow">break</span>;
<a name="l02428"></a>02428                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b" title="searching content token">Content</a>:
<a name="l02429"></a>02429                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>);
<a name="l02430"></a>02430                                         <span class="keywordflow">break</span>;
<a name="l02431"></a>02431                                 <span class="keywordflow">case</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710ae6c3437409a158fa8b59efed43a5e19e" title="looking for the start of content (to signal the end of the XML header)">ContentStart</a>:
<a name="l02432"></a>02432                                         this-&gt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a09c5317667def85993299fbdbd33a769" title="Declare an operation to match on an element type.">match</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a733910968445c2d769fb97caf4f2b7bd" title="end of XML header event (after parsing &#39;?&gt;&#39;)">XMLScannerBase::HeaderEnd</a>);
<a name="l02433"></a>02433                                         <span class="keywordflow">break</span>;
<a name="l02434"></a>02434                         }
<a name="l02435"></a>02435                 }
<a name="l02438"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a14cdec6f9747b30d80dee2b36c176697">02438</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a14cdec6f9747b30d80dee2b36c176697" title="Join two mask definitions.">join</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; mask)                            {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a> |= mask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a> |= mask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a>;}
<a name="l02439"></a>02439 
<a name="l02442"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a26c7aceefd9d251e7a1f6201dc3ec808">02442</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a26c7aceefd9d251e7a1f6201dc3ec808" title="Check if an element type matches the mask.">matches</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const      </span>{<span class="keywordflow">return</span> (0 != (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#ac3831dfe60fe44ad591a893aca494d13" title="positively selected elements bitmask">pos</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)));}
<a name="l02443"></a>02443 
<a name="l02446"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a0661275862c65b5d8e0bf8659e345e58">02446</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a0661275862c65b5d8e0bf8659e345e58" title="Check if an element type should reset a mask.">rejects</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> e)<span class="keyword"> const      </span>{<span class="keywordflow">return</span> (0 != (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a4718902448ec02d527c439c89347241b" title="negatively selected elements bitmask that determines when a search pattern is given up copletely...">neg</a> &amp; (1&lt;&lt;(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>)e)));}
<a name="l02447"></a>02447         };
<a name="l02448"></a>02448 
<a name="l02451"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html">02451</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a>
<a name="l02452"></a>02452         {
<a name="l02453"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad">02453</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad" title="mask definiting what tokens are matching this state">mask</a>;                      
<a name="l02454"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e">02454</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a>;                    
<a name="l02455"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd">02455</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a>;                    
<a name="l02456"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c">02456</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c" title="lower bound of the element index matching (for index ranges)">cnt_start</a>;                  
<a name="l02457"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66">02457</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66" title="upper bound of the element index matching (for index ranges)">cnt_end</a>;                    
<a name="l02458"></a>02458 
<a name="l02460"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a90f238fae8b4f8a2c0ee7f5cf97619cc">02460</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a90f238fae8b4f8a2c0ee7f5cf97619cc" title="Constructor.">Core</a>()                  :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a>(false),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c" title="lower bound of the element index matching (for index ranges)">cnt_start</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66" title="upper bound of the element index matching (for index ranges)">cnt_end</a>(-1) {}
<a name="l02463"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a71577dd05a050c4f3f9e07532c893abf">02463</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a71577dd05a050c4f3f9e07532c893abf" title="Copy constructor.">Core</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a>&amp; o)    :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad" title="mask definiting what tokens are matching this state">mask</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad" title="mask definiting what tokens are matching this state">mask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c" title="lower bound of the element index matching (for index ranges)">cnt_start</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c" title="lower bound of the element index matching (for index ranges)">cnt_start</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66" title="upper bound of the element index matching (for index ranges)">cnt_end</a>(o.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66" title="upper bound of the element index matching (for index ranges)">cnt_end</a>) {}
<a name="l02464"></a>02464         };
<a name="l02465"></a>02465 
<a name="l02468"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html">02468</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>
<a name="l02469"></a>02469         {
<a name="l02470"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa">02470</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>;                      
<a name="l02471"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102">02471</a>                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>;           
<a name="l02472"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d">02472</a>                 <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>;                      
<a name="l02473"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5">02473</a>                 <span class="keywordtype">char</span>* <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>;                   
<a name="l02474"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c">02474</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>;                       
<a name="l02475"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a">02475</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a>;                       
<a name="l02476"></a>02476 
<a name="l02478"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072">02478</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072" title="Constructor.">State</a>()
<a name="l02479"></a>02479                                 :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>(-1),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a>(-1) {}
<a name="l02480"></a>02480 
<a name="l02483"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ae1f588865f3a0376af07d2d0552e2c89">02483</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a7b80a3993a1364ce174b1bd6b00b0072" title="Constructor.">State</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; orig)               :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a>)
<a name="l02484"></a>02484                 {
<a name="l02485"></a>02485                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>, orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>, orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>);
<a name="l02486"></a>02486                 }
<a name="l02487"></a>02487 
<a name="l02489"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a8af83f08b75c409c4d31ff834fdfc6b5">02489</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a8af83f08b75c409c4d31ff834fdfc6b5" title="Destructor.">~State</a>()
<a name="l02490"></a>02490                 {
<a name="l02491"></a>02491                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>) <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>;
<a name="l02492"></a>02492                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>) <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>;
<a name="l02493"></a>02493                 }
<a name="l02494"></a>02494 
<a name="l02497"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a393333d6e415258ab047a6c33c5bfbf2">02497</a>                 <span class="keywordtype">bool</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a393333d6e415258ab047a6c33c5bfbf2" title="Check it the state definition is empty.">isempty</a>()                          {<span class="keywordflow">return</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>==0&amp;&amp;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a>==0;}
<a name="l02498"></a>02498 
<a name="l02503"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0">02503</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_key, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_srckey)
<a name="l02504"></a>02504                 {
<a name="l02505"></a>02505                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l02506"></a>02506                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>)
<a name="l02507"></a>02507                         {
<a name="l02508"></a>02508                                 <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>;
<a name="l02509"></a>02509                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a> = 0;
<a name="l02510"></a>02510                         }
<a name="l02511"></a>02511                         <span class="keywordflow">if</span> (<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>)
<a name="l02512"></a>02512                         {
<a name="l02513"></a>02513                                 <span class="keyword">delete</span> [] <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>;
<a name="l02514"></a>02514                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a> = 0;
<a name="l02515"></a>02515                         }
<a name="l02516"></a>02516                         <span class="keywordflow">if</span> (p_key)
<a name="l02517"></a>02517                         {
<a name="l02518"></a>02518                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[ <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>=p_keysize];
<a name="l02519"></a>02519                                 <span class="keywordflow">for</span> (ii=0; ii&lt;<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a>; ii++) <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>[ii]=p_key[ii];
<a name="l02520"></a>02520                         }
<a name="l02521"></a>02521                         <span class="keywordflow">if</span> (p_srckey)
<a name="l02522"></a>02522                         {
<a name="l02523"></a>02523                                 <span class="keywordflow">for</span> (ii=0; p_srckey[ii]!=0; ii++);
<a name="l02524"></a>02524                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[ ii+1];
<a name="l02525"></a>02525                                 <span class="keywordflow">for</span> (ii=0; p_srckey[ii]!=0; ii++) <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>[ii]=p_srckey[ii];
<a name="l02526"></a>02526                                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a9fecc3dccc25cfaf4f5485887c347bb5" title="key of the element as in source (for debugging or reporting, etc.)">srckey</a>[ ii] = 0;
<a name="l02527"></a>02527                         }
<a name="l02528"></a>02528                 }
<a name="l02529"></a>02529 
<a name="l02537"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#addff11d276a281351140ea8924526720">02537</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#addff11d276a281351140ea8924526720" title="Define a state transition by key and operation.">defineNext</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_key, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_srckey, <span class="keywordtype">int</span> p_next, <span class="keywordtype">bool</span> p_follow=<span class="keyword">false</span>)
<a name="l02538"></a>02538                 {
<a name="l02539"></a>02539                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad" title="mask definiting what tokens are matching this state">mask</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( op);
<a name="l02540"></a>02540                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a0030c51fa24d0a63c1da1cf4be0cb7d0" title="Define the matching key of this state.">defineKey</a>( p_keysize, p_key, p_srckey);
<a name="l02541"></a>02541                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a> = p_next;
<a name="l02542"></a>02542                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a> = p_follow;
<a name="l02543"></a>02543                 }
<a name="l02544"></a>02544 
<a name="l02551"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82330cdb9807bd3145fd601d8d2c9b45">02551</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82330cdb9807bd3145fd601d8d2c9b45" title="Define an element output operation.">defineOutput</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>&amp; mask, <span class="keywordtype">int</span> p_typeidx, <span class="keywordtype">bool</span> p_follow, <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)
<a name="l02552"></a>02552                 {
<a name="l02553"></a>02553                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a05fe946d03996a478c72e9369948f0ad" title="mask definiting what tokens are matching this state">mask</a> = mask;
<a name="l02554"></a>02554                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a4cd11b4d6f0e244fb46ae0ebe387c7cd" title="type of the element emitted by this state on a match">typeidx</a> = p_typeidx;
<a name="l02555"></a>02555                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a75b6e50f82cd599ff263762f22307f66" title="upper bound of the element index matching (for index ranges)">cnt_end</a> = p_end;
<a name="l02556"></a>02556                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#a19dd0adfb359c1fe387e67f09c9f9a2c" title="lower bound of the element index matching (for index ranges)">cnt_start</a> = p_start;
<a name="l02557"></a>02557                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html#af8b25acda2921a276fca46902cb20e0e" title="true, if the state is seeking tokens in all follow scopes in the XML tree">follow</a> = p_follow;
<a name="l02558"></a>02558                 }
<a name="l02559"></a>02559 
<a name="l02562"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82becfe2f2a1ad6f6cc0398f7c83cd6b">02562</a>                 <span class="keywordtype">void</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a82becfe2f2a1ad6f6cc0398f7c83cd6b" title="Link another state to check to the current state.">defLink</a>( <span class="keywordtype">int</span> p_link)
<a name="l02563"></a>02563                 {
<a name="l02564"></a>02564                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a> = p_link;
<a name="l02565"></a>02565                 }
<a name="l02566"></a>02566         };
<a name="l02567"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03">02567</a>         std::vector&lt;State&gt; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>;                                                      
<a name="l02568"></a>02568 
<a name="l02571"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html">02571</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>
<a name="l02572"></a>02572         {
<a name="l02573"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670">02573</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Core.html" title="Core of an automaton state definition that is used during XML processing.">Core</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>;                                                                                      
<a name="l02574"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f">02574</a>                 <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>;                                                                           
<a name="l02575"></a>02575 
<a name="l02577"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a7a536fe50cfe35c6b3bc6ccef0a1fd2e">02577</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a7a536fe50cfe35c6b3bc6ccef0a1fd2e" title="Constructor.">Token</a>()                                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>(-1) {}
<a name="l02579"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a8be8e8b900f01a245b78a29a41a68f38">02579</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a8be8e8b900f01a245b78a29a41a68f38" title="Copy constructor.">Token</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>&amp; orig)                       :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>) {}
<a name="l02583"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a13ea6c136791dda7eb46729c3c524814">02583</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a13ea6c136791dda7eb46729c3c524814" title="Constructor by value.">Token</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; state, <span class="keywordtype">int</span> p_stateidx)      :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>(state.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>(p_stateidx) {}
<a name="l02584"></a>02584         };
<a name="l02585"></a>02585 
<a name="l02588"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html">02588</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>
<a name="l02589"></a>02589         {
<a name="l02590"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb">02590</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb" title="joined mask of all tokens active in this scope">mask</a>;                                      
<a name="l02591"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b">02591</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b" title="joined mask of all tokens active in this and all sub scopes of this scope">followMask</a>;                                
<a name="l02592"></a>02592 
<a name="l02595"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html">02595</a>                 <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html" title="Range on the token stack with all tokens that belong to this scope.">Range</a>
<a name="l02596"></a>02596                 {
<a name="l02597"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa">02597</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa" title="lower bound token index">tokenidx_from</a>;             
<a name="l02598"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03">02598</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03" title="upper bound token index">tokenidx_to</a>;               
<a name="l02599"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d">02599</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d" title="pointer to follow token stack with tokens active in this and all sub scopes of this scope...">followidx</a>;                 
<a name="l02600"></a>02600 
<a name="l02602"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a66a5d462b0674eec1cbfe2bea351592d">02602</a>                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a66a5d462b0674eec1cbfe2bea351592d" title="Constructor.">Range</a>()                         :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa" title="lower bound token index">tokenidx_from</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03" title="upper bound token index">tokenidx_to</a>(0),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d" title="pointer to follow token stack with tokens active in this and all sub scopes of this scope...">followidx</a>(0) {}
<a name="l02605"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a39512f5467c53af5a20143f1d2d13ecb">02605</a>                         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a39512f5467c53af5a20143f1d2d13ecb" title="Copy constructor.">Range</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)       :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa" title="lower bound token index">tokenidx_from</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a46e4c558b43e1a68174b4c6178ca8dfa" title="lower bound token index">tokenidx_from</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03" title="upper bound token index">tokenidx_to</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a0a7b2315dc821ae38399c73e2e812c03" title="upper bound token index">tokenidx_to</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d" title="pointer to follow token stack with tokens active in this and all sub scopes of this scope...">followidx</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html#a9261cc79a6c6948762e49ab0495d951d" title="pointer to follow token stack with tokens active in this and all sub scopes of this scope...">followidx</a>) {}
<a name="l02606"></a>02606                 };
<a name="l02607"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e">02607</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope_1_1Range.html" title="Range on the token stack with all tokens that belong to this scope.">Range</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e" title="valid (active) token range of this scope (on the token stacks)">range</a>;                                                    
<a name="l02608"></a>02608 
<a name="l02611"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a90bf0d16b45ce5fe489532aeb72a0742">02611</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a90bf0d16b45ce5fe489532aeb72a0742" title="Copy constructor.">Scope</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)               :<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb" title="joined mask of all tokens active in this scope">mask</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb" title="joined mask of all tokens active in this scope">mask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b" title="joined mask of all tokens active in this and all sub scopes of this scope">followMask</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b" title="joined mask of all tokens active in this and all sub scopes of this scope">followMask</a>),<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e" title="valid (active) token range of this scope (on the token stacks)">range</a>(orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e" title="valid (active) token range of this scope (on the token stacks)">range</a>) {}
<a name="l02614"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a185120e26af580874e8635fb66f1334d">02614</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a185120e26af580874e8635fb66f1334d" title="Assignement operator.">operator =</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>&amp; orig)   {<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb" title="joined mask of all tokens active in this scope">mask</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a34ef9882f804e2c9cbf54c918cff7edb" title="joined mask of all tokens active in this scope">mask</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b" title="joined mask of all tokens active in this and all sub scopes of this scope">followMask</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a15bfc86b152b1434027d3a9dd49f0d2b" title="joined mask of all tokens active in this and all sub scopes of this scope">followMask</a>; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e" title="valid (active) token range of this scope (on the token stacks)">range</a>=orig.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#add232810fa1e7af8beea57d7955b3f5e" title="valid (active) token range of this scope (on the token stacks)">range</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l02616"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a839df6db665f50b42680c6163734e0b3">02616</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html#a839df6db665f50b42680c6163734e0b3" title="Constructor.">Scope</a>()                                 {}
<a name="l02617"></a>02617         };
<a name="l02618"></a>02618 
<a name="l02623"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584">02623</a>         <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#aa3b25604e8e65c5867e6942857832584" title="Defines the usage of memory.">setMemUsage</a>( std::size_t p_memUsage, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> p_maxDepth)
<a name="l02624"></a>02624         {
<a name="l02625"></a>02625                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a73a9e096d87be7a56ff203c5d03160f2" title="total memory usage">memUsage</a> = p_memUsage;
<a name="l02626"></a>02626                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3" title="max tag stack depth">maxDepth</a> = p_maxDepth;
<a name="l02627"></a>02627                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a> = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1bf0fe2c0e5d799ffa0b3ae8da09c3b3" title="max tag stack depth">maxDepth</a>;
<a name="l02628"></a>02628                 <span class="keywordflow">if</span> (p_memUsage &lt; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a> * <span class="keyword">sizeof</span>(<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>))
<a name="l02629"></a>02629                 {
<a name="l02630"></a>02630                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a> = 0;
<a name="l02631"></a>02631                 }
<a name="l02632"></a>02632                 <span class="keywordflow">else</span>
<a name="l02633"></a>02633                 {
<a name="l02634"></a>02634                         p_memUsage -= <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a> * <span class="keyword">sizeof</span>(<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>);
<a name="l02635"></a>02635                 }
<a name="l02636"></a>02636                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397" title="maximum number of tokens searched in depth">maxFollows</a> = (p_memUsage / <span class="keyword">sizeof</span>(std::size_t)) / 32 + 2;
<a name="l02637"></a>02637                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0" title="maximum number of open triggers">maxTriggers</a> = (p_memUsage / <span class="keyword">sizeof</span>(std::size_t)) / 32 + 3;
<a name="l02638"></a>02638                 p_memUsage -= <span class="keyword">sizeof</span>(std::size_t) * <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397" title="maximum number of tokens searched in depth">maxFollows</a> + <span class="keyword">sizeof</span>(std::size_t) * <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0" title="maximum number of open triggers">maxTriggers</a>;
<a name="l02639"></a>02639                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285" title="maximum number of open tokens">maxTokens</a> = p_memUsage / <span class="keyword">sizeof</span>(<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>);
<a name="l02640"></a>02640                 <span class="keywordflow">return</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a18b95c3149dbec9ce7b7e3693db2d2c4" title="max scope stack depth">maxScopeStackSize</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a1583bb398f4b2bede2d700a533d60285" title="maximum number of open tokens">maxTokens</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#a2f3a018f574151efdd5ebf5a2d83a397" title="maximum number of tokens searched in depth">maxFollows</a> != 0 &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#afbf1a8f842eaa120c5882750ee2c14c0" title="maximum number of open triggers">maxTriggers</a> != 0);
<a name="l02641"></a>02641         }
<a name="l02642"></a>02642 
<a name="l02643"></a>02643 <span class="keyword">private</span>:
<a name="l02652"></a>02652         <span class="keywordtype">int</span> defineNext( <span class="keywordtype">int</span> stateidx, <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keysize, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <span class="keywordtype">char</span>* srckey, <span class="keywordtype">bool</span> follow=<span class="keyword">false</span>) throw(exception)
<a name="l02653"></a>02653         {
<a name="l02654"></a>02654                 <span class="keywordflow">try</span>
<a name="l02655"></a>02655                 {
<a name="l02656"></a>02656                         <a class="code" href="classState.html" title="state of the iterator">State</a> state;
<a name="l02657"></a>02657                         <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size() == 0)
<a name="l02658"></a>02658                         {
<a name="l02659"></a>02659                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size();
<a name="l02660"></a>02660                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.push_back( state);
<a name="l02661"></a>02661                         }
<a name="l02662"></a>02662                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ee=stateidx; ee != -1; stateidx=ee,ee=<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].link)
<a name="l02663"></a>02663                         {
<a name="l02664"></a>02664                                 <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].key != 0 &amp;&amp; keysize == <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].keysize &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].core.follow == follow)
<a name="l02665"></a>02665                                 {
<a name="l02666"></a>02666                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l02667"></a>02667                                         <span class="keywordflow">for</span> (ii=0; ii&lt;keysize &amp;&amp; <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].key[ii]==key[ii]; ii++);
<a name="l02668"></a>02668                                         <span class="keywordflow">if</span> (ii == keysize) <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ee].next;
<a name="l02669"></a>02669                                 }
<a name="l02670"></a>02670                         }
<a name="l02671"></a>02671                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[stateidx].isempty())
<a name="l02672"></a>02672                         {
<a name="l02673"></a>02673                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[stateidx].link = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size();
<a name="l02674"></a>02674                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.push_back( state);
<a name="l02675"></a>02675                         }
<a name="l02676"></a>02676                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.push_back( state);
<a name="l02677"></a>02677                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lastidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size()-1;
<a name="l02678"></a>02678                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ stateidx].defineNext( op, keysize, key, srckey, lastidx, follow);
<a name="l02679"></a>02679                         <span class="keywordflow">return</span> stateidx=lastidx;
<a name="l02680"></a>02680                 }
<a name="l02681"></a>02681                 <span class="keywordflow">catch</span> (std::bad_alloc)
<a name="l02682"></a>02682                 {
<a name="l02683"></a>02683                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l02684"></a>02684                 }
<a name="l02685"></a>02685                 <span class="keywordflow">catch</span> (...)
<a name="l02686"></a>02686                 {
<a name="l02687"></a>02687                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf" title="uknown error">Unknown</a>);
<a name="l02688"></a>02688                 }
<a name="l02689"></a>02689         }
<a name="l02690"></a>02690 
<a name="l02699"></a>02699         <span class="keywordtype">int</span> defineOutput( <span class="keywordtype">int</span> stateidx, <span class="keyword">const</span> Mask&amp; printOpMask, <span class="keywordtype">int</span> typeidx, <span class="keywordtype">bool</span> follow, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> end) <span class="keywordflow">throw</span>(exception)
<a name="l02700"></a>02700         {
<a name="l02701"></a>02701                 <span class="keywordflow">try</span>
<a name="l02702"></a>02702                 {
<a name="l02703"></a>02703                         <a class="code" href="classState.html" title="state of the iterator">State</a> state;
<a name="l02704"></a>02704                         <span class="keywordflow">if</span> (<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size() == 0)
<a name="l02705"></a>02705                         {
<a name="l02706"></a>02706                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size();
<a name="l02707"></a>02707                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.push_back( state);
<a name="l02708"></a>02708                         }
<a name="l02709"></a>02709                         <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)stateidx &gt;= <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size()) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0af51b9be90fdb3435412a3c551f699aa8" title="parameter check in automaton definition failed. Internal textwold error !">IllegalParam</a>);
<a name="l02710"></a>02710 
<a name="l02711"></a>02711                         <span class="keywordflow">if</span> (!<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[stateidx].isempty())
<a name="l02712"></a>02712                         {
<a name="l02713"></a>02713                                 stateidx = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[stateidx].link = <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size();
<a name="l02714"></a>02714                                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.push_back( state);
<a name="l02715"></a>02715                         }
<a name="l02716"></a>02716                         <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ stateidx].defineOutput( printOpMask, typeidx, follow, start, end);
<a name="l02717"></a>02717                         <span class="keywordflow">return</span> stateidx;
<a name="l02718"></a>02718                 }
<a name="l02719"></a>02719                 <span class="keywordflow">catch</span> (std::bad_alloc)
<a name="l02720"></a>02720                 {
<a name="l02721"></a>02721                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l02722"></a>02722                 }
<a name="l02723"></a>02723                 <span class="keywordflow">catch</span> (...)
<a name="l02724"></a>02724                 {
<a name="l02725"></a>02725                         <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a7da6bf2f451b1cdd0c9394af0a8bd7cf" title="uknown error">Unknown</a>);
<a name="l02726"></a>02726                 }
<a name="l02727"></a>02727         }
<a name="l02728"></a>02728 
<a name="l02729"></a>02729 <span class="keyword">public</span>:
<a name="l02733"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html">02733</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a> :<a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l02734"></a>02734         {
<a name="l02735"></a>02735         <span class="keyword">private</span>:
<a name="l02736"></a>02736                 <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a>* xs;             
<a name="l02737"></a>02737                 <span class="keywordtype">int</span> stateidx;                                                   
<a name="l02738"></a>02738                 
<a name="l02741"></a>02741                 <span class="keyword">struct </span>Range
<a name="l02742"></a>02742                 {
<a name="l02743"></a>02743                         <span class="keywordtype">int</span> start;                                                      
<a name="l02744"></a>02744                         <span class="keywordtype">int</span> end;                                                                
<a name="l02745"></a>02745 
<a name="l02748"></a>02748                         Range( <span class="keyword">const</span> Range&amp; o)          :start(o.start),end(o.end){}
<a name="l02752"></a>02752                         Range( <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)  :start(p_start),end(p_end){}
<a name="l02755"></a>02755                         Range( <span class="keywordtype">int</span> count)               :start(0),end(count){}
<a name="l02757"></a>02757                         Range()                         :start(0),end(-1){}
<a name="l02758"></a>02758                 };
<a name="l02759"></a>02759                 Range range;                    
<a name="l02760"></a>02760                 <span class="keywordtype">bool</span> follow;                    
<a name="l02761"></a>02761                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> pushOpMask;                
<a name="l02762"></a>02762                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a> printOpMask;               
<a name="l02763"></a>02763 
<a name="l02764"></a>02764         <span class="keyword">private</span>:
<a name="l02768"></a>02768                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op)
<a name="l02769"></a>02769                 {
<a name="l02770"></a>02770                         printOpMask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a10f1773c95555592f0770bdf807319c5" title="Reset operation (deactivate)">reset</a>();
<a name="l02771"></a>02771                         printOpMask.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html#a662d02b08f55eb15b1176444a1182556" title="Declare an operation as seek operation.">seekop</a>( op);
<a name="l02772"></a>02772                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02773"></a>02773                 }
<a name="l02774"></a>02774 
<a name="l02779"></a>02779                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710" title="Enumeration of operation types in the automaton definition.">Operation</a> op, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception)
<a name="l02780"></a>02780                 {
<a name="l02781"></a>02781                         <span class="keyword">static</span> <a class="code" href="structtextwolf_1_1XMLScannerBase_1_1IsTagCharMap.html" title="Defines the set of tag characters.">XMLScannerBase::IsTagCharMap</a> isTagCharMap;
<a name="l02782"></a>02782                         <span class="keywordflow">if</span> (xs != 0)
<a name="l02783"></a>02783                         {
<a name="l02784"></a>02784                                 <span class="keywordflow">if</span> (value)
<a name="l02785"></a>02785                                 {
<a name="l02786"></a>02786                                         <span class="keywordtype">char</span> buf[ 1024];
<a name="l02787"></a>02787                                         <a class="code" href="classtextwolf_1_1StaticBuffer.html" title="Simple back insertion sequence for storing the outputs of textwolf in a contant size buffer...">StaticBuffer</a> pb( buf, <span class="keyword">sizeof</span>(buf));
<a name="l02788"></a>02788                                         <span class="keywordtype">char</span>* itr = <span class="keyword">const_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(value);
<a name="l02789"></a>02789                                         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLScanner.html" title="XML scanner template that adds the functionality to the statemachine base definition.">XMLScanner&lt;char*,CharSet,CharSet,StaticBuffer&gt;</a> StaticXMLScanner;
<a name="l02790"></a>02790                                         <span class="keywordflow">if</span> (!StaticXMLScanner::parseStaticToken( isTagCharMap, itr, pb))
<a name="l02791"></a>02791                                         {
<a name="l02792"></a>02792                                                 <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0a1da96eb27d5013265b863eebbdf8f9b0" title="invalid string for a tag or attribute in the automaton definition. Usage error !">IllegalAttributeName</a>);
<a name="l02793"></a>02793                                         }
<a name="l02794"></a>02794                                         stateidx = xs-&gt;defineNext( stateidx, op, pb.<a class="code" href="classtextwolf_1_1StaticBuffer.html#a17dfe1ed87855240c11e95128dc7fb3e" title="Return the number of characters in the buffer.">size</a>(), pb.<a class="code" href="classtextwolf_1_1StaticBuffer.html#aa214f742efe32498abf682a072e0bc87" title="Return the buffer content as 0-terminated string.">ptr</a>(), value, follow);
<a name="l02795"></a>02795                                 }
<a name="l02796"></a>02796                                 <span class="keywordflow">else</span>
<a name="l02797"></a>02797                                 {
<a name="l02798"></a>02798                                         stateidx = xs-&gt;defineNext( stateidx, op, 0, 0, 0, follow);
<a name="l02799"></a>02799                                 }
<a name="l02800"></a>02800                         }
<a name="l02801"></a>02801                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02802"></a>02802                 }
<a name="l02803"></a>02803 
<a name="l02806"></a>02806                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doFollow()
<a name="l02807"></a>02807                 {
<a name="l02808"></a>02808                         follow = <span class="keyword">true</span>;
<a name="l02809"></a>02809                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02810"></a>02810                 }
<a name="l02811"></a>02811 
<a name="l02816"></a>02816                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doRange( <span class="keywordtype">int</span> p_start, <span class="keywordtype">int</span> p_end)
<a name="l02817"></a>02817                 {
<a name="l02818"></a>02818                         <span class="keywordflow">if</span> (range.end == -1)
<a name="l02819"></a>02819                         {
<a name="l02820"></a>02820                                 range = Range( p_start, p_end);
<a name="l02821"></a>02821                         }
<a name="l02822"></a>02822                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_end &lt; range.end)
<a name="l02823"></a>02823                         {
<a name="l02824"></a>02824                                 range.end = p_end;
<a name="l02825"></a>02825                         }
<a name="l02826"></a>02826                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_start &gt; range.start)
<a name="l02827"></a>02827                         {
<a name="l02828"></a>02828                                 range.start = p_start;
<a name="l02829"></a>02829                         }
<a name="l02830"></a>02830                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02831"></a>02831                 }
<a name="l02832"></a>02832 
<a name="l02836"></a>02836                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doCount( <span class="keywordtype">int</span> p_count)
<a name="l02837"></a>02837                 {
<a name="l02838"></a>02838                         <span class="keywordflow">return</span> doRange( 0, p_count);
<a name="l02839"></a>02839                 }
<a name="l02840"></a>02840 
<a name="l02844"></a>02844                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; doStart( <span class="keywordtype">int</span> p_start)
<a name="l02845"></a>02845                 {
<a name="l02846"></a>02846                         <span class="keywordflow">return</span> doRange( p_start, std::numeric_limits&lt;int&gt;::max());
<a name="l02847"></a>02847                 }
<a name="l02848"></a>02848 
<a name="l02852"></a>02852                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; push( <span class="keywordtype">int</span> typeidx) <span class="keywordflow">throw</span>(exception)
<a name="l02853"></a>02853                 {
<a name="l02854"></a>02854                         <span class="keywordflow">if</span> (xs != 0) stateidx = xs-&gt;defineOutput( stateidx, printOpMask, typeidx, follow, range.start, range.end);
<a name="l02855"></a>02855                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02856"></a>02856                 }
<a name="l02857"></a>02857 
<a name="l02858"></a>02858         <span class="keyword">public</span>:
<a name="l02860"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa8c049c2f4475f8b3174c65847a18cae">02860</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa8c049c2f4475f8b3174c65847a18cae" title="Constructor.">PathElement</a>()                                                   :xs(0),stateidx(0),follow(false),pushOpMask(0),printOpMask(0){}
<a name="l02864"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a2eeed2a03b4f3d2573cedc63eb97b835">02864</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a2eeed2a03b4f3d2573cedc63eb97b835" title="Constructor by values.">PathElement</a>( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton</a>* p_xs, <span class="keywordtype">int</span> p_si=0)          :xs(p_xs),stateidx(p_si),follow(false),pushOpMask(0),printOpMask(0){}
<a name="l02867"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a10e50655d69afd06bd3b2c033832c880">02867</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a10e50655d69afd06bd3b2c033832c880" title="Copy constructor.">PathElement</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; orig)                           :xs(orig.xs),stateidx(orig.stateidx),range(orig.range),follow(orig.follow),pushOpMask(orig.pushOpMask),printOpMask(orig.printOpMask) {}
<a name="l02868"></a>02868 
<a name="l02871"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ada9ade6ffcf8992e791e9f4be3bb59ee">02871</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ada9ade6ffcf8992e791e9f4be3bb59ee" title="Corresponds to &quot;//&quot; in abbreviated syntax of XPath.">operator --</a>(<span class="keywordtype">int</span>)                                                   {<span class="keywordflow">return</span> doFollow();}
<a name="l02875"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a01a803134a5993278df409756be4e3ac">02875</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a01a803134a5993278df409756be4e3ac" title="Find tag by name.">operator []</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                    {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8" title="searching a tag">Tag</a>, name);}
<a name="l02880"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a8615937fad5766436c8fa0f5545716c9">02880</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a8615937fad5766436c8fa0f5545716c9" title="Find tag by name.">selectTag</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                      {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a7228fd6307517f69119b0da2f0ff86c8" title="searching a tag">Tag</a>, name);}
<a name="l02884"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ab14cd2ec72e3ddd112de496f1e48799e">02884</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                    {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>, name).defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>);}
<a name="l02889"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7794f5c86d07abfc558255f25eb150c0">02889</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7794f5c86d07abfc558255f25eb150c0" title="Find tag with one attribute.">selectAttribute</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keywordflow">throw</span>(exception)                {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>, name).defineOutput( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>);}
<a name="l02890"></a>02890 
<a name="l02891"></a>02891                 <span class="comment">//\brief Find tag with one attribute,value condition</span>
<a name="l02896"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aa6dacf97513b073d51523c5f3758e437">02896</a> <span class="comment"></span>                <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception) {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>, name).doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>, value);}
<a name="l02897"></a>02897                 <span class="comment">//\brief Find tag with one attribute,value condition</span>
<a name="l02901"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#af96504c45c031438ed10d0a5a87d6791">02901</a> <span class="comment"></span>                <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#af96504c45c031438ed10d0a5a87d6791">ifAttribute</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keywordtype">char</span>* value) <span class="keywordflow">throw</span>(exception) {<span class="keywordflow">return</span> doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a4c0c04c3090786d87022ad3cf9df53ad" title="searching an attribute">Attribute</a>, name).doSelect( <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710aca3adeaaa0a73d9fc99afabb29075a7d" title="checking the value of the attribute just parsed (not an arbitrary but this one)">ThisAttributeValue</a>, value);}
<a name="l02902"></a>02902 
<a name="l02906"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a5b420d4df5eb3dc3eacfce5d77625a89">02906</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a5b420d4df5eb3dc3eacfce5d77625a89" title="Define maximum element index to push.">TO</a>(<span class="keywordtype">int</span> idx) <span class="keywordflow">throw</span>(exception)                                       {<span class="keywordflow">return</span> doCount((idx&gt;=0)?(idx+1):-1);}
<a name="l02910"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a99eb059ff6bd4c3de4012a4ce1592b9c">02910</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a99eb059ff6bd4c3de4012a4ce1592b9c" title="Define minimum element index to push.">FROM</a>(<span class="keywordtype">int</span> idx) <span class="keywordflow">throw</span>(exception)                                     {<span class="keywordflow">return</span> doStart(idx); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l02915"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1a993d49933ab346cdc75ff26594ba73">02915</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1a993d49933ab346cdc75ff26594ba73" title="Define minimum and maximum element index to push.">RANGE</a>(<span class="keywordtype">int</span> idx1, <span class="keywordtype">int</span> idx2) <span class="keywordflow">throw</span>(exception)         {<span class="keywordflow">return</span> doRange(idx1,(idx2&gt;=0)?(idx2+1):-1); <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l02920"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1df5f4e08567f94e416d2378b4e2a96f">02920</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a1df5f4e08567f94e416d2378b4e2a96f" title="Define element type to push.">operator =</a>(<span class="keywordtype">int</span> type) <span class="keywordflow">throw</span>(exception)                              {<span class="keywordflow">return</span> push( type);}
<a name="l02924"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ae8490ad7317a223fb78eed63c08f6043">02924</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#ae8490ad7317a223fb78eed63c08f6043" title="Define element type to push.">assignType</a>(<span class="keywordtype">int</span> type) <span class="keywordflow">throw</span>(exception)                              {<span class="keywordflow">return</span> push( type);}
<a name="l02928"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f">02928</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#aca3c2565217340d157229046a84f0e4f" title="Define grab content.">operator ()</a>()  throw(exception)                                    {<span class="keywordflow">return</span> defineOutput(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b" title="searching content token">Content</a>);}
<a name="l02931"></a><a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7c4bf49a3d12219a60e07f49df046112">02931</a>                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>&amp; <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html#a7c4bf49a3d12219a60e07f49df046112" title="Define grab content.">selectContent</a>()  throw(exception)                                  {<span class="keywordflow">return</span> defineOutput(<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#acd770d474c93c3fa4b3db53e612b8710a1b4200b6753ab7a791a5db5a6c559d0b" title="searching content token">Content</a>);}
<a name="l02932"></a>02932         };
<a name="l02933"></a>02933 
<a name="l02936"></a><a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ab3af9618ce7b58134b25a50435a4da70">02936</a>         <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#ab3af9618ce7b58134b25a50435a4da70" title="Get automaton root element to start an XML path definition.">operator*</a>()
<a name="l02937"></a>02937         {
<a name="l02938"></a>02938                 <span class="keywordflow">return</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1PathElement.html" title="Defines one node in the XML Path element tree in the construction phase.">PathElement</a>( <span class="keyword">this</span>);
<a name="l02939"></a>02939         }
<a name="l02940"></a>02940 };
<a name="l02941"></a>02941 
<a name="l02948"></a>02948 <span class="keyword">template</span> &lt;
<a name="l02949"></a>02949                 <span class="keyword">class </span>InputIterator,
<a name="l02950"></a>02950                 <span class="keyword">class </span>InputCharSet_,
<a name="l02951"></a>02951                 <span class="keyword">class </span>OutputCharSet_,
<a name="l02952"></a>02952                 <span class="keyword">class </span>OutputBuffer_,
<a name="l02953"></a>02953                 <span class="keyword">class </span>EntityMap_=std::map&lt;const char*,UChar&gt;
<a name="l02954"></a>02954 &gt;
<a name="l02955"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html">02955</a> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">XMLPathSelect</a> :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l02956"></a>02956 {
<a name="l02957"></a>02957 <span class="keyword">public</span>:
<a name="l02958"></a>02958         <span class="keyword">typedef</span> OutputBuffer_ OutputBuffer;
<a name="l02959"></a>02959         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">XMLPathSelectAutomaton&lt;OutputCharSet_&gt;</a> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">ThisXMLPathSelectAutomaton</a>;
<a name="l02960"></a>02960         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLScanner.html">XMLScanner&lt;InputIterator,InputCharSet_,OutputCharSet_,OutputBuffer,EntityMap_&gt;</a> <a class="code" href="classtextwolf_1_1XMLScanner.html">ThisXMLScanner</a>;
<a name="l02961"></a>02961         <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">XMLPathSelect&lt;InputIterator,InputCharSet_,OutputCharSet_,OutputBuffer,EntityMap_&gt;</a> <a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">ThisXMLPathSelect</a>;
<a name="l02962"></a>02962         <span class="keyword">typedef</span> EntityMap_ EntityMap;
<a name="l02963"></a>02963 
<a name="l02964"></a>02964 <span class="keyword">private</span>:
<a name="l02965"></a>02965         <a class="code" href="classtextwolf_1_1XMLScanner.html">ThisXMLScanner</a> scan;                            
<a name="l02966"></a>02966         <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">ThisXMLPathSelectAutomaton</a>* atm;          
<a name="l02967"></a>02967         <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">ThisXMLPathSelectAutomaton::Mask</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Mask.html" title="Mask to query for element types, if they match or not.">Mask</a>;
<a name="l02968"></a>02968         <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">ThisXMLPathSelectAutomaton::Token</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>;
<a name="l02969"></a>02969         <span class="keyword">typedef</span> <span class="keyword">typename</span> ThisXMLPathSelectAutomaton::Hash Hash;
<a name="l02970"></a>02970         <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">ThisXMLPathSelectAutomaton::State</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>;
<a name="l02971"></a>02971         <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">ThisXMLPathSelectAutomaton::Scope</a> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a>;
<a name="l02972"></a>02972 
<a name="l02976"></a>02976         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Element&gt;
<a name="l02977"></a>02977         <span class="keyword">class </span>Array :<span class="keyword">public</span> <a class="code" href="structtextwolf_1_1throws__exception.html" title="Base class for structures that can throw exceptions for non recoverable errors.">throws_exception</a>
<a name="l02978"></a>02978         {
<a name="l02979"></a>02979                 Element* m_ar;                          
<a name="l02980"></a>02980                 std::size_t m_size;                     
<a name="l02981"></a>02981                 std::size_t m_maxSize;                  
<a name="l02982"></a>02982         <span class="keyword">public</span>:
<a name="l02985"></a>02985                 Array( std::size_t p_maxSize) :m_size(0),m_maxSize(p_maxSize)
<a name="l02986"></a>02986                 {
<a name="l02987"></a>02987                         m_ar = <span class="keyword">new</span> (std::nothrow) Element[ m_maxSize];
<a name="l02988"></a>02988                         <span class="keywordflow">if</span> (m_ar == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l02989"></a>02989                 }
<a name="l02990"></a>02990 
<a name="l02992"></a>02992                 ~Array()
<a name="l02993"></a>02993                 {
<a name="l02994"></a>02994                         <span class="keywordflow">if</span> (m_ar) <span class="keyword">delete</span> [] m_ar;
<a name="l02995"></a>02995                 }
<a name="l02996"></a>02996 
<a name="l02999"></a>02999                 <span class="keywordtype">void</span> push_back( <span class="keyword">const</span> Element&amp; elem)
<a name="l03000"></a>03000                 {
<a name="l03001"></a>03001                         <span class="keywordflow">if</span> (m_size == m_maxSize) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ad473be4c50602dc67e3be6d629b212f1" title="out of memory in the automaton definition. System error (std::bad_alloc) !">OutOfMem</a>);
<a name="l03002"></a>03002                         m_ar[ m_size++] = elem;
<a name="l03003"></a>03003                 }
<a name="l03004"></a>03004 
<a name="l03006"></a>03006                 <span class="keywordtype">void</span> pop_back()
<a name="l03007"></a>03007                 {
<a name="l03008"></a>03008                         <span class="keywordflow">if</span> (m_size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ab1017be3f76b45387df09090d8e27ed5" title="defining an operation in an automaton definition that is not allowed there. Usage error !...">NotAllowedOperation</a>);
<a name="l03009"></a>03009                         m_size--;
<a name="l03010"></a>03010                 }
<a name="l03011"></a>03011 
<a name="l03015"></a>03015                 Element&amp; operator[]( std::size_t idx)
<a name="l03016"></a>03016                 {
<a name="l03017"></a>03017                         <span class="keywordflow">if</span> (idx &gt;= m_size) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ae4469d6f9cf53ee4331327e8a44f4196" title="invalid array access. Internal textwold error !">ArrayBoundsReadWrite</a>);
<a name="l03018"></a>03018                         <span class="keywordflow">return</span> m_ar[ idx];
<a name="l03019"></a>03019                 }
<a name="l03020"></a>03020 
<a name="l03023"></a>03023                 Element&amp; back()
<a name="l03024"></a>03024                 {
<a name="l03025"></a>03025                         <span class="keywordflow">if</span> (m_size == 0) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ae4469d6f9cf53ee4331327e8a44f4196" title="invalid array access. Internal textwold error !">ArrayBoundsReadWrite</a>);
<a name="l03026"></a>03026                         <span class="keywordflow">return</span> m_ar[ m_size-1];
<a name="l03027"></a>03027                 }
<a name="l03028"></a>03028 
<a name="l03031"></a>03031                 <span class="keywordtype">void</span> resize( std::size_t p_size)
<a name="l03032"></a>03032                 {
<a name="l03033"></a>03033                         <span class="keywordflow">if</span> (p_size &gt; m_size) <span class="keywordflow">throw</span> exception( <a class="code" href="structtextwolf_1_1throws__exception.html#aa2ca687050bf21caa57936fe400f59f0ae4469d6f9cf53ee4331327e8a44f4196" title="invalid array access. Internal textwold error !">ArrayBoundsReadWrite</a>);
<a name="l03034"></a>03034                         m_size = p_size;
<a name="l03035"></a>03035                 }
<a name="l03036"></a>03036                 std::size_t size()<span class="keyword"> const  </span>{<span class="keywordflow">return</span> m_size;}
<a name="l03037"></a>03037                 <span class="keywordtype">bool</span> empty()<span class="keyword"> const                      </span>{<span class="keywordflow">return</span> m_size==0;}
<a name="l03038"></a>03038         };
<a name="l03039"></a>03039 
<a name="l03040"></a>03040         Array&lt;Scope&gt; scopestk;          
<a name="l03041"></a>03041         Array&lt;unsigned int&gt; follows;    
<a name="l03042"></a>03042         Array&lt;int&gt; triggers;            
<a name="l03043"></a>03043         Array&lt;Token&gt; tokens;            
<a name="l03044"></a>03044 
<a name="l03047"></a>03047         <span class="keyword">struct </span>Context
<a name="l03048"></a>03048         {
<a name="l03049"></a>03049                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> type;       
<a name="l03050"></a>03050                 <span class="keyword">const</span> <span class="keywordtype">char</span>* key;                        
<a name="l03051"></a>03051                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keysize;                   
<a name="l03052"></a>03052                 <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Scope.html" title="Tag scope definition.">Scope</a> scope;                            
<a name="l03053"></a>03053                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> scope_iter;                
<a name="l03054"></a>03054 
<a name="l03056"></a>03056                 Context()                               :type(<a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a63af29540f5188467ecb666899849957" title="content element string (separated by spaces or end of line)">XMLScannerBase::Content</a>),key(0),keysize(0) {}
<a name="l03057"></a>03057 
<a name="l03062"></a>03062                 <span class="keywordtype">void</span> init( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> p_type, <span class="keyword">const</span> <span class="keywordtype">char</span>* p_key, <span class="keywordtype">int</span> p_keysize)
<a name="l03063"></a>03063                 {
<a name="l03064"></a>03064                         type = p_type;
<a name="l03065"></a>03065                         key = p_key;
<a name="l03066"></a>03066                         keysize = p_keysize;
<a name="l03067"></a>03067                         scope_iter = scope.range.tokenidx_from;
<a name="l03068"></a>03068                 }
<a name="l03069"></a>03069         };
<a name="l03070"></a>03070         Context context;                
<a name="l03071"></a>03071 
<a name="l03074"></a>03074         <span class="keywordtype">void</span> expand( <span class="keywordtype">int</span> stateidx)
<a name="l03075"></a>03075         {
<a name="l03076"></a>03076                 <span class="keywordflow">while</span> (stateidx!=-1)
<a name="l03077"></a>03077                 {
<a name="l03078"></a>03078                         <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; st = atm-&gt;<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ stateidx];
<a name="l03079"></a>03079                         context.scope.mask.join( st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.mask);
<a name="l03080"></a>03080                         <span class="keywordflow">if</span> (st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.mask.empty() &amp;&amp; st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.typeidx != 0)
<a name="l03081"></a>03081                         {
<a name="l03082"></a>03082                                 triggers.push_back( st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.typeidx);
<a name="l03083"></a>03083                         }
<a name="l03084"></a>03084                         <span class="keywordflow">else</span>
<a name="l03085"></a>03085                         {
<a name="l03086"></a>03086                                 <span class="keywordflow">if</span> (st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.follow)
<a name="l03087"></a>03087                                 {
<a name="l03088"></a>03088                                         context.scope.followMask.join( st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a34a8f9a881d756323734744bcfd6f1aa" title="core of the state (the part used in processing)">core</a>.mask);
<a name="l03089"></a>03089                                         follows.push_back( tokens.size());
<a name="l03090"></a>03090                                 }
<a name="l03091"></a>03091                                 tokens.push_back( <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>( st, stateidx));
<a name="l03092"></a>03092                         }
<a name="l03093"></a>03093                         stateidx = st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a1fda78d8f5c8bd1300469182074bc94a" title="alternative state to check">link</a>;
<a name="l03094"></a>03094                 }
<a name="l03095"></a>03095         }
<a name="l03096"></a>03096 
<a name="l03101"></a>03101         <span class="keywordtype">void</span> initProcessElement( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> type, <span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keywordtype">int</span> keysize)
<a name="l03102"></a>03102         {
<a name="l03103"></a>03103                 <span class="keywordflow">if</span> (context.type == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>)
<a name="l03104"></a>03104                 {
<a name="l03105"></a>03105                         <span class="comment">//last step of open scope has to be done after all tokens were visited,</span>
<a name="l03106"></a>03106                         <span class="comment">//e.g. with the next element initialization</span>
<a name="l03107"></a>03107                         context.scope.range.tokenidx_from = context.scope.range.tokenidx_to;
<a name="l03108"></a>03108                 }
<a name="l03109"></a>03109                 context.scope.range.tokenidx_to = tokens.size();
<a name="l03110"></a>03110                 context.scope.range.followidx = follows.size();
<a name="l03111"></a>03111                 context.init( type, key, keysize);
<a name="l03112"></a>03112 
<a name="l03113"></a>03113                 <span class="keywordflow">if</span> (type == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>)
<a name="l03114"></a>03114                 {
<a name="l03115"></a>03115                         <span class="comment">//first step of open scope saves the context context on stack</span>
<a name="l03116"></a>03116                         scopestk.push_back( context.scope);
<a name="l03117"></a>03117                         context.scope.mask = context.scope.followMask;
<a name="l03118"></a>03118                         context.scope.mask.match( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aa94cf1e86e5ba4b6db24b51681b15fb2" title="open tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla...&quot;)">XMLScannerBase::OpenTag</a>);
<a name="l03119"></a>03119                         <span class="comment">//... we reset the mask but ensure that this &#39;OpenTag&#39; is processed for sure</span>
<a name="l03120"></a>03120                 }
<a name="l03121"></a>03121                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329aab57b42674c0f6ee8e92c3cf7c702cec" title="close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;/bla&amp;gt;&quot;)">XMLScannerBase::CloseTag</a> || type == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329a97df16f73186fd52ddcfc240189a72d7" title="immediate close tag (e.g. &quot;bla&quot; for &quot;&amp;lt;bla /&amp;gt;&quot;)">XMLScannerBase::CloseTagIm</a>)
<a name="l03122"></a>03122                 {
<a name="l03123"></a>03123                         <span class="keywordflow">if</span> (!scopestk.empty())
<a name="l03124"></a>03124                         {
<a name="l03125"></a>03125                                 context.scope = scopestk.back();
<a name="l03126"></a>03126                                 scopestk.pop_back();
<a name="l03127"></a>03127                                 follows.resize( context.scope.range.followidx);
<a name="l03128"></a>03128                                 tokens.resize( context.scope.range.tokenidx_to);
<a name="l03129"></a>03129                         }
<a name="l03130"></a>03130                 }
<a name="l03131"></a>03131         }
<a name="l03132"></a>03132 
<a name="l03136"></a>03136         <span class="keywordtype">void</span> produce( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tokenidx, <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; st)
<a name="l03137"></a>03137         {
<a name="l03138"></a>03138                 <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>&amp; tk = tokens[ tokenidx];
<a name="l03139"></a>03139                 <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_end == -1)
<a name="l03140"></a>03140                 {
<a name="l03141"></a>03141                         expand( st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>);
<a name="l03142"></a>03142                 }
<a name="l03143"></a>03143                 <span class="keywordflow">else</span>
<a name="l03144"></a>03144                 {
<a name="l03145"></a>03145                         <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_end &gt; 0)
<a name="l03146"></a>03146                         {
<a name="l03147"></a>03147                                 <span class="keywordflow">if</span> (--tokens[ tokenidx].core.cnt_end == 0)
<a name="l03148"></a>03148                                 {
<a name="l03149"></a>03149                                         tokens[ tokenidx].core.mask.reset();
<a name="l03150"></a>03150                                 }
<a name="l03151"></a>03151                                 <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_start &lt;= 0)
<a name="l03152"></a>03152                                 {
<a name="l03153"></a>03153                                         expand( st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#ac175a5be7244fae19e5161ec1252e29c" title="follow state">next</a>);
<a name="l03154"></a>03154                                 }
<a name="l03155"></a>03155                                 <span class="keywordflow">else</span>
<a name="l03156"></a>03156                                 {
<a name="l03157"></a>03157                                         --tokens[ tokenidx].core.cnt_start;
<a name="l03158"></a>03158                                 }
<a name="l03159"></a>03159                         }
<a name="l03160"></a>03160                 }
<a name="l03161"></a>03161         }
<a name="l03162"></a>03162 
<a name="l03166"></a>03166         <span class="keywordtype">int</span> match( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tokenidx)
<a name="l03167"></a>03167         {
<a name="l03168"></a>03168                 <span class="keywordtype">int</span> rt = 0;
<a name="l03169"></a>03169                 <span class="keywordflow">if</span> (context.key != 0)
<a name="l03170"></a>03170                 {
<a name="l03171"></a>03171                         <span class="keywordflow">if</span> (tokenidx &gt;= context.scope.range.tokenidx_to) <span class="keywordflow">return</span> 0;
<a name="l03172"></a>03172 
<a name="l03173"></a>03173                         <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html" title="Active or passive but still valid token of the XML processing (this is a trigger waiting to match)...">Token</a>&amp; tk = tokens[ tokenidx];
<a name="l03174"></a>03174                         <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.mask.matches( context.type))
<a name="l03175"></a>03175                         {
<a name="l03176"></a>03176                                 <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html" title="State of an automaton in its definition.">State</a>&amp; st = atm-&gt;<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>[ tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#ae110776d8c9381a05c76a62e99d8018f" title="index into the automaton, poiting to the state">stateidx</a>];
<a name="l03177"></a>03177                                 <span class="keywordflow">if</span> (st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>)
<a name="l03178"></a>03178                                 {
<a name="l03179"></a>03179                                         <span class="keywordflow">if</span> (st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a09add5bcd12d31ac51afcea19bbe8102" title="key size of the element">keysize</a> == context.keysize)
<a name="l03180"></a>03180                                         {
<a name="l03181"></a>03181                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii;
<a name="l03182"></a>03182                                                 <span class="keywordflow">for</span> (ii=0; ii&lt;context.keysize &amp;&amp; st.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1State.html#a96ca8fc3d57eb03ec5fbe1d7f04d430d" title="key of the element">key</a>[ii] == context.key[ii]; ii++);
<a name="l03183"></a>03183                                                 <span class="keywordflow">if</span> (ii==context.keysize)
<a name="l03184"></a>03184                                                 {
<a name="l03185"></a>03185                                                         produce( tokenidx, st);
<a name="l03186"></a>03186                                                 }
<a name="l03187"></a>03187                                         }
<a name="l03188"></a>03188                                 }
<a name="l03189"></a>03189                                 <span class="keywordflow">else</span>
<a name="l03190"></a>03190                                 {
<a name="l03191"></a>03191                                         produce( tokenidx, st);
<a name="l03192"></a>03192                                 }
<a name="l03193"></a>03193                                 <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.typeidx != 0)
<a name="l03194"></a>03194                                 {
<a name="l03195"></a>03195                                         <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_end == -1)
<a name="l03196"></a>03196                                         {
<a name="l03197"></a>03197                                                 rt = tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.typeidx;
<a name="l03198"></a>03198                                         }
<a name="l03199"></a>03199                                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_end &gt; 0)
<a name="l03200"></a>03200                                         {
<a name="l03201"></a>03201                                                 <span class="keywordflow">if</span> (--tokens[ tokenidx].core.cnt_end == 0)
<a name="l03202"></a>03202                                                 {
<a name="l03203"></a>03203                                                         tokens[ tokenidx].core.mask.reset();
<a name="l03204"></a>03204                                                 }
<a name="l03205"></a>03205                                                 <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.cnt_start &lt;= 0)
<a name="l03206"></a>03206                                                 {
<a name="l03207"></a>03207                                                         rt = tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.typeidx;
<a name="l03208"></a>03208                                                 }
<a name="l03209"></a>03209                                                 <span class="keywordflow">else</span>
<a name="l03210"></a>03210                                                 {
<a name="l03211"></a>03211                                                         --tokens[ tokenidx].core.cnt_start;
<a name="l03212"></a>03212                                                 }
<a name="l03213"></a>03213                                         }
<a name="l03214"></a>03214                                 }
<a name="l03215"></a>03215                         }
<a name="l03216"></a>03216                         <span class="keywordflow">if</span> (tk.<a class="code" href="structtextwolf_1_1XMLPathSelectAutomaton_1_1Token.html#a93e2a6d96fbfb7f41c18b29d568a9670" title="core of the state">core</a>.mask.rejects( context.type))
<a name="l03217"></a>03217                         {
<a name="l03218"></a>03218                                 <span class="comment">//The token must not match anymore after encountering a reject item</span>
<a name="l03219"></a>03219                                 tokens[ tokenidx].core.mask.reset();
<a name="l03220"></a>03220                         }
<a name="l03221"></a>03221                 }
<a name="l03222"></a>03222                 <span class="keywordflow">return</span> rt;
<a name="l03223"></a>03223         }
<a name="l03224"></a>03224 
<a name="l03227"></a>03227         <span class="keywordtype">int</span> fetch()
<a name="l03228"></a>03228         {
<a name="l03229"></a>03229                 <span class="keywordtype">int</span> type = 0;
<a name="l03230"></a>03230 
<a name="l03231"></a>03231                 <span class="keywordflow">if</span> (context.scope.mask.matches( context.type))
<a name="l03232"></a>03232                 {
<a name="l03233"></a>03233                         <span class="keywordflow">while</span> (!type)
<a name="l03234"></a>03234                         {
<a name="l03235"></a>03235                                 <span class="keywordflow">if</span> (context.scope_iter &lt; context.scope.range.tokenidx_to)
<a name="l03236"></a>03236                                 {
<a name="l03237"></a>03237                                         type = match( context.scope_iter);
<a name="l03238"></a>03238                                         ++context.scope_iter;
<a name="l03239"></a>03239                                 }
<a name="l03240"></a>03240                                 <span class="keywordflow">else</span>
<a name="l03241"></a>03241                                 {
<a name="l03242"></a>03242                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ii = context.scope_iter - context.scope.range.tokenidx_to;
<a name="l03243"></a>03243                                         <span class="comment">//we match all follows that are not yet been checked in the current scope</span>
<a name="l03244"></a>03244                                         <span class="keywordflow">if</span> (ii &lt; context.scope.range.followidx &amp;&amp; context.scope.range.tokenidx_from &gt; follows[ ii])
<a name="l03245"></a>03245                                         {
<a name="l03246"></a>03246                                                 type = match( follows[ ii]);
<a name="l03247"></a>03247                                                 ++context.scope_iter;
<a name="l03248"></a>03248                                         }
<a name="l03249"></a>03249                                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!triggers.empty())
<a name="l03250"></a>03250                                         {
<a name="l03251"></a>03251                                                 type = triggers.back();
<a name="l03252"></a>03252                                                 triggers.pop_back();
<a name="l03253"></a>03253                                         }
<a name="l03254"></a>03254                                         <span class="keywordflow">else</span>
<a name="l03255"></a>03255                                         {
<a name="l03256"></a>03256                                                 context.key = 0;
<a name="l03257"></a>03257                                                 context.keysize = 0;
<a name="l03258"></a>03258                                                 <span class="keywordflow">return</span> 0; <span class="comment">//end of all candidates</span>
<a name="l03259"></a>03259                                         }
<a name="l03260"></a>03260                                 }
<a name="l03261"></a>03261                         }
<a name="l03262"></a>03262                 }
<a name="l03263"></a>03263                 <span class="keywordflow">else</span>
<a name="l03264"></a>03264                 {
<a name="l03265"></a>03265                         context.key = 0;
<a name="l03266"></a>03266                         context.keysize = 0;
<a name="l03267"></a>03267                 }
<a name="l03268"></a>03268                 <span class="keywordflow">return</span> type;
<a name="l03269"></a>03269         }
<a name="l03270"></a>03270 
<a name="l03271"></a>03271 <span class="keyword">public</span>:
<a name="l03277"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#ae917cd491f41a7f7e04bbf054ed0faef">03277</a>         <a class="code" href="classtextwolf_1_1XMLPathSelect.html#ae917cd491f41a7f7e04bbf054ed0faef" title="Constructor.">XMLPathSelect</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">ThisXMLPathSelectAutomaton</a>* p_atm, InputIterator&amp; p_src, OutputBuffer&amp; obuf, <span class="keyword">const</span> EntityMap&amp; entityMap)
<a name="l03278"></a>03278                 :scan(p_src,obuf,entityMap),atm(p_atm),scopestk(p_atm-&gt;maxScopeStackSize),follows(p_atm-&gt;maxFollows),triggers(p_atm-&gt;maxTriggers),tokens(p_atm-&gt;maxTokens)
<a name="l03279"></a>03279         {
<a name="l03280"></a>03280                 <span class="keywordflow">if</span> (atm-&gt;<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size() &gt; 0) expand(0);
<a name="l03281"></a>03281         }
<a name="l03286"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#ab34f05692e37bc3f7e1569520d48f742">03286</a>         <a class="code" href="classtextwolf_1_1XMLPathSelect.html#ae917cd491f41a7f7e04bbf054ed0faef" title="Constructor.">XMLPathSelect</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html" title="Automaton to define XML path expressions and assign types (int values) to them.">ThisXMLPathSelectAutomaton</a>* p_atm, InputIterator&amp; p_src, OutputBuffer&amp; obuf)
<a name="l03287"></a>03287                 :scan(p_src,obuf),atm(p_atm),scopestk(p_atm-&gt;maxScopeStackSize),follows(p_atm-&gt;maxFollows),triggers(p_atm-&gt;maxTriggers),tokens(p_atm-&gt;maxTokens)
<a name="l03288"></a>03288         {
<a name="l03289"></a>03289                 <span class="keywordflow">if</span> (atm-&gt;<a class="code" href="classtextwolf_1_1XMLPathSelectAutomaton.html#abec1aa88802bed73ab343c5da34bea03" title="the states of the statemachine">states</a>.size() &gt; 0) expand(0);
<a name="l03290"></a>03290         }
<a name="l03293"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#a20c76aa6d367cf44c08b07f87c7b892f">03293</a>         <a class="code" href="classtextwolf_1_1XMLPathSelect.html#ae917cd491f41a7f7e04bbf054ed0faef" title="Constructor.">XMLPathSelect</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">XMLPathSelect</a>&amp; o)
<a name="l03294"></a>03294                 :scan(o.scan),atm(o.atm),scopestk(o.maxScopeStackSize),follows(o.maxFollows),follows(o.maxTriggers),tokens(o.maxTokens){}
<a name="l03295"></a>03295 
<a name="l03298"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#a1e735dad890055a87bc11672f1d8223a">03298</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLPathSelect.html#a1e735dad890055a87bc11672f1d8223a" title="Redefine the buffer to use for output.">setOutputBuffer</a>( OutputBuffer&amp; p_outputBuf)
<a name="l03299"></a>03299         {
<a name="l03300"></a>03300                 scan.<a class="code" href="classtextwolf_1_1XMLScanner.html#a2336eeb5cbf02ebfc11fe5d4d2c64342" title="Redefine the buffer to use for output.">setOutputBuffer</a>( p_outputBuf);
<a name="l03301"></a>03301         }
<a name="l03302"></a>03302 
<a name="l03305"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#a6185947426c2d5279e5ca45ef7c265b4">03305</a>         <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLPathSelect.html#a6185947426c2d5279e5ca45ef7c265b4" title="Set the tokenization behaviour.">doTokenize</a>( <span class="keywordtype">bool</span> v)
<a name="l03306"></a>03306         {
<a name="l03307"></a>03307                 scan.<a class="code" href="classtextwolf_1_1XMLScanner.html#a3ba2382c99347148fe07497ee1325bac" title="Set the tokenization behaviour.">doTokenize</a>(v);
<a name="l03308"></a>03308         }
<a name="l03309"></a>03309 
<a name="l03312"></a><a class="code" href="structtextwolf_1_1XMLPathSelect_1_1End.html">03312</a>         <span class="keyword">struct </span><a class="code" href="structtextwolf_1_1XMLPathSelect_1_1End.html" title="end of input iterator for the output of this XMLScanner">End</a> {};
<a name="l03313"></a>03313 
<a name="l03316"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html">03316</a>         <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>
<a name="l03317"></a>03317         {
<a name="l03318"></a>03318         <span class="keyword">public</span>:
<a name="l03321"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html">03321</a>                 <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>
<a name="l03322"></a>03322                 {
<a name="l03323"></a>03323                 <span class="keyword">public</span>:
<a name="l03326"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224b">03326</a>                         <span class="keyword">enum</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224b">State</a>
<a name="l03327"></a>03327                         {
<a name="l03328"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba0eb3cf97bc09620b6c72657efa27118d">03328</a>                                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba0eb3cf97bc09620b6c72657efa27118d" title="normal">Ok</a>,                             
<a name="l03329"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba09e6ee93f6a4f408c3a95293b6acefcd">03329</a>                                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba09e6ee93f6a4f408c3a95293b6acefcd" title="end of output triggered">EndOfOutput</a>,    
<a name="l03330"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224bac023e7ca3d39aaf215f986f00421dd9b">03330</a>                                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224bac023e7ca3d39aaf215f986f00421dd9b" title="end of input triggered">EndOfInput</a>,             
<a name="l03331"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba6bc2cdefbf4f0dc6f6ec138baf652b9e">03331</a>                                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba6bc2cdefbf4f0dc6f6ec138baf652b9e" title="error occurred (identifier as string is in the output token buffer)">ErrorState</a>              
<a name="l03332"></a>03332                         };
<a name="l03333"></a>03333 
<a name="l03335"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a32c2072f46e55c0f7aac05f223dd4ba9">03335</a>                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a32c2072f46e55c0f7aac05f223dd4ba9" title="Constructor.">Element</a>()                               :m_state(<a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba0eb3cf97bc09620b6c72657efa27118d" title="normal">Ok</a>),m_type(0),m_content(0),m_size(0) {}
<a name="l03337"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a2e4faed35c9bdba5460511a9ab9935e6">03337</a>                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a2e4faed35c9bdba5460511a9ab9935e6" title="Constructor for content end iterator.">Element</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelect_1_1End.html" title="end of input iterator for the output of this XMLScanner">End</a>&amp;)                    :m_state(<a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224bac023e7ca3d39aaf215f986f00421dd9b" title="end of input triggered">EndOfInput</a>),m_type(0),m_content(0),m_size(0) {}
<a name="l03340"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a306200a5dc8ad61b8872bb141c057166">03340</a>                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a306200a5dc8ad61b8872bb141c057166" title="Copy constructor.">Element</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>&amp; orig)           :m_state(orig.m_state),m_type(orig.m_type),m_content(orig.m_content),m_size(orig.m_size) {}
<a name="l03342"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#aa4f613f380cca6f4cb89cabc54f871e4">03342</a>                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224b">State</a> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#aa4f613f380cca6f4cb89cabc54f871e4" title="Get the iterator state.">state</a>()<span class="keyword"> const                     </span>{<span class="keywordflow">return</span> m_state;}
<a name="l03344"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a51da33af8831ef9e1363dcd4f5d1e3d6">03344</a>                         <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a51da33af8831ef9e1363dcd4f5d1e3d6" title="Get the currently visited element type.">type</a>()<span class="keyword"> const                        </span>{<span class="keywordflow">return</span> m_type;}
<a name="l03346"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a4d7839e7a2ee2fcc17b94bf71ee2ead6">03346</a>                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a4d7839e7a2ee2fcc17b94bf71ee2ead6" title="Get the currently visited element content.">content</a>()<span class="keyword"> const             </span>{<span class="keywordflow">return</span> m_content;}
<a name="l03348"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a65241c1fc0b8ba356e8095291220675b">03348</a>                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a65241c1fc0b8ba356e8095291220675b" title="Get the size of the content of the currently visited element in bytes.">size</a>()<span class="keyword"> const               </span>{<span class="keywordflow">return</span> m_size;}
<a name="l03349"></a>03349                 <span class="keyword">private</span>:
<a name="l03350"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#a67171474c4da6cc8efe0c7fafefd2b2d">03350</a>                         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>;          
<a name="l03351"></a>03351                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224b">State</a> m_state;                  
<a name="l03352"></a>03352                         <span class="keywordtype">int</span> m_type;                     
<a name="l03353"></a>03353                         <span class="keyword">const</span> <span class="keywordtype">char</span>* m_content;          
<a name="l03354"></a>03354                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_size;            
<a name="l03355"></a>03355                 };
<a name="l03356"></a>03356                 <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">value_type</a>;
<a name="l03357"></a>03357                 <span class="keyword">typedef</span> std::size_t difference_type;
<a name="l03358"></a>03358                 <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>* <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">pointer</a>;
<a name="l03359"></a>03359                 <span class="keyword">typedef</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>&amp; <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">reference</a>;
<a name="l03360"></a>03360                 <span class="keyword">typedef</span> std::input_iterator_tag iterator_category;
<a name="l03361"></a>03361 
<a name="l03362"></a>03362         <span class="keyword">private</span>:
<a name="l03363"></a>03363                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a> element;                
<a name="l03364"></a>03364                 <a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">ThisXMLPathSelect</a>* input;               
<a name="l03365"></a>03365 
<a name="l03368"></a>03368                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; skip() throw(exception)
<a name="l03369"></a>03369                 {
<a name="l03370"></a>03370                         <span class="keywordflow">if</span> (input != 0)
<a name="l03371"></a>03371                         {
<a name="l03372"></a>03372                                 <span class="keywordflow">do</span>
<a name="l03373"></a>03373                                 {
<a name="l03374"></a>03374                                         <span class="keywordflow">if</span> (!input-&gt;context.key)
<a name="l03375"></a>03375                                         {
<a name="l03376"></a>03376                                                 <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329" title="Enumeration of XML element types returned by an XML scanner.">XMLScannerBase::ElementType</a> et = input-&gt;scan.<a class="code" href="classtextwolf_1_1XMLScanner.html#a3b70b3cbcacd2b017038b8a4be922bd0" title="Scan the next XML element.">nextItem</a>( input-&gt;context.scope.mask.pos);
<a name="l03377"></a>03377                                                 <span class="keywordflow">if</span> (et == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329ad5a3d0d15f37c3483fdc5321f5baf2b7" title="end of document">XMLScannerBase::Exit</a>)
<a name="l03378"></a>03378                                                 {
<a name="l03379"></a>03379                                                         <span class="keywordflow">if</span> (input-&gt;scopestk.size() == 0)
<a name="l03380"></a>03380                                                         {
<a name="l03381"></a>03381                                                                 element.m_state = <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224bac023e7ca3d39aaf215f986f00421dd9b" title="end of input triggered">Element::EndOfInput</a>;
<a name="l03382"></a>03382                                                         }
<a name="l03383"></a>03383                                                         <span class="keywordflow">else</span>
<a name="l03384"></a>03384                                                         {
<a name="l03385"></a>03385                                                                 element.m_state = <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba6bc2cdefbf4f0dc6f6ec138baf652b9e" title="error occurred (identifier as string is in the output token buffer)">Element::ErrorState</a>;
<a name="l03386"></a>03386                                                                 element.m_content = <a class="code" href="classtextwolf_1_1XMLScannerBase.html#a583151f1bc3a1b03e0d616618917c866" title="Get the error code as string.">XMLScannerBase::getErrorString</a>( <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba52fec157b20cde2c69433fc3b705bafa" title="unexpected end of input stream">XMLScannerBase::ErrUnexpectedEndOfInput</a>);
<a name="l03387"></a>03387                                                         }
<a name="l03388"></a>03388                                                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03389"></a>03389                                                 }
<a name="l03390"></a>03390                                                 <span class="keywordflow">if</span> (et == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#aae4f0cdb7e16aca5fdee271fa60e1329add5d6b79ae0dd25f900d4a3bc4463152" title="XML scanning error error reported.">XMLScannerBase::ErrorOccurred</a>)
<a name="l03391"></a>03391                                                 {
<a name="l03392"></a>03392                                                         <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78b" title="Enumeration of XML scanner error codes.">XMLScannerBase::Error</a> err = input-&gt;scan.getError( &amp;element.m_content);
<a name="l03393"></a>03393                                                         <span class="keywordflow">if</span> (err == <a class="code" href="classtextwolf_1_1XMLScannerBase.html#ae26e6510c822ee35e041ab2dab70e78ba0508d0db399a1284b89d31d3f8781088" title="scaned element in XML to big to fit in the buffer provided for it">XMLScannerBase::ErrOutputBufferTooSmall</a>)
<a name="l03394"></a>03394                                                         {
<a name="l03395"></a>03395                                                                 element.m_state = <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba09e6ee93f6a4f408c3a95293b6acefcd" title="end of output triggered">Element::EndOfOutput</a>;
<a name="l03396"></a>03396                                                         }
<a name="l03397"></a>03397                                                         <span class="keywordflow">else</span>
<a name="l03398"></a>03398                                                         {
<a name="l03399"></a>03399                                                                 element.m_state = <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba6bc2cdefbf4f0dc6f6ec138baf652b9e" title="error occurred (identifier as string is in the output token buffer)">Element::ErrorState</a>;
<a name="l03400"></a>03400                                                         }
<a name="l03401"></a>03401                                                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03402"></a>03402                                                 }
<a name="l03403"></a>03403                                                 input-&gt;initProcessElement( et, input-&gt;scan.getItem(), input-&gt;scan.getItemSize());
<a name="l03404"></a>03404                                         }
<a name="l03405"></a>03405                                         element.m_type = input-&gt;fetch();
<a name="l03406"></a>03406 
<a name="l03407"></a>03407                                 } <span class="keywordflow">while</span> (element.m_type == 0);
<a name="l03408"></a>03408 
<a name="l03409"></a>03409                                 element.m_content = input-&gt;context.key;
<a name="l03410"></a>03410                                 element.m_size = input-&gt;context.keysize;
<a name="l03411"></a>03411                         }
<a name="l03412"></a>03412                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03413"></a>03413                 }
<a name="l03417"></a>03417                 <span class="keywordtype">bool</span> compare( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8ab38f63e680820ecaef10886c5e6ca2" title="Constructor.">iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l03418"></a>03418 <span class="keyword">                </span>{
<a name="l03419"></a>03419                         <span class="keywordflow">return</span> (element.<a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#aa4f613f380cca6f4cb89cabc54f871e4" title="Get the iterator state.">state</a>() != <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba0eb3cf97bc09620b6c72657efa27118d" title="normal">Element::Ok</a> &amp;&amp; iter.element.state() != <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html#ab19a0cf3eb31bdd67b3139671a2a224ba0eb3cf97bc09620b6c72657efa27118d" title="normal">Element::Ok</a>);
<a name="l03420"></a>03420                 }
<a name="l03421"></a>03421         <span class="keyword">public</span>:
<a name="l03424"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a1f88681a14a209a9ba560191fb14b3ae">03424</a>                 <span class="keywordtype">void</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a1f88681a14a209a9ba560191fb14b3ae" title="Assign iterator.">assign</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; orig)
<a name="l03425"></a>03425                 {
<a name="l03426"></a>03426                         input = orig.input;
<a name="l03427"></a>03427                         element = orig.element;
<a name="l03428"></a>03428                 }
<a name="l03429"></a>03429 
<a name="l03432"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8f42f4a6355034df60041d7cb8d192b9">03432</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8ab38f63e680820ecaef10886c5e6ca2" title="Constructor.">iterator</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; orig)
<a name="l03433"></a>03433                 {
<a name="l03434"></a>03434                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a1f88681a14a209a9ba560191fb14b3ae" title="Assign iterator.">assign</a>( orig);
<a name="l03435"></a>03435                 }
<a name="l03436"></a>03436 
<a name="l03440"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a40d3be641c9b8e78bbb1702e798b20d0">03440</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8ab38f63e680820ecaef10886c5e6ca2" title="Constructor.">iterator</a>( <a class="code" href="classtextwolf_1_1XMLPathSelect.html" title="XML path select template.">ThisXMLPathSelect</a>&amp; p_input, <span class="keywordtype">bool</span> skipToFirst=<span class="keyword">true</span>)
<a name="l03441"></a>03441                                 :input( &amp;p_input)
<a name="l03442"></a>03442                 {
<a name="l03443"></a>03443                         <span class="keywordflow">if</span> (skipToFirst) skip();
<a name="l03444"></a>03444                 }
<a name="l03445"></a>03445 
<a name="l03448"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ae1cb3dcc402f89c31410936bce7f8a30">03448</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ae1cb3dcc402f89c31410936bce7f8a30" title="Constructor.">iterator</a>( <span class="keyword">const</span> <a class="code" href="structtextwolf_1_1XMLPathSelect_1_1End.html" title="end of input iterator for the output of this XMLScanner">End</a>&amp; et)        :element(et),input(0) {}
<a name="l03449"></a>03449 
<a name="l03451"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8ab38f63e680820ecaef10886c5e6ca2">03451</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a8ab38f63e680820ecaef10886c5e6ca2" title="Constructor.">iterator</a>()                      :input(0) {}
<a name="l03452"></a>03452 
<a name="l03456"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#af4e14752d86729d1101865444fe26bba">03456</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#af4e14752d86729d1101865444fe26bba" title="Assignement.">operator = </a>(<span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; orig)
<a name="l03457"></a>03457                 {
<a name="l03458"></a>03458                         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a1f88681a14a209a9ba560191fb14b3ae" title="Assign iterator.">assign</a>( orig);
<a name="l03459"></a>03459                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03460"></a>03460                 }
<a name="l03461"></a>03461 
<a name="l03464"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#af7073201656eeb3cb85a979092edbe8a">03464</a>                 <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>&amp; <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#af7073201656eeb3cb85a979092edbe8a" title="Element acceess.">operator*</a>()
<a name="l03465"></a>03465                 {
<a name="l03466"></a>03466                         <span class="keywordflow">return</span> element;
<a name="l03467"></a>03467                 }
<a name="l03468"></a>03468 
<a name="l03471"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ae8c2522dae0e5742e07d53ebc79e81aa">03471</a>                 <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator_1_1Element.html" title="visited current element data of the iterator">Element</a>* <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ae8c2522dae0e5742e07d53ebc79e81aa" title="Element acceess.">operator-&gt;</a>()
<a name="l03472"></a>03472                 {
<a name="l03473"></a>03473                         <span class="keywordflow">return</span> &amp;element;
<a name="l03474"></a>03474                 }
<a name="l03475"></a>03475 
<a name="l03478"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a05c3f811f7eecc638d33815c0e961516">03478</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a05c3f811f7eecc638d33815c0e961516" title="Preincrement.">operator++</a>()          {<span class="keywordflow">return</span> skip();}
<a name="l03479"></a>03479 
<a name="l03482"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ab0134c12dab39d862ff797114ce1f028">03482</a>                 <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#ab0134c12dab39d862ff797114ce1f028" title="Postincrement.">operator++</a>(<span class="keywordtype">int</span>)        {<a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a> tmp(*<span class="keyword">this</span>); skip(); <span class="keywordflow">return</span> tmp;}
<a name="l03483"></a>03483 
<a name="l03486"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#add7021032b94b7f9108197a0135f5ce2">03486</a>                 <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#add7021032b94b7f9108197a0135f5ce2" title="Compare elements for equality.">operator==</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; iter)<span class="keyword"> const    </span>{<span class="keywordflow">return</span> compare( iter);}
<a name="l03487"></a>03487 
<a name="l03490"></a><a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a4c6802cbbc147f447de8b9035738e306">03490</a>                 <span class="keywordtype">bool</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html#a4c6802cbbc147f447de8b9035738e306" title="Compare elements for inequality.">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>&amp; iter)<span class="keyword"> const    </span>{<span class="keywordflow">return</span> !compare( iter);}
<a name="l03491"></a>03491         };
<a name="l03492"></a>03492 
<a name="l03495"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#a9ae01ed34b7aa1c749a5194618a2400c">03495</a>         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a> <a class="code" href="classtextwolf_1_1XMLPathSelect.html#a9ae01ed34b7aa1c749a5194618a2400c" title="Get the start iterator.">begin</a>( <span class="keywordtype">bool</span> skipToFirst=<span class="keyword">true</span>)
<a name="l03496"></a>03496         {
<a name="l03497"></a>03497                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>( *<span class="keyword">this</span>, skipToFirst);
<a name="l03498"></a>03498         }
<a name="l03499"></a>03499 
<a name="l03502"></a><a class="code" href="classtextwolf_1_1XMLPathSelect.html#a869349e90e8869d515538791cbd2d258">03502</a>         <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a> <a class="code" href="classtextwolf_1_1XMLPathSelect.html#a869349e90e8869d515538791cbd2d258" title="Get the end of content marker.">end</a>()
<a name="l03503"></a>03503         {
<a name="l03504"></a>03504                 <span class="keywordflow">return</span> <a class="code" href="classtextwolf_1_1XMLPathSelect_1_1iterator.html" title="input iterator for the output of this XMLScanner">iterator</a>( <a class="code" href="structtextwolf_1_1XMLPathSelect_1_1End.html" title="end of input iterator for the output of this XMLScanner">End</a>());
<a name="l03505"></a>03505         }
<a name="l03506"></a>03506 };
<a name="l03507"></a>03507 
<a name="l03510"></a>03510 } <span class="comment">//namespace textwolf</span>
<a name="l03511"></a>03511 <span class="preprocessor">#endif</span>
<a name="l03512"></a>03512 <span class="preprocessor"></span>
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Feb 28 2012 22:20:11 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
